<!DOCTYPE html>
<html lang="zh">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="theme-color" content=#ff00ff>
  <title>牛牛和小栗</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="author" content="小犹太的牛牛">
  <meta name="keywords" content="">
  <meta name="description" content="我们一直快乐幸福">
  <script id="hexo-configurations">
  var CONFIG = {
    root: '/',
    theme: 'lx',
    version: '0.3.9',
    localsearch:{
      "enable": true,
      "trigger": "auto",
      "top_n_per_article": 1,
      "unescape": false,
      "preload": false
      },
    path: 'search.xml'
  };
</script>

  <link rel="shortcut icon" href="/logo.jpg">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/theme-lx@0.3.9/source/css/main.min.css">
  <style type="text/css">
    pre,
    code {
      font-family: 'Fira Code', monospace;
    }
    html {
      font-family: sans-serif;
    }
    body {
      font-family: sans-serif;
    }
    h1, h2, h3, h4, h5, figure {
      font-family: sans-serif;
    }
    .menu-container{
      font-family: sans-serif;
    }
  </style>

  <script src="//cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/theme-lx@0.3.9/source/js/jquery.jside.menu.js"></script>
	<script>
	$(document).ready(function(){
	$(".menu-container").jSideMenu({
	    jSidePosition: "position-right",
	    jSideSticky: true,
	    jSideSkin: "pink",
	     });
	}); 
	</script>
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Fira Code:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/font-awesome@4/css/font-awesome.min.css">
<meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/rss2.xml" title="牛牛和小栗" type="application/rss+xml">
</head>
<body>
<div id="page">
<a href="javascript:;" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i></a>
<div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Search..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>

<div id="lx-aside" style="background-image: url(/images/123.jpeg)">
  <div class="overlay">
  <div class="featured">
    <div class="avatar"><a href="/"><img src="/images/avatar.jpg"></a></div>
    <span>小犹太的牛牛</span>
    <h1>牛牛和小栗</h1>
    <span>——牛牛和栗子的主页</span>
    <div class="social-links">
    <a href="function link() { [native code] }" target="_blank"><i class="fa fa- fa-fw"></i></a>
    <a href="function link() { [native code] }" target="_blank"><i class="fa fa- fa-fw"></i></a>
</div>
  </div>
  </div>
</div>

<div id="lx-main-content">
  <div class="lx-post">

  <div class="lx-entry padding">
    <div>
      <h2 class="title"><a href="/2021/05/20/MySQL%E7%94%A8%E6%88%B7%E3%80%81%E6%9D%83%E9%99%90%E5%8F%8A%E5%AF%86%E7%A0%81%E6%93%8D%E4%BD%9C/">MySQL用户、权限及密码操作</a></h2>
      <span class="lx-post-detail"><i class="fa fa-calendar-o"></i> 2021-05-20 | <i class="fa fa-folder-o"></i> <a class="category-link" href="/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/">网络安全</a></span>
      <p><h5 id="MySQL中对于用户的权限比较简单，本文主要是分为创建用户、修改用户权限、修改用户密码、删除用户等几部分，介绍MySQL对于用户权限的管理。"><a href="#MySQL中对于用户的权限比较简单，本文主要是分为创建用户、修改用户权限、修改用户密码、删除用户等几部分，介绍MySQL对于用户权限的管理。" class="headerlink" title="### MySQL中对于用户的权限比较简单，本文主要是分为创建用户、修改用户权限、修改用户密码、删除用户等几部分，介绍MySQL对于用户权限的管理。"></a>### MySQL中对于用户的权限比较简单，本文主要是分为创建用户、修改用户权限、修改用户密码、删除用户等几部分，介绍MySQL对于用户权限的管理。</h5><h2 id="1-创建用户"><a href="#1-创建用户" class="headerlink" title="1 创建用户"></a>1 创建用户</h2><p>###1.1 create user<br>格式如下:</p>
<p><code>CREATE USER &#39;username&#39;@&#39;hostname&#39; IDENTIFIED BY &#39;password&#39;;</code></p>
<p>其中，username为用户名；hostname为主机，localhost指本地用户，通配符%指可以从远程主机登陆用户，如果不指定host，则默认为%；password为密码，可以为空。</p>
<p>例如，创建用户名为user、密码为123456的用户，主机为本地，则</p>
<p><code>CREATE USER &#39;user&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;123456&#39;;</code></p>
<p>创建用户名为user、密码为123456的用户，主机为192.168.1.1，则</p>
<p><code>CREATE USER &#39;user&#39;@&#39;192.168.1.1&#39; IDENTIFIED BY &#39;123456&#39;;</code></p>
<p>创建用户名为user、密码为123456的用户，则</p>
<p><code>CREATE USER &#39;user&#39; IDENTIFIED BY &#39;123456&#39;;</code></p>
<p>创建用户名为user，则</p>
<p><code>CREATE USER user;</code></p>
<p>####注：这种方式需要登录mysql控制台，且登录用户需要CREATE USER权限。</p>
<h3 id="1-2-insert-into-mysql-user"><a href="#1-2-insert-into-mysql-user" class="headerlink" title="1.2 insert into mysql.user"></a>1.2 insert into mysql.user</h3><p>格式如下：</p>
<p><code>INSERT INTO mysql.user(host, user, password) VALUES(hostname, username, PASSWORD(password)); FLUSH PRIVILEGES;</code></p>
<p>其中，mysql.user是在mysql库中存储用户信息的user表，hostname表示主机名（localhost指本地用户，通配符%指可以从远程主机登陆用户），第二个password是密码（第一个password是字段）。</p>
<p>例如，创建用户名为user、密码为123456的用户，则</p>
<p><code>INSERT INTO mysql.user(host, user, password) VALUES(&#39;localhost&#39;, &#39;user&#39;, PASSWORD(&#39;123456&#39;)); FLUSH PRIVILEGES;</code><br>####注：因为这种方式是手动修改数据库，如果想要这种修改立马生效，还需执行FLUSH PRIVILEGES命令刷新用户权限列表，所以需要登录的用户有SELECT、UPDATE、RELOAD三种权限。</p>
<p>##2 修改用户权限<br>###2.1 为用户赋予权限<br>在MySQL中使用GRANT命令给用户授权，如果用户不存在，GRANT会自动创建用户，并进行授权。</p>
<p>格式如下：</p>
<p><code>GRANT privileges ON databases.tablename TO &#39;username&#39;@&#39;hostname&#39; [INDENTIFIED BY ‘password’];</code></p>
<p>其中，privileges表示具体的权限名称，多个权限间通过逗号隔开；databases表示数据库，使用<em>表示所有数据库；tablename表示表名，使用</em>表示所有表；username表示用户名；hostname表示主机名；password表示密码，[]中用于创建用户时为用户添加密码。</p>
<p>###2.2 常用权限</p>
<p>·表数据: select, update, delete, insert</p>
<p>·表结构: create, alert, drop</p>
<p>·外键: references</p>
<p>·创建临时表: create temporary tables</p>
<p>·操作索引: index</p>
<p>·视图: create view, show view</p>
<p>·存储过程: create routine, alert routine, execute</p>
<p>·所有权限: all<br>###2.3 权限表<br>·存储过程权限表: mysql.procs_priv</p>
<p>·列权限表: mysql.columns_priv</p>
<p>·表格权限表: mysql.tables_priv</p>
<p>·用户权限表: information_schema.user_privileges（字段grantee为授权者， 字段privilege_type为权限名称）</p>
<p>·用户信息及权限： mysql.user（后缀为_priv的字段的值与user_privileges的privilege_type一一对应）</p>
<p>###2.4 查看用户权限</p>
<p>查看用户权限可以通过查询上面的权限表的数据进行查询，或者通过show grants命令进行查询，格式如下：</p>
<p><code>SHOW GRANTS [FOR username@hostname]</code></p>
<p>其中，username表示用户名，hostname表示主机名，[]中的内容可以省略，是查询当前登录用户的权限。</p>
<p>###2.5 撤销权限</p>
<p>可以通过命令撤销某用户的某种权限，格式如下：</p>
<p><code>REVOKE privileges ON databease.table FROM username@hostname</code></p>
<p>撤销权限与赋予权限命令相似，区别在于将TO改为FROM。</p>
<p>##3 修改用户密码</p>
<p>###3.1 mysqladmin命令</p>
<p>格式如下：</p>
<p><code>mysqladmin -u USER -p password NEW_PASSWORD</code></p>
<p>其中，USER为用户名，NEW_PASSWORD为新密码。</p>
<p>该命令直接在命令行中执行，回车之后会提示输入原密码，输入正确后即可修改。</p>
<p>例如，设置用户user的密码为123456，原密码为654321，则</p>
<p><code>mysqladmin -u user -p password 123456 Enter password:******</code></p>
<p>####注：上面的**是自己输入的654321。</p>
<p>###3.2 SET PASSWORD 语句</p>
<p>格式如下：</p>
<p><code>SET PASSWORD FOR username@hostname=PASSWORD(&#39;password&#39;);</code></p>
<p>其中，username为用户名，hostname为指定的主机，password为新密码。</p>
<p>这种方式需要先登入mysql控制台，即通过正确用户名、密码登入。</p>
<p>例如：设置在localhost上的用户user的密码为123456，则</p>
<p><code>SET PASSWORD FOR user@localhost=PASSWORD(&#39;123456&#39;);</code></p>
<p>####注：通过这种方式修改自己的密码，可以只有基本的USAGE权限；如果修改其他人的密码，需要对mysql数据库存在UPDATE权限。</p>
<p>###3.3 UPDATE user 语句</p>
<p>格式如下：</p>
<p><code>UPDATE mysql.user SET password=PASSWORD(&#39;password&#39;) WHERE user=&#39;username&#39; and host=&#39;hostname&#39;; FLUSH PRIVILEGES;</code></p>
<p>其中，mysql.user表示mysql库中的user表，user表示字段为user，username为用户名，password为新密码，hostname为指定的主机。</p>
<p>这种方式需要先登入mysql控制台，即通过正确用户名、密码登入。</p>
<p>例如：设置用户user的密码为123456，则</p>
<p><code>UPDATE mysql.user SET password=PASSWORD(&#39;123456&#39;) WHERE user=&#39;user&#39; and host=&#39;localhost&#39;; FLUSH PRIVILEGES;</code></p>
<p>####注：因为这种方式是手动修改数据库，如果想要这种修改立马生效，还需执行FLUSH PRIVILEGES命令刷新用户权限列表，所以需要登录的用户有SELECT、UPDATE、RELOAD三种权限。</p>
<p>##4 删除用户</p>
<p>在mysql中，可以通过直接删除mysql.user表中的数据删除用户，也可以通过drop命令删除用户，与创建用户的操作类似。</p>
<p>###4.1 DELETE FROM mysql.user</p>
<p>格式如下：</p>
<p><code>DELETE FROM mysql.user WHERE user=&#39;username&#39; and host=&#39;hostname&#39;</code></p>
<p>其中，mysql.user表示mysql库中的user表，user表示字段为user，username为用户名，hostname为指定的主机。</p>
<p>###4.2 DROP USER username</p>
<p>格式如下：</p>
<p><code>DROP USER &#39;username&#39;@&#39;hostname&#39;</code></p>
<p>其中，username为用户名，hostname为指定的主机。<br>————————————</p>
<p>  #mysql  #anthority  #y运维</p>
</p>
      <div class="post-button"><a class="btn" href="/2021/05/20/MySQL%E7%94%A8%E6%88%B7%E3%80%81%E6%9D%83%E9%99%90%E5%8F%8A%E5%AF%86%E7%A0%81%E6%93%8D%E4%BD%9C/" rel="noopener"><i class="fa fa-angle-double-right fa-fw"></i>阅读更多</a></div>
    </div>
  </div>
  <div class="lx-entry padding">
    <div>
      <h2 class="title"><a href="/2021/05/17/%E7%89%A9%E7%90%86%E5%B1%82/">物理层</a></h2>
      <span class="lx-post-detail"><i class="fa fa-calendar-o"></i> 2021-05-17 | <i class="fa fa-folder-o"></i> <a class="category-link" href="/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/">网络安全</a></span>
      <p><h1>物理层</h1><h2 id="一、基本概念"><a href="#一、基本概念" class="headerlink" title="一、基本概念"></a>一、基本概念</h2><p>物理层的作用的是接收数据链路层传来的0、1字符串，并把它们转换成电信号（考虑多大电压代表0、1），在传输媒体上传播，并且定义了管理这些媒体的机械，电气，功能，过程的特性。</p>
<a id="more"></a>
<h2 id="二、数据通信的基本概念"><a href="#二、数据通信的基本概念" class="headerlink" title="二、数据通信的基本概念"></a>二、数据通信的基本概念</h2><blockquote>
<p>备注：计算机通信只是数据通信中的一种，还有其他的</p>
</blockquote>
<p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1gaf8tmf8l6j31em0p8qam.jpg" alt=""></p>
<h3 id="1、数据通信的模型：源系统-gt-传输系统-gt-目的系统"><a href="#1、数据通信的模型：源系统-gt-传输系统-gt-目的系统" class="headerlink" title="1、数据通信的模型：源系统 ==&gt; 传输系统 ==&gt; 目的系统"></a>1、数据通信的模型：源系统 ==&gt; 传输系统 ==&gt; 目的系统</h3><h3 id="2、相关术语"><a href="#2、相关术语" class="headerlink" title="2、相关术语"></a>2、相关术语</h3><ul>
<li>数据（data）：运送信息的实体（数据是信息的载体，不是信息的本身）。</li>
<li>信号（signal）：数据的电气或电磁的1表现。</li>
<li>码元：不同离散数值的基本波形（二进制编码中只有两种码元，0状态和1状态</li>
<li>模拟的（analogous）：连续变化的</li>
<li>数字的（digital）：取值是离散的</li>
<li>调制：把数字信号转换成模拟信号。</li>
<li>解调：把模拟信号换成数字信号。</li>
</ul>
<h3 id="3、信道"><a href="#3、信道" class="headerlink" title="3、信道"></a>3、信道</h3><p>1）基本概念</p>
<p>表示某一个方向传送信息的媒体</p>
<p>1）通信方式：</p>
<ul>
<li>单工通信</li>
<li>半双工通信</li>
<li>全双工通信</li>
</ul>
<p>2）信道（传输系统）基本概念</p>
<ul>
<li>基带信号：来自信源的信号。  <ul>
<li>编码：对基带信号的波形进行变换，使它能够与信道特信相适应，变换后的信号仍然是基带信号。</li>
<li>编码方式：单极性不归零码，双极性不归零码，单极性归零码，双极性归零码，曼彻斯特编码（能携带时钟信号，可以表示没有数据传输），差分曼彻斯特编码（抗干扰性能强于前者）</li>
</ul>
</li>
</ul>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gflqtbblkfj316m0fq7hy.jpg" alt=""></p>
<ul>
<li><p>带通信号（调制）：经过载波调制后的信号。</p>
<ul>
<li>调制：使用载波进行调制，把基带信号的频率范围搬迁到较高的频段，并转换为模拟信号。</li>
<li>调制方法：调幅（AF），调频（FM），调相（PM）</li>
</ul>
</li>
</ul>
<p>3）信道的极限容量 ==&gt; 奈式准则：没有信号干扰，码元的传输速率有上限</p>
<p>限制码元在信道上传输速率的因素</p>
<ul>
<li><p>信道能够通过的频率范围：在任何信道中，码元传输的速率都有上限，超过这个上限，就会出现严重的码间串扰问题。</p>
</li>
<li><p>信噪比：信号的平均功率 / 噪声的平均功率（S / N）</p>
</li>
</ul>
<p>香农公式（传多远会是真）：有信号干扰，无差错传输速率</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">信道的极限信息传输速率：C = Wlog2(1 + S / N) b/s</span><br><span class="line">W // 带宽</span><br><span class="line">S // 信道内所传信号的平均功率</span><br><span class="line">N // 信道内的高斯噪声功率</span><br></pre></td></tr></table></figure>
<h2 id="三、传输媒体"><a href="#三、传输媒体" class="headerlink" title="三、传输媒体"></a>三、传输媒体</h2><p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1gafb9kcavqj31dm0s6gqp.jpg" alt=""></p>
<h3 id="1、导向传输媒体（电磁波沿着固体媒体传播）"><a href="#1、导向传输媒体（电磁波沿着固体媒体传播）" class="headerlink" title="1、导向传输媒体（电磁波沿着固体媒体传播）"></a>1、导向传输媒体（电磁波沿着固体媒体传播）</h3><p>1）金属介质（传电信号实现数据通信）：双绞线（屏蔽双绞线STP，无屏蔽双绞线UTP），同轴电缆（50欧用于数字传输，75欧用于模拟传输）</p>
<ul>
<li><p>直通线：比如计算机和交换机连</p>
</li>
<li><p>交叉线：（以前有线序，现在网卡进步后，不需要了）</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">同类设备交叉线，不同类直通线。</span><br></pre></td></tr></table></figure>
<p>2）光缆（光信号实现数据通信）：光纤（多模，单模）</p>
<h3 id="2、非导向传输媒体（电磁波传输称为无线通信）"><a href="#2、非导向传输媒体（电磁波传输称为无线通信）" class="headerlink" title="2、非导向传输媒体（电磁波传输称为无线通信）"></a>2、非导向传输媒体（电磁波传输称为无线通信）</h3><p>短波通信质量差，微波直线传播：地面微波接力通信，卫星通信 ）</p>
<h3 id="3、物理层设备"><a href="#3、物理层设备" class="headerlink" title="3、物理层设备"></a>3、物理层设备</h3><ul>
<li>中继器：负责在两个节点的物理层上按位传递信息，完成信号的复制、调整和放大功能，以此来延长网络的长度，无路径检测和交换功能</li>
<li>集线器：用于加强信号（只把比特流传过去，不作任何判断，也看不懂数据链路层的东西，可以看成线）</li>
<li>交换机：交换机是根据Mac地址来转发数据的，它接收数据帧，然后存储看他的Mac地址，选择出口，决定往哪里转发</li>
</ul>
<h2 id="四、信道复用技术"><a href="#四、信道复用技术" class="headerlink" title="四、信道复用技术"></a>四、信道复用技术</h2><p>1、频分复用</p>
<p>2、时分复用（可能使线路资源浪费）</p>
<p>3、统计时分复用（放的时候无规律，分的时候用标记来分）</p>
<p>4、波分复用（光的频分复用）</p>
<h2 id="五、宽度接入技术"><a href="#五、宽度接入技术" class="headerlink" title="五、宽度接入技术"></a>五、宽度接入技术</h2><p>1、ADSL（用电话线接入</p>
<p>2、HFC：（用有线电视的铜线接入</p>
<p>3、FTTx：（光纤到户</p>
</div><div class="post-tag-list">标签: <a class="post-tags" href="/tags/网络安全/">网络安全</p>
      <div class="post-button"><a class="btn" href="/2021/05/17/%E7%89%A9%E7%90%86%E5%B1%82/" rel="noopener"><i class="fa fa-angle-double-right fa-fw"></i>阅读更多</a></div>
    </div>
  </div>
  <div class="lx-entry padding">
    <div>
      <h2 class="title"><a href="/2021/05/16/%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/">数据链路层</a></h2>
      <span class="lx-post-detail"><i class="fa fa-calendar-o"></i> 2021-05-16 | <i class="fa fa-folder-o"></i> <a class="category-link" href="/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/">网络安全</a></span>
      <p><p>数据链路：除了物理线路外，还必须有通信协议来控制这些数据的传输。</p>
<p>数据链路层的作用：把从网络层接收到的数据分割成可以被物理层传输的帧。（向网络层提供一个定义良好的服务接口；处理传输错误；调节数据流，确保慢速的接收方不会被快速的发送方淹没）</p>
<a id="more"></a>
<p>帧：数据链路层按照具体协议要求由比特流装配而成。（数据链路层传输的协议数据单元）</p>
<p>帧的结构：帧的结构设计必须要有帧首和帧尾的标识方法（首部和尾部的一个重要作用就是进行帧定界），以标识帧的开始和结束，还要包括校验信息和帧序号，以便检测出传输中出现的差错和保持帧传输的有序性。</p>
<p>信道类型：点对点信道、广播信道。</p>
<p>数据链路层协议：点对点协议 ppp、</p>
<p>三个基本问题：</p>
<ul>
<li><p>封装成帧：在一段数据的前后分别添加首部 SOH 和尾部 EOT，然后就构成了一个帧。首部和尾部确定了帧的界限。</p>
</li>
<li><p>透明传输：传输的数据中没有首部和尾部的帧定界符。</p>
</li>
<li><p>差错检测：比特差错、帧丢失、重复、失序。（循环冗余检验CRC）</p>
</li>
</ul>
<h2 id="二、点对点信道"><a href="#二、点对点信道" class="headerlink" title="二、点对点信道"></a>二、点对点信道</h2><blockquote>
<p> 点对点协议 ppp（世界上使用最多的数据链路层协议）==&gt; 广域网</p>
</blockquote>
<h3 id="1、特点"><a href="#1、特点" class="headerlink" title="1、特点"></a>1、特点</h3><p>1）应满足的功能：</p>
<ul>
<li>简单 —— 这是首要的要求。</li>
<li>封装成帧 —— 必须规定特殊的字符作为帧定界符。</li>
<li>透明性 —— 必须保证数据传输的透明性。</li>
<li>多种网络层协议 —— 能够在同一条物理链路上同时支持多种网络层协议。</li>
<li>多种类型链路 —— 能够在多种类型的链路上运行。</li>
<li>差错检测 —— 能够对接收端收到的帧进行检测，并立即丢弃有差错的帧。</li>
<li>检测连接状态 —— 能够及时自动检测出链路是否处于正常工作状态。</li>
<li>最大传送单元 —— 必须对每一种类型的点对点链路设置最大传送单元  MTU 的标准默认值，促进各种实现之间的互操作性。</li>
<li>网络层地址协商 —— 必须提供一种机制使通信的两个网络层实体能够通过协商知道或能够配置彼此的网络层地址。</li>
<li>数据压缩协商 —— 必须提供一种方法来协商使用数据压缩算法</li>
</ul>
<p>2）组成： </p>
<ul>
<li>将 IP 数据报封装到串行链路。</li>
<li>链路控制协议 LCP (Link Control Protocol)：建立并维护数据链路连接</li>
<li>网络控制协议 NCP (Network Control Protocol)：允许在点到点连接上使用多种网络层协议</li>
</ul>
<h3 id="2、帧格式"><a href="#2、帧格式" class="headerlink" title="2、帧格式"></a>2、帧格式</h3><p>PPP 帧的首部和尾部分别为 4 个字段和 2 个字段。</p>
<p>1）标志字段 F 规定为 0x7E，表示一个帧的开始或结束。</p>
<p>2）地址字段 A 只置为 0xFF。地址字段实际上并不起作用。</p>
<p>3）控制字段 C 通常置为 0x03。</p>
<p>4）PPP 是面向字节的，所有的 PPP 帧的长度都是整数字节</p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gfgptpwh51j30qs07oabn.jpg" alt=""></p>
<p>解决透明传输（当 PPP 用在同步传输链路时，协议规定采用硬件来完成<strong>零比特填充</strong>（和 HDLC 的做法一样）。当 PPP 用在异步传输时，就使用一种特殊的<strong>字符填充法</strong>）</p>
<h3 id="3、工作状态"><a href="#3、工作状态" class="headerlink" title="3、工作状态"></a>3、工作状态</h3><p>1）用户拨号接入 ISP 时，路由器的调制解调器对拨号做出确认，并建立一条物理连接。</p>
<p>2）PC 机向路由器发送一系列的 LCP 分组（封装成多个 PPP 帧）。</p>
<p>3）这些分组及其响应选择一些 PPP 参数，并进行网络层配置，NCP 给新接入的 PC 机分配一个临时的 IP 地址，使 PC 机成为因特网上的一个主机。</p>
<p>4）通信完毕时，NCP 释放网络层连接，收回原来分配出去的 IP 地址。</p>
<p>5）LCP 释放数据链路层连接。</p>
<p>6）释放物理层的连接。</p>
<blockquote>
<p> PPP 协议已不是纯粹的数据链路层的协议，它还包含了物理层和网络层的内容。     </p>
</blockquote>
<h2 id="三、广播信道"><a href="#三、广播信道" class="headerlink" title="三、广播信道"></a>三、广播信道</h2><blockquote>
<p> CSMA / CD 协议（广播指所有的计算机都能收到信号）==&gt; 局域网</p>
</blockquote>
<h3 id="1、特点-1"><a href="#1、特点-1" class="headerlink" title="1、特点"></a>1、特点</h3><p>可以随意的在网络中添加设备</p>
<h3 id="2、局域网的拓扑"><a href="#2、局域网的拓扑" class="headerlink" title="2、局域网的拓扑"></a>2、局域网的拓扑</h3><p>星形网、环形网、总线网</p>
<h3 id="3、数据链路层的两个子层"><a href="#3、数据链路层的两个子层" class="headerlink" title="3、数据链路层的两个子层"></a>3、数据链路层的两个子层</h3><blockquote>
<p> 为了使数据链路层能更好地适应多种局域网标准</p>
</blockquote>
<p>1）逻辑链路控制 LLC (Logical Link Control)子层（作用已经消失）</p>
<p>2）媒体接入控制 MAC (Medium Access Control)子层：实现一对一通信是通过地址来实现的</p>
<h3 id="4、适配器"><a href="#4、适配器" class="headerlink" title="4、适配器"></a>4、适配器</h3><p>1）概念</p>
<p>适配器是网络接口板又称为通信适配器 (adapter) 或网络接口卡 NIC (Network Interface Card)，或网卡。用于和外界局域网进行连接。</p>
<p>2）功能</p>
<ul>
<li><p>进行数据串行传输（和局域网）和并行传输（和计算机）的转换</p>
</li>
<li><p>对数据进行缓存（因为网络上的数据率和计算机总线上的数据率不同）</p>
</li>
<li><p>在计算机的操作系统安装管理适配器的设备驱动程序（告诉适配器应该从存储的什么位置把多长的数据块发送到局域网；或在存储器的什么位置把局域网传过来的数据块记录下来）</p>
</li>
<li><p>实现以太网协议</p>
</li>
</ul>
<p>3）工作过程</p>
<p>适配器在接收和发送各种帧时，不使用计算机的CPU。这时计算机中的CPU可以处理其他任务。当适配器收到有差错的帧时，就把这个帧直接丢弃而不必通知计算机。当适配器收到正确的帧时，它就使用中断来通知该计算机，并交付协议栈中的网络层。当计算机要发送IP数据报时，就由协议栈把IP数据报向下交给适配器，组装成帧后发送到局域网。</p>
<h3 id="3、CSMA-CD-协议（载波监听多点接入-碰撞检测-）"><a href="#3、CSMA-CD-协议（载波监听多点接入-碰撞检测-）" class="headerlink" title="3、CSMA / CD 协议（载波监听多点接入 / 碰撞检测  ）"></a>3、CSMA / CD 协议（载波监听多点接入 / 碰撞检测  ）</h3><blockquote>
<p>总线上只要有一台计算机在发送数据，总线的传输资源就被占用。所以在同一时间只能允许一台计算机发送数据， 否则各计算机之间就会互相干扰，使得所发送数据被破坏。</p>
</blockquote>
<p>1）特点</p>
<ul>
<li><p>多点接入：说明这是总线型网络，许多计算机以多点接入的方式连接在一根总线上。</p>
</li>
<li><p>载波监听：用电子技术检测总线上有没有计算机也在发送数据。载波监听就是检查信道，不管发送前还是发送中，每个站都必须不停地检查信道。</p>
</li>
<li><p>碰撞检测：边发送边检测。即适配器边发送数据边检测信道上的信号电压的变化情况，以便判断自己在发送数据时其他站是否也在发送数据。</p>
<ul>
<li>信号传播时延对载波监听的影响 </li>
<li>使用 CSMA/CD 协议的以太网不能进行全双工通信而只能进行双向交替通信（半双工通信）。</li>
<li>每个站在发送数据之后的一小段时间内，存在着遭遇碰撞的可能性。如果希望在以太网上发生碰撞的机会很小， 必须使整个以太网的平均通信量远小于以太网的最高数据率。 </li>
<li>经过争用期这段时间还没有检测到碰撞，才能肯定这次发送不会发生碰撞。</li>
<li>以太网使用二进制指数类型退避算法来确定碰撞后重传的时机。</li>
</ul>
</li>
</ul>
<h2 id="四、以太网"><a href="#四、以太网" class="headerlink" title="四、以太网"></a>四、以太网</h2><h3 id="1、概述"><a href="#1、概述" class="headerlink" title="1、概述"></a>1、概述</h3><p>1）以太网（Ethernet）是一种星型拓扑结构局域网。而局域网却不一定是以太网。</p>
<p>2）以太网是目前应用最广泛的局域网。</p>
<p>3）以太网使用 CSMA/CD 协议。</p>
<h3 id="2、集线器"><a href="#2、集线器" class="headerlink" title="2、集线器"></a>2、集线器</h3><p>用于加强信号（只把比特流传过去，不作任何判断，也看不懂数据链路层的东西，可以看成线）</p>
<p>同轴电缆 =&gt; 双绞线 =&gt; 集线器　</p>
<h3 id="3、信道利用率"><a href="#3、信道利用率" class="headerlink" title="3、信道利用率"></a>3、信道利用率</h3><p>信道利用率表示发送数据的时间占总时间的比值。要提高以太网的信道利用率，就必须减小 t 与 T0 之比。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a = t / T0 <span class="comment"># 以太网单程端到端时延 t 与帧的发送时间 T0 之比。</span></span><br><span class="line"> </span><br><span class="line">α →0，表示一发生碰撞就立即可以检测出来， 并立即停止发送，因而信道利用率很高。</span><br><span class="line">α 越大，表明争用期所占的比例增大，每发生一次碰撞就浪费许多信道资源，使得信道利用率明显降低。</span><br><span class="line"></span><br><span class="line"><span class="comment"># 对以太网参数 α 的要求：</span></span><br><span class="line">当数据率一定时，以太网的连线的长度受到限制，以太网的帧长不能太短，否则 T0 的值会太小，使 α 值太大。</span><br></pre></td></tr></table></figure>
<h3 id="4、MAC-层"><a href="#4、MAC-层" class="headerlink" title="4、MAC 层"></a>4、MAC 层</h3><p>1）概念</p>
<p>MAC 地址又称硬件地址、物理地址、适配器地址或适配器标识符 EUI-48，是一个用来确认网上设备位置的地址。</p>
<p>2）MAC 帧的格式</p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gfnl57lwzqj30tq0awdj8.jpg" alt=""></p>
<p>3）区别</p>
<ul>
<li><p>以太网和数据链路层和物理层有关，以太网使用同轴电缆或双绞线电缆，可以解释其中的0、1以何种电子信号。</p>
</li>
<li><p>ppp 只与数据链路层有关，要实现通信还需要物理层的支持。</p>
</li>
</ul>
<h3 id="5、扩展的以太网"><a href="#5、扩展的以太网" class="headerlink" title="5、扩展的以太网"></a>5、扩展的以太网</h3><p>网桥 =&gt; 接口多了慢慢发展为交换机（存储转发），替代了集线器</p>
<p>带宽独享，全双工，安全，基于Mac地址转发数据</p>
<h3 id="6、高速以太网"><a href="#6、高速以太网" class="headerlink" title="6、高速以太网"></a>6、高速以太网</h3><p>1）100BASE-T 以太网 </p>
<p>2）吉比特以太网</p>
<p>3）10吉比特以太网 (10GE) 和更快的以太网</p>
<p>4）使用以太网进行宽带接入</p>

</div><div class="post-tag-list">标签: <a class="post-tags" href="/tags/网络安全/">网络安全</p>
      <div class="post-button"><a class="btn" href="/2021/05/16/%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/" rel="noopener"><i class="fa fa-angle-double-right fa-fw"></i>阅读更多</a></div>
    </div>
  </div>
  <div class="lx-entry padding">
    <div>
      <h2 class="title"><a href="/2021/05/15/life-only-such-as-first/">life only such as first</a></h2>
      <span class="lx-post-detail"><i class="fa fa-calendar-o"></i> 2021-05-15 | <i class="fa fa-folder-o"></i> <a class="category-link" href="/categories/%E7%88%B1%E6%83%85%E8%AE%B0%E5%BD%95/">爱情记录</a></span>
      <p><p>···If life is only as first, how good it should be, we still had the appearance of happiness, but unfortunately, time let us walk away from the original direction.</p>
<pre><code>Looking out of the window, the sky elongated face   obviously make some unhappy little mood, listen to &quot;because of love&quot; together a Fu of the tune and then think of the past past, really not a taste. &quot;
</code></pre>
<p>···Because of love, not easily sad, so everything is the appearance of happiness; Because of love, simple growth, still can be crazy for you at any time. “How difficult beautiful lyrics, how beautiful melody, but it is a pity that we did not smooth the original heartbeat.</p>
<p>···If everything is the original shape, everything is not easily sad, like nalanxingde “magnolia” in “if life only such as first” that it would be good, so can we see in the world will be more to a happy ending. “if life only such    as first, what the autumn wind sad picture fan, afford to change, so the heart, but way so the heart variable.” Nalanxingde’s poetry is dreamlike and beautiful, in which the woman’s tone complains the man’s thoughtlessness. We cannot easily describe the elegance of the language in the poem with words, nor can we easily capture the intangible beauty in the poem with inspiration.</p>
<pre><code>Life if only such as first, then the world how perfect!
</code></pre>
<p>Everything is the original happiness of the appearance, everything will not easily sad, everything can be crazy for you at any time!<br><img src="https://blog.zhangruipeng.me/hexo-theme-minos/gallery/compass.jpg" alt="https://blog.zhangruipeng.me/hexo-theme-minos/gallery/compass.jpg"><br>#假设人生</p>
<p>##和你  和家人</p>
</p>
      <div class="post-button"><a class="btn" href="/2021/05/15/life-only-such-as-first/" rel="noopener"><i class="fa fa-angle-double-right fa-fw"></i>阅读更多</a></div>
    </div>
  </div>
  <div class="lx-entry padding">
    <div>
      <h2 class="title"><a href="/2021/05/11/%E4%BA%94%E4%B8%80/">五一</a></h2>
      <span class="lx-post-detail"><i class="fa fa-calendar-o"></i> 2021-05-11 | <i class="fa fa-folder-o"></i> <a class="category-link" href="/categories/%E7%88%B1%E6%83%85%E8%AE%B0%E5%BD%95/">爱情记录</a></span>
      <p><h3 id="成都的魅力"><a href="#成都的魅力" class="headerlink" title="成都的魅力"></a>成都的魅力</h3><p>——————————————————————————————————————————————————————————————————</p>
<h3 id="这是我们第一次在相隔遥远的地方一起奔赴同一个地方见面"><a href="#这是我们第一次在相隔遥远的地方一起奔赴同一个地方见面" class="headerlink" title="这是我们第一次在相隔遥远的地方一起奔赴同一个地方见面"></a>这是我们第一次在相隔遥远的地方一起奔赴同一个地方见面</h3><p><img src="https://i.loli.net/2021/05/09/aIhqTkXDLdAR3r4.jpg" alt="IMG_20210503_215914.jpg"></p>
<h3 id="我的拍照技术挺好的"><a href="#我的拍照技术挺好的" class="headerlink" title="我的拍照技术挺好的"></a>我的拍照技术挺好的</h3><p><img src="https://i.loli.net/2021/05/09/si79qSxp2kXDMU1.jpg" alt="IMG_20210503_220441.jpg"></p>
<h3 id="把本来就很漂亮的你拍的如此美丽哈哈！"><a href="#把本来就很漂亮的你拍的如此美丽哈哈！" class="headerlink" title="把本来就很漂亮的你拍的如此美丽哈哈！"></a>把本来就很漂亮的你拍的如此美丽哈哈！</h3><p><img src="https://i.loli.net/2021/05/09/RBiYNLkmsQGFSgW.jpg" alt="IMG_20210503_220056.jpg"></p>
<h3 id="冰淇淋要滴到衣服上面啦"><a href="#冰淇淋要滴到衣服上面啦" class="headerlink" title="冰淇淋要滴到衣服上面啦"></a>冰淇淋要滴到衣服上面啦</h3><p><img src="https://i.loli.net/2021/05/09/Dv9bBdO8PXNhenT.jpg" alt="IMG_20210503_220543.jpg"></p>
<h3 id="随便一个抓拍就能留下我们共同走过的地方"><a href="#随便一个抓拍就能留下我们共同走过的地方" class="headerlink" title="随便一个抓拍就能留下我们共同走过的地方"></a>随便一个抓拍就能留下我们共同走过的地方</h3><p><img src="https://i.loli.net/2021/05/09/qbdBs3LVfzThDF4.jpg" alt="IMG_20210504_174439.jpg"></p>
<h3 id="鳌山真的很不错呢"><a href="#鳌山真的很不错呢" class="headerlink" title="鳌山真的很不错呢"></a>鳌山真的很不错呢</h3><p>————————————————————————————————————</p>
</p>
      <div class="post-button"><a class="btn" href="/2021/05/11/%E4%BA%94%E4%B8%80/" rel="noopener"><i class="fa fa-angle-double-right fa-fw"></i>阅读更多</a></div>
    </div>
  </div>
  <div class="lx-entry padding">
    <div>
      <h2 class="title"><a href="/2021/05/10/%E7%BD%91%E7%BB%9C%E5%B1%82/">网络层</a></h2>
      <span class="lx-post-detail"><i class="fa fa-calendar-o"></i> 2021-05-10 | <i class="fa fa-folder-o"></i> <a class="category-link" href="/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/">网络安全</a></span>
      <p><h1>网络层</h1><h2 id="一、基本概念"><a href="#一、基本概念" class="headerlink" title="一、基本概念"></a>一、基本概念</h2><p>负责在不同网络之间转发数据报（实现这个功能的设备是路由器，即实现跨网段的数据通信），基于数据报的IP地址转发（即选择出口，路由器对出口的判断是根据路由表），不负责丢失重传，不负责排序。</p>
<a id="more"></a>
<h2 id="二、网际协议-IP"><a href="#二、网际协议-IP" class="headerlink" title="二、网际协议 IP"></a>二、网际协议 IP</h2><blockquote>
<p>IP协议：所有选路的协议都是 IP 协议</p>
</blockquote>
<h3 id="1、计算机通信的过程"><a href="#1、计算机通信的过程" class="headerlink" title="1、计算机通信的过程"></a>1、计算机通信的过程</h3><p>1）计算机通信的过程（本网段通信和跨网段通信的过程）</p>
<ul>
<li>应用层：应用程序准备要传输的文件</li>
<li>传输层：将文件分段，并编号</li>
<li>网络层：添加目标IP地址，源IP地址</li>
<li>数据链路层：使用自己的子网掩码，判断自己在哪个网段。使用自己的子网掩码，判断目标地址在哪个网段<ul>
<li>同一网段：用ARP协议广播解析目标地址的Mac地址，得到对方的Mac地址后，用对方的Mac地址直接封装。</li>
<li>不是同一网段：把数据发给路由器，让他来转发数据（此时的目标地址是网关的Mac地址）</li>
</ul>
</li>
</ul>
<p>2）网络设备</p>
<ul>
<li><p>网关：网关是一个 IP 地址。是一个网络连接到另一个网络的“关口”。</p>
</li>
<li><p>路由器：路由器是一个物理设备。一般局域网的网关就是路由器的IP地址。路由器仅根据目的主机所连接的网络号来转发数据报。路由器总是具有两个或两个以上的 IP 地址。路由器的每一个接口都有一个不同网络号的 IP 地址。</p>
</li>
</ul>
<h3 id="2、IP-地址"><a href="#2、IP-地址" class="headerlink" title="2、IP 地址"></a>2、IP 地址</h3><p>1）IP 地址的定义</p>
<p>要使 Internet 上的主机间能正常通信，必须给每个计算机一个全球都能接收和识别的唯一标识，即IP地址。IP 地址就是给每个连接在互联网上的主机或路由器分配一个在全世界范围是唯一的 32 位的标识符。</p>
<p>IP 地址现在由互联网名字和数字分配机构 ICANN 进行分配。</p>
<p>2）IP 地址和 MAC 地址的区别</p>
<ul>
<li>IP 地址决定数据报的起点和终点，是一种逻辑地址，是网络层和以上各层使用的地址。</li>
<li>MAC 地址决定了下一跳的路径，是一种物理地址，是数据链路层和物理层使用的地址。【数据要在数据链路层上传，就要写上数据链路层的地址，即物理访问地址 Mac 地址】</li>
</ul>
<p>3）IP 地址编址方法经历的历史阶段</p>
<blockquote>
<h4 id="第一阶段：分类的-IP-地址"><a href="#第一阶段：分类的-IP-地址" class="headerlink" title="第一阶段：分类的 IP 地址"></a>第一阶段：分类的 IP 地址</h4></blockquote>
<p>将 IP 地址划分为 A 类（网络号1位，主机号3位），B 类（网络号2位，主机号2位），C 类（网络号3位，主机号1位），D 类（多播地址），E 类（保留为今后使用）5 个类别。每一类地址都由两个固定长度的字段组成，其中一个字段是网络号 net-id，它标志主机（或路由器）所连接到的网络，而另一个字段则是主机号 host-id，它标志该主机（或路由器）。主机号在它前面的网络号所指明的网络范围内必须是唯一的。所以一个 IP 地址在整个互联网范围内是唯一的。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">IP 地址 ::= &#123;&lt; 网络号 &gt;, &lt; 主机号 &gt;&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gfqqqoqrxnj30ry0a6416.jpg" alt=""></p>
<blockquote>
<h4 id="第二阶段：子网的划分"><a href="#第二阶段：子网的划分" class="headerlink" title="第二阶段：子网的划分"></a>第二阶段：子网的划分</h4></blockquote>
<p>（1）划分原因</p>
<p>IP 地址空间的利用率有时很低。 给每一个物理网络分配一个网络号会使路由表变得太大因而使网络性能变坏。两级的 IP 地址不够灵活。</p>
<p>（2）划分子网的思路</p>
<p>从主机号借用若干个位作为子网号 subnet-id，而主机号 host-id 也就相应减少了若干个位。</p>
<p>从其他网络发送给本单位某个主机的 IP 数据报，仍然是根据 IP 数据报的目的网络号 net-id，先找到连接在本单位网络上的路由器。然后此路由器在收到 IP 数据报后，再按目的网络号 net-id 和子网号subnet-id 找到目的子网。最后就将 IP 数据报直接交付目的主机。 </p>
<p>划分子网纯属一个单位内部的事情。单位对外仍然表现为没有划分子网的网络。从两级 IP 地址到三级 IP 地址。 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">IP 地址 ::= &#123;&lt; 网络号 &gt;, &lt; 子网号 &gt;, &lt; 主机号 &gt;&#125;</span><br></pre></td></tr></table></figure>
<p>（3）子网掩码</p>
<p>从一个 IP 数据报的首部无法判断源主机或目的主机所连接的网络是否进行了子网划分。所以就出现了子网掩码(subnet mask)，它可以找出 IP 地址中的子网部分。</p>
<p>子网掩码长度＝32位。某位＝1表示IP地址中的对应位为网络号和子网号，某位＝0表示IP地址中的对应位为主机号。使用子网掩码的好处是不管网络有没有划分子网，只要把子网掩码和IP地址进行逐位相“与”（AND）就能立即得出网络地址。</p>
<blockquote>
<h4 id="第三阶段：无分类编址-CIDR（构成超网）"><a href="#第三阶段：无分类编址-CIDR（构成超网）" class="headerlink" title="第三阶段：无分类编址 CIDR（构成超网）"></a>第三阶段：无分类编址 CIDR（构成超网）</h4></blockquote>
<p>（1）网络前缀</p>
<p>划分子网在一定程度上缓解了因特网发展中遇到的困难。但是 IP 地址面临不够用的问题。</p>
<p>CIDR 的特点</p>
<ul>
<li>CIDR 消除了传统的 A 类、B 类和 C 类地址及划分子网的概念，把32位的 IP 地址划分为两个部分，前面的部分是<strong>网络前缀</strong>，用来指明网络，后面的部分用来指明主机，因此 CIDR 使 IP 地址从三级编址（使用子网掩码）又回到两级编址。CIDR 在 IP 地址后面加上斜线“/”，然后写上网络前缀所占的位数。128.14.35.7/20</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">IP 地址 ::= &#123;&lt; 网络前缀号 &gt;, &lt; 主机号 &gt;&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>CIDR把网络前缀都相同的连续IP地址组成一个“CIDR地址块。</li>
</ul>
<p>（2）最长前缀匹配</p>
<p>在使用 CIDR 时，由于采用了网络前缀这种记法，IP地址由网络前缀和主机号两部分组成，因此在路由表中的项目也要做相应的改变。每个项目由“网络前缀”和”下一跳地址“组成。但在查找路由表时可能得到不止一个匹配结果，此时从匹配结果中选择具有最长网络前缀的路由。这时因为网络前缀越长，其地址块就越小，因而路由就越具体。即选择匹配的地址更具体的一个。</p>
<h3 id="3、IP数据报的格式（IPv4）"><a href="#3、IP数据报的格式（IPv4）" class="headerlink" title="3、IP数据报的格式（IPv4）"></a>3、IP数据报的格式（IPv4）</h3><p><img src="https://img-blog.csdn.net/20180624172532216?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1lpbl9Ib25nd2Vp/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p>
<p>IP 数据报由首部和数据两部分组成。IP 数据报首部的固定部分中的各字段为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">1、版本：4位，用来表示表示 IP 协议的版本。IPv4，IPv6。</span><br><span class="line">2、首部长度：4位，首部是20个字节固定长度。</span><br><span class="line">3、区分服务：8位，用来获得更好地服务（只有使用时，该字段才起作用，一般也不用）。</span><br><span class="line">网络层-数据报 65535 字节</span><br><span class="line">数据链路层-数据 1500 字节（最大传输单元MTU）</span><br><span class="line">当数据包比数据链路层所支持的帧大的时候，数据报要进行分片。数据报如果不分片，数据报数据最大不超过1480字节</span><br><span class="line">4、总长度：16位，首部和数据之和的长度。</span><br><span class="line">5、标识：16位，不一定连续。</span><br><span class="line">6、标志：3位，目前只有两位有意义。</span><br><span class="line">标志字段的最低位记为MF，MF=1表示后面还有分片的数据报，MF=0表示这已是若干数据报片中的最后一个。</span><br><span class="line">标志字段中间的一位记为DF，意思是不能分片，当DF=0时才允许分片。</span><br><span class="line">7、片偏移：13位，较长的分组在分片后，某片在原分组中的相对位置。</span><br><span class="line">8、生存时间：8位，每过一个路由器，生存时间都要修改，物理层地址也要修改</span><br><span class="line">9、协议：8位，协议号就规定了里面的数据应该由哪个协议进行处理。（不同的协议在网络层用协议号来进行1区分）</span><br><span class="line">协议号：ICMP 1 ，IGMP 2 ，TCP 6， UDP 17 ，IPv6 41，OSPF 89，</span><br><span class="line">10、首部检验和：16位，用于检验数据包在传的过程中是否被修改或者出现了错误。接收端发现检验正确，接收数据，发现检验错误，丢弃数据报。</span><br><span class="line">11、原地址：32位，源IP地址。</span><br><span class="line">12、目的地址：32位，目标IP地址。</span><br><span class="line">13、可选字段（长度可变）：用于支持排错，测量以及安全等措施。它增加了IP数据报的功能，IPv6没有这个可变部分了。</span><br><span class="line">14、填充：当IP分组的首部长度不是4字节的整数倍，填充0，使其是4字节的整数倍。</span><br></pre></td></tr></table></figure>
<h3 id="4、IPv6"><a href="#4、IPv6" class="headerlink" title="4、IPv6"></a>4、IPv6</h3><p>解决 IP 地址耗尽的根本措施就是采用具有更大地址空间的新版本的 IP</p>
<p>1）IPv6 引进的主要变化</p>
<ul>
<li>更大的地址空间。IPv6 将地址从 IPv4 的 32 位 增大到了 128 位。 </li>
<li>扩展的地址层次结构。 </li>
<li>灵活的首部格式。 IPv6 定义了许多可选的扩展首部。</li>
<li>改进的选项。 </li>
<li>允许协议继续扩充。 </li>
<li>支持即插即用（即自动配置）。因此 IPv6 不需要使用 DHCP。</li>
<li>支持资源的预分配。  IPv6 支持实时视像等要求，保证一定的带宽和时延的应用。</li>
<li>IPv6 首部改为 8 字节对齐。首部长度必须是 8 字节的整数倍。原来的 IPv4 首部是 4 字节对齐。</li>
</ul>
<p>2）IPv6 数据报的结构</p>
<ul>
<li><p>基本首部 ：首部长度变为固定的 40 字节。把首部中不必要的功能取消了，使得 IPv6 首部的字段数减少到只有 8 个。</p>
</li>
<li><p>有效载荷 ：有效载荷也称为净负荷。有效载荷允许有零个或多个扩展首部(extension header)，再后面是数据部分。</p>
</li>
</ul>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gfqu3nlvbfj30tm0ds42k.jpg" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1、版本：4 位。它指明了协议的版本，对 IPv6 该字段总是 6。 </span><br><span class="line">2、通信量类：8 位。这是为了区分不同的 IPv6 数据报的类别或优先级。目前正在进行不同的通信量类性能的实验。 </span><br><span class="line">3、流标号：20 位。 “流”是互联网络上从特定源点到特定终点的一系列数据报， “流”所经过的路径上的路由器都保证指明的服务质量。所有属于同一个流的数据报都具有同样的流标号。 </span><br><span class="line">4、有效载荷长度：16 位。它指明 IPv6 数据报除基本首部以外的字节数（所有扩展首部都算在有效载荷之内），其最大值是 64 KB。 </span><br><span class="line">5、下一个首部：8 位。它相当于 IPv4 的协议字段或可选字段。 </span><br><span class="line">6、跳数限制：8 位。源站在数据报发出时即设定跳数限制。路由器在转发数据报时将跳数限制字段中的值减 1。当跳数限制的值为零时，就要将此数据报丢弃。 </span><br><span class="line">7、源地址：128 位。是数据报的发送站的 IP 地址。 </span><br><span class="line">8、目的地址：128 位。是数据报的接收站的 IP 地址。</span><br></pre></td></tr></table></figure>
<p>4）地址分类</p>
<ul>
<li><p>单播：每个以太网帧包含源主机和目的主机的以太网地址。通常每个以太网帧发往单个目的主机，目的地址指明单个接收接口</p>
</li>
<li><p>多播：一个主机要向网上的多个主机发送帧</p>
</li>
<li><p>广播：一个主机要向网上的所有其他主机发送帧</p>
</li>
</ul>
<blockquote>
<p> 广播和多播仅应用于 UDP</p>
</blockquote>
<p>5）IPv4 向 IPv6 过渡的策略</p>
<ul>
<li>双协议栈</li>
<li>隧道技术</li>
</ul>
<h2 id="三、地址解析协议-ARP"><a href="#三、地址解析协议-ARP" class="headerlink" title="三、地址解析协议 ARP"></a>三、地址解析协议 ARP</h2><h3 id="1、定义"><a href="#1、定义" class="headerlink" title="1、定义"></a>1、定义</h3><p>ARP 协议是解决同一个局域网上主机（或路由器）的 IP 地址和硬件地址的映射关系</p>
<h3 id="2、解析-MAC-地址的过程"><a href="#2、解析-MAC-地址的过程" class="headerlink" title="2、解析 MAC 地址的过程"></a>2、解析 MAC 地址的过程</h3><p>1）主机A向本局域网上的主机B发送IP数据报时，在其ARP高速缓存中查看有无主机B的IP地址，如果有，就在其ARP高速缓存中查出其对应的MAC地址，再把这个MAC地址写入MAC帧，然后通过局域网把该MAC帧发往这个MAC地址。</p>
<p>2）如果查不到主机B的IP地址，主机A自动运行ARP，ARP进程在本局域网上广播发送一个ARP请求分组</p>
<p>==&gt; 在本局域网上的所有主机上运行的ARP进程都收到此ARP请求分组</p>
<p>==&gt; 主机B的IP地址和ARP请求分组中要查询的IP地址一样，就收下这个ARP请求分组，并向主机A发送ARP相应分组（普通的单播），同时在这个ARP相应分组中写入自己的Mac地址。</p>
<p>==&gt; 主机A收到主机B的ARP相应分组后，在其ARP高速缓存中写入主机B的IP地址到MAC地址的映射</p>
<p>==&gt; 如果所要找的主机和源主机不在同一个局域网上，那么就要通过 ARP 找到一个位于本局域网上的某个路由器的硬件地址，然后把分组发送给这个路由器，让这个路由器把分组转发给下一个网络。剩下的工作就由下一个网络来做。</p>
<h3 id="3、ARP攻击"><a href="#3、ARP攻击" class="headerlink" title="3、ARP攻击"></a>3、ARP攻击</h3><p>按照 IETF 的规定，PC机在发出ARP响应时，不需要一定要先收到ARP请求报文；局域网任何一台计算机都可以向网上发出自己就是IP_A和MAC_A的对应者，这就为攻击者带来了漏洞。</p>
<p>1）ARP欺骗：网络执法官，p2p终结者</p>
<p>2）ARP流量攻击</p>
<h2 id="四、网际控制报文协议-ICMP"><a href="#四、网际控制报文协议-ICMP" class="headerlink" title="四、网际控制报文协议 ICMP"></a>四、网际控制报文协议 ICMP</h2><p>ICMP 是为了更有效地转发 IP 数据报和提高交付成功的机会。</p>
<h3 id="1、ICMP报文的种类"><a href="#1、ICMP报文的种类" class="headerlink" title="1、ICMP报文的种类"></a>1、ICMP报文的种类</h3><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gfqvatxqo9j30po06q0ug.jpg" alt=""></p>
<h3 id="2、应用举例"><a href="#2、应用举例" class="headerlink" title="2、应用举例"></a>2、应用举例</h3><p>1）ping</p>
<p>用来测试两个主机之间的连通性，ping发送一个ICMP回声请求消息给目的地，并报告是否收到所希望的ICMP回声应答。</p>
<p>排除网络故障， 估算带宽。</p>
<ul>
<li>time：查看延迟</li>
</ul>
<p>2）Traceroute</p>
<p>用来跟踪一个分组从源点到终点的路径。</p>
<ul>
<li><p>TTL：是那个数据包的生存时间，等到TTL变成 0 的时候，那个数据包就在网上自动消失了，可以防止数据包在网上做循环。同时还可以大概的判断对方是什么系统（ Linux：64、Window：128、Unix：255   ）</p>
</li>
<li><p>pathping：跟踪数据包的路径，还能计算丢包率</p>
</li>
<li>tracert：跟踪数据包的路径</li>
</ul>
<h3 id="3、ICMPv6"><a href="#3、ICMPv6" class="headerlink" title="3、ICMPv6"></a>3、ICMPv6</h3><p>因为互联网中的路由器可能会丢弃数据报，IPv6 也不保证数据报的可靠交付。因此 IPv6 也需要使用 ICMP 来反馈一些差错信息。新的版本称为 ICMPv6。</p>
<p>地址解析协议 ARP 和网际组管理协议 IGMP 协议的功能都已被合并到 ICMPv6 中。</p>
<h2 id="五、网际组管理协议-IGMP"><a href="#五、网际组管理协议-IGMP" class="headerlink" title="五、网际组管理协议 IGMP"></a>五、网际组管理协议 IGMP</h2><h3 id="1、IP多播"><a href="#1、IP多播" class="headerlink" title="1、IP多播"></a>1、IP多播</h3><p>目的：更好的支持一对多通信（一个源点发送到许多个终点）</p>
<h3 id="2、IGMP-协议"><a href="#2、IGMP-协议" class="headerlink" title="2、IGMP 协议"></a>2、IGMP 协议</h3><p>IGMP 协议是让连接在本地局域网上的多播路由器知道本局域网上是否有主机参与或退出了某个多播组。</p>
<h3 id="3、多播路由选择协议"><a href="#3、多播路由选择协议" class="headerlink" title="3、多播路由选择协议"></a>3、多播路由选择协议</h3><p>能够运行多播协议的路由器称为多播路由器(multicast router)。 </p>
<h2 id="六、互联网的路由选择协议"><a href="#六、互联网的路由选择协议" class="headerlink" title="六、互联网的路由选择协议"></a>六、互联网的路由选择协议</h2><h3 id="1、内部网关协议-IGP-（路由选择协议）"><a href="#1、内部网关协议-IGP-（路由选择协议）" class="headerlink" title="1、内部网关协议 IGP （路由选择协议）"></a>1、内部网关协议 IGP （路由选择协议）</h3><p>在一个自治系统中使用的内部网关协议。</p>
<p>1）静态路由</p>
<p>需要管理员告诉路由器所有没有直连的网络下一跳给谁。（目的网络地址，下一跳地址）其特点是简单和开销较小，但不能及时适应网络状态的变化 。</p>
<p>2）动态路由</p>
<ul>
<li><p>内部网关协议 RIP：选择的标准是路径。周期性的广播路由表给其他路由器，选择最佳路径，30s更新一次。最大跳数是15。</p>
</li>
<li><p>内部网关协议 OSPF：选择的标准是带宽。</p>
</li>
</ul>
<p>其特点是能较好地适应网络状态的变化，但实现起来较为复杂，开销也比较大。</p>
<h3 id="2、外部网关协议-EGP-（路由选择协议）"><a href="#2、外部网关协议-EGP-（路由选择协议）" class="headerlink" title="2、外部网关协议 EGP （路由选择协议）"></a>2、外部网关协议 EGP （路由选择协议）</h3><p>若源主机和目的主机处在不同的自治系统中（这两个自治系统可能使用不同的内部网关协议），当数据报传到一个自治系统的边界时，就需要使用一种协议将路由选择信息传递到另一个自治系统中。 </p>
<h3 id="3、路由器的构成"><a href="#3、路由器的构成" class="headerlink" title="3、路由器的构成"></a>3、路由器的构成</h3><p>路由器是一种具有多个输入端口和多个输出端口的专用计算机，其任务是路由选择和转发分组。</p>
<p>1）路由选择部分</p>
<p>路由选择处理机的任务是根据所选定的路由选择协议构造出路由表，同时经常或定期地和相邻路由器交换路由信息，不断地更新和维护路由表。</p>
<p>2）分组转发部分</p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gfrwumadgaj30qs0aetc8.jpg" alt=""></p>
<ul>
<li><p>交换结构：又称为交换组织，其作用是根据转发表对分组进行处理。</p>
<ul>
<li>通过存储器</li>
<li>通过总线</li>
<li>通过纵横交换结构</li>
</ul>
</li>
<li><p>一组输入端口</p>
<ul>
<li>路由器的输入端口里面装有物理层、数据链路层和网络层的处理模块。</li>
<li>数据链路层剥去帧首部和尾部后，将分组送到网络层的队列中排队等待处理。这会产生一定的时延。 </li>
<li>输入端口中的查找和转发功能在路由器的交换功能中是最重要的。</li>
</ul>
</li>
<li><p>一组输出端口</p>
<ul>
<li>输出端口里面装有物理层、数据链路层和网络层的处理模块。</li>
<li>输出端口从交换结构接收分组，然后把它们发送到路由器外面的线路上。</li>
<li>在网络层的处理模块中设有一个缓冲区（队列）。当交换结构传送过来的分组的速率超过输出链路的发送速率时，来不及发送的分组就必须暂时存放在这个队列中。</li>
<li>数据链路层处理模块将分组加上链路层的首部和尾部，交给物理层后发送到外部线路。</li>
</ul>
</li>
</ul>
<blockquote>
<p>路由器中的输入或输出队列产生溢出是造成分组丢失的重要原因</p>
</blockquote>
<h3 id="4、路由器转发分组流程"><a href="#4、路由器转发分组流程" class="headerlink" title="4、路由器转发分组流程"></a>4、路由器转发分组流程</h3><p>1）从数据报的首部提取目的主机的IP地址 <strong>D</strong>，得出目的网络地址为 <strong>N</strong>。</p>
<p>2）若 <strong>N</strong> 就是与此路由器直接相连的某个网络地址，则进行直接交付，否则就要执行(3)进行间接交付。</p>
<p>直接把数据报交付给目的主机（这里包括把目的主机地址D转换为具体的硬件地址，把数据报封装为MAC帧，再发送此帧）；</p>
<p>3）若路由表中有目的地址为 <strong>D</strong> 的特定主机路由，则把数据报传送给路由表中所指明的下一跳路由器，否则执行(4)。</p>
<p>4）若路由表中有到达网络 <strong>N</strong> 的路由，则把数据报传送给路由表中所指明的下一跳路由器，否则执行(5)。</p>
<p>5）若路由表中有一个默认路由，则把数据报传送给路由表中所指明的下一跳路由器，否则执行(6)。</p>
<p>6）报告转发分组出错。</p>
<h2 id="七、VPN"><a href="#七、VPN" class="headerlink" title="七、VPN"></a>七、VPN</h2><div class="qr-code">
</div><div class="post-tag-list">标签: <a class="post-tags" href="/tags/网络安全/">网络安全</p>
      <div class="post-button"><a class="btn" href="/2021/05/10/%E7%BD%91%E7%BB%9C%E5%B1%82/" rel="noopener"><i class="fa fa-angle-double-right fa-fw"></i>阅读更多</a></div>
    </div>
  </div>
  <div class="lx-entry padding">
    <div>
      <h2 class="title"><a href="/2021/05/04/%E5%BA%94%E7%94%A8%E5%B1%82/">应用层</a></h2>
      <span class="lx-post-detail"><i class="fa fa-calendar-o"></i> 2021-05-04 | <i class="fa fa-folder-o"></i> <a class="category-link" href="/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/">网络安全</a></span>
      <p><h2 id="二、域名系统-DNS"><a href="#二、域名系统-DNS" class="headerlink" title="二、域名系统 DNS"></a>二、域名系统 DNS</h2><h3 id="1、概念"><a href="#1、概念" class="headerlink" title="1、概念"></a>1、概念</h3><p>域名系统 DNS（Domain Name System）是互联网使用的命名系统，用来把人们使用的机器名字转为 IP 地址。</p>
<h3 id="2、域名结构"><a href="#2、域名结构" class="headerlink" title="2、域名结构"></a>2、域名结构</h3><p>互联网采用了层次树状结构的命名方法。任何一个连接在互联网上的主机或路由器，都有一个唯一的层次结构的名字，即域名。域可以划分子域，子域还可以划分子域。语法上每一个域名由标号序列组成，各标号之间用点隔开。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mail.cctv.com</span><br><span class="line">三级域名.二级域名.顶级域名</span><br></pre></td></tr></table></figure>
<h3 id="3、域名服务器"><a href="#3、域名服务器" class="headerlink" title="3、域名服务器"></a>3、域名服务器</h3><p>1）概念</p>
<p>DNS服务器负责解析域名，将域名解析成IP。一个服务器所负责管辖的范围叫做区。每一个区设置相应的权限域名服务器，用来保存该区中的所有主机的域名到 IP 地址的映射。DNS 服务器的管辖范围不是以“域”为单位，而是以 “区”为单位。</p>
<p>2）域名服务器的类型 </p>
<ul>
<li><p>根域名服务器 </p>
<ul>
<li>根域名服务器是最高层次的域名服务器。所有的根域名服务器都知道所有顶级域名服务器的域名和 IP 地址。</li>
<li>在互联网上共有 13 个不同 IP 地址的根域名服务器，（根域名服务器共有 13 套装置，不是 13 个机器。）它们的名字是用一个英文字母命名，从 a 一直到 m（例：a.rootservers.net）。</li>
<li>本地域名服务器对互联网上任何一个域名进行解析，只要自己无法解析首先求助于根域名服务器。根域名服务器不直接把域名转换成 IP 地址。而是使用迭代查询将下一步应当找的顶级域名服务器的 IP 地址告诉它。</li>
</ul>
</li>
<li><p>顶级域名服务器 </p>
<ul>
<li>顶级域名服务器（TLD 服务器）负责管理在该顶级域名服务器注册的所有二级域名。</li>
<li>当收到 DNS 查询请求时，就给出相应的回答（可能是最后的结果，也可能是下一步应当找的域名服务器的 IP 地址）。 </li>
</ul>
</li>
<li><p>权限域名服务器 </p>
<ul>
<li>负责一个区的域名服务器。</li>
<li>当一个权限域名服务器还不能给出最后的查询回答时，就会告诉发出查询请求的 DNS 客户下一步应当找哪一个权限域名服务器。</li>
</ul>
</li>
<li><p>本地域名服务器 （默认域名服务器）</p>
<ul>
<li>当一个主机发出 DNS 查询请求时，这个查询请求报文就发送给本地域名服务器。</li>
</ul>
</li>
</ul>
<h3 id="4、域名解析的过程"><a href="#4、域名解析的过程" class="headerlink" title="4、域名解析的过程"></a>4、域名解析的过程</h3><p>主机所询问的本地域名服务器不知道被查询域名的 IP 地址，本地域名服务器就以 DNS 客户的身份，向其他根域名服务器继续发出查询请求报文。当根域名服务器收到本地域名服务器的请求报文时，要么给出所要查询的 IP 地址，要么告诉本地域名服务器下一步向哪一个域名服务器进行查询。然后让本地域名服务器进行后续的查询。最后将查询结果告诉主机。</p>
<h3 id="5、域名解析测试"><a href="#5、域名解析测试" class="headerlink" title="5、域名解析测试"></a>5、域名解析测试</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ping XXX</span><br><span class="line">nslookup XXX</span><br></pre></td></tr></table></figure>
<h2 id="二、万维网-WWW"><a href="#二、万维网-WWW" class="headerlink" title="二、万维网 WWW"></a>二、万维网 WWW</h2><h3 id="1、万维网概述"><a href="#1、万维网概述" class="headerlink" title="1、万维网概述"></a>1、万维网概述</h3><p>1）概念</p>
<p>万维网WWW (World Wide Web) 是一个大规模的、联机式的信息储藏所。万维网用链接的方法能非常方便地从互联网上的一个站点访问另一个站点，从而主动地按需获取丰富的信息。超文本是万维网的基础。</p>
<p>2）万维网的工作方式 </p>
<p>万维网以客户服务器方式工作。客户端向服务器发出请求，服务器向客户端送回相应的万维网文档。在一个客户端主窗口上显示出的万维网文档称为页面 (page)。</p>
<p>浏览器就是在用户计算机上的万维网客户程序。万维网文档所驻留的计算机运行服务器程序，这个计算机称为万维网服务器。</p>
<p>3）万维网必须解决的问题 </p>
<ul>
<li>怎样标志分布在整个互联网上的万维网文档？ </li>
</ul>
<p>使用统一资源定位符 URL 来标志万维网上的各种文档。使每一个文档在整个互联网的范围内具有唯一的标识符 URL。 </p>
<ul>
<li>用何协议实现万维网上各种超链的链接？ </li>
</ul>
<p>在万维网客户程序与万维网服务器程序之间进行交互所使用的协议是超文本传送协议 HTTP。</p>
<ul>
<li>怎样使各种万维网文档都能在互联网上的各种计算机上显示出来，同时使用户知道在什么地方存在超链？ </li>
</ul>
<p>超文本标记语言 HTML (HyperText Markup Language) 使得万维网页面的设计者可以很方便地用一个超链从本页面的某处链接到互联网上的任何一个万维网页面，并且能够在自己的计算机屏幕上将这些页面显示出来。 </p>
<ul>
<li>怎样使用户能够很方便地找到所需的信息？ </li>
</ul>
<p>为了在万维网上方便地查找信息，用户可使用各种的搜索工具（即搜索引擎）。 </p>
<h3 id="2、统一资源定位符-URL"><a href="#2、统一资源定位符-URL" class="headerlink" title="2、统一资源定位符 URL"></a>2、统一资源定位符 URL</h3><p>1）URL的概念</p>
<p>URL（Uniform Resource Locator）给资源的位置提供一种抽象的识别方法，并用这种方法给资源定位。</p>
<p>2）URL的格式</p>
<p>&lt;协议&gt;://&lt;主机&gt;:&lt;端口&gt;/&lt;路径&gt;</p>
<table>
<thead>
<tr>
<th>名字</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt;协议&gt;</td>
<td>用什么协议来获取万维网文档</td>
</tr>
<tr>
<td>://</td>
<td>规定的格式</td>
</tr>
<tr>
<td>&lt;主机&gt;</td>
<td>存放资源的主机在互联网中的域名</td>
</tr>
<tr>
<td>&lt;端口&gt;/&lt;路径&gt;</td>
<td>有时可省略</td>
</tr>
</tbody>
</table>
<h3 id="3、超文本传送协议-HTTP"><a href="#3、超文本传送协议-HTTP" class="headerlink" title="3、超文本传送协议 HTTP"></a>3、超文本传送协议 HTTP</h3><p>1）概念</p>
<p>为了使超文本的链接能够高效率地完成，需要用 HTTP 协议 (HyperText Transfer Protocol)来传送一切必须的信息。HTTP 是面向事务的应用层协议，它是万维网上能够可靠地交换文件（包括文本、声音、图像等各种多媒体文件）的重要基础。 </p>
<p>2）HTTP 的报文结构 </p>
<ul>
<li>请求报文（从客户向服务器发送请求报文）</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1、请求行：请求方法，请求URI，协议版本，CRLF</span><br><span class="line">2、报文首部：包括通用头部，请求头部，实体头部每个一行以CRLF结束</span><br><span class="line">3、空行：请求头和消息实体之间有一个CRLF分隔</span><br><span class="line">4、报文主体：可以添加任意的其他数据。一般不用。</span><br></pre></td></tr></table></figure>
<ul>
<li>响应报文（从服务器到客户的回答）</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1、状态行：HTTP 版本，状态码，状态描述，后面跟一个CRLF</span><br><span class="line">2、报文首部：通用头部，响应头部，实体头部</span><br><span class="line">3、空行：响应头部和响应实体之间用一个CRLF空行分隔</span><br><span class="line">4、报文主体：服务器返回给客户端的文本信息。</span><br></pre></td></tr></table></figure>
<p>3）Cookie</p>
<p>HTTP 协议是无状态的协议，之前认证成功的用户状态无法通过协议层保存下来，所以就出来了 Session。Session是服务器端一种记录用户状态的机制，当用户完成注册并将注册信息提交到服务器后，服务器端会创建一个新的Session来记录用户的信息，并用一个唯一的Session ID来标识，处理完请求向客户端返回响应时，会在首部字段 Set-Cookie 内写入这个 Session ID 。客户端接受到这个 Session ID 后，会保存到本地 Cookie中，下次向服务器发送请求时客户端会将该 Session ID 发送到服务器，服务器通过验证收到的 Session ID 识别用户。</p>
<h3 id="4、万维网的文档"><a href="#4、万维网的文档" class="headerlink" title="4、万维网的文档"></a>4、万维网的文档</h3><p>1）超文本标记语言 HTML</p>
<p>仅当 HTML 文档是以 .html 或 .htm 为后缀时，浏览器才对此文档的各种标签进行解析。</p>
<p>2）XML</p>
<p>XML (Extensible Markup Language)是可扩展标记语言，它和HTML很相似。但XML的设计宗旨是传输数据，而不是显示数据（HTML是为了在浏览器上显示数据）。XML 不是要替换 HTML，而是对 HTML 的补充。</p>
<p>3）XHTML</p>
<p>XHTML (Extensible HTML) 是可扩展超文本标记语言，它与 HTML 4.01 几乎是相同的。XHTML 是更严格的 HTML 版本，是作为一种 XML 应用被重新定义的 HTML，并将逐渐取代 HTML。</p>
<p>4）动态万维网文档 </p>
<p>静态文档是指该文档创作完毕后就存放在万维网服务器中，在被用户浏览的过程中，内容不会改变。 动态文档是指文档的内容是在浏览器访问万维网服务器时才由应用程序动态创建。</p>
<p>5）万维网服务器功能的扩充 </p>
<ul>
<li>通用网关接口 CGI (Common Gateway Interface)</li>
</ul>
<table>
<thead>
<tr>
<th>名字</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>通用</td>
<td>CGI 标准所定义的规则对其他任何语言都是通用的</td>
</tr>
<tr>
<td>网关</td>
<td>CGI 程序的作用像网关</td>
</tr>
<tr>
<td>接口</td>
<td>有一些已定义好的变量和调用等可供其他 CGI 程序使用</td>
</tr>
</tbody>
</table>
<p>CGI 是一种标准，它定义了动态文档应如何创建，输入数据应如何提供给应用程序，以及输出结果应如何使用。</p>
<ul>
<li>活动万维网文档</li>
</ul>
<p>活动文档 (active document) 技术把所有的工作都转移给浏览器端。每当浏览器请求一个活动文档时，服务器就返回一段程序副本在浏览器端运行。</p>
<h3 id="5、万维网的信息检索系统"><a href="#5、万维网的信息检索系统" class="headerlink" title="5、万维网的信息检索系统"></a>5、万维网的信息检索系统</h3><p>在万维网中用来进行搜索的程序叫做搜索引擎。</p>
<p>1）全文检索搜索引擎：它的工作原理是通过搜索软件到互联网上的各网站收集信息，找到一个网站后可以从这个网站再链接到另一个网站。然后按照一定的规则建立一个很大的在线数据库供用户查询。</p>
<p>2）分类目录搜索：不采集网站的任何信息，而是利用各网站向搜索引擎提交的网站信息时填写的关键词和网站描述等信息，经过人工审核编辑后，如果认为符合网站登录的条件，则输入到分类目录的数据库中，供网上用户查询。</p>
<h2 id="三、文件传送协议-FTP"><a href="#三、文件传送协议-FTP" class="headerlink" title="三、文件传送协议 FTP"></a>三、文件传送协议 FTP</h2><h3 id="1、FTP-特点"><a href="#1、FTP-特点" class="headerlink" title="1、FTP 特点"></a>1、FTP 特点</h3><p>FTP（File Transfer Protocol）使用客户服务器方式，它使用 TCP 可靠的运输服务。一个 FTP 服务器进程可同时为多个客户进程提供服务。FTP 的服务器进程由两大部分组成：一个主进程，负责接受新的请求；另外有若干个从属进程，负责处理单个请求。</p>
<h3 id="2、FTP-工作原理"><a href="#2、FTP-工作原理" class="headerlink" title="2、FTP 工作原理"></a>2、FTP 工作原理</h3><p>1）两个连接</p>
<ul>
<li><p>TCP控制连接：控制连接在整个会话期间一直保持打开，FTP 客户发出的传送请求通过控制连接发送给服务器端的控制进程，但控制连接不用来传送文件。</p>
</li>
<li><p>TCP数据连接：服务器端的控制进程在接收到 FTP 客户发送来的文件传输请求后就创建“数据传送进程”和“数据连接”，用来连接客户端和服务器端的数据传送进程。</p>
</li>
</ul>
<p>2）TCP数据连接建立的两种方式</p>
<ul>
<li>主动模式</li>
</ul>
<p>当客户进程向服务器进程发出建立连接请求时，要寻找连接服务器进程的熟知端口 (21)，同时还要告诉服务器进程自己的另一个端口号码，用于建立数据传送连接。接着，服务器进程用自己传送数据的熟知端口 (21) 与客户进程所提供的端口号码建立数据传送连接。</p>
<ul>
<li>被动模式</li>
</ul>
<p>FTP服务器打开一个新的端口，等待TCP客户端的连接。</p>
<h3 id="3、简单文件传送协议-TFTP"><a href="#3、简单文件传送协议-TFTP" class="headerlink" title="3、简单文件传送协议 TFTP"></a>3、简单文件传送协议 TFTP</h3><p>1）概念</p>
<p>TFTP（Trivial File Transfer Protocol）使用客户服务器方式和使用 UDP 数据报，因此 TFTP 需要有自己的差错改正措施。TFTP 是一个很小且易于实现的文件传送协议。  TFTP 只支持文件传输而不支持交互。TFTP 没有一个庞大的命令集，没有列目录的功能，也不能对用户进行身份鉴别。 </p>
<p>2）TFTP 工作步骤</p>
<p>当 TFTP 客户进程发送一个读请求 PDU 或写请求 PDU 给 TFTP 服务器进程，TFTP 客户进程选择一个随机端口和TFTP 服务器进程的端口（ 69）进行通信。若文件长度恰好为 512 字节的整数倍，则在文件传送完毕后，还必须在最后发送一个只含首部而无数据的数据 PDU。若文件长度不是 512 字节的整数倍，则最后传送数据 PDU 的数据字段一定不满 512 字节，这正好可作为文件结束的标志。</p>
<h2 id="四、远程终端协议-TELNET"><a href="#四、远程终端协议-TELNET" class="headerlink" title="四、远程终端协议 TELNET"></a>四、远程终端协议 TELNET</h2><h3 id="1、概念-1"><a href="#1、概念-1" class="headerlink" title="1、概念"></a>1、概念</h3><p>TELNET 使用客户服务器方式。用户用 TELNET 就可在其所在地通过 TCP 连接注册（即登录）到远地的另一个主机上（使用主机名或 IP 地址）。TELNET 能将用户的击键传到远地主机，同时也能将远地主机的输出通过 TCP 连接返回到用户屏幕。这种服务是透明的，因为用户感觉到好像键盘和显示器是直接连在远地主机上。 </p>
<h3 id="2、过程"><a href="#2、过程" class="headerlink" title="2、过程"></a>2、过程</h3><p>现在由于 PC 的功能越来越强，用户已较少使用 TELNET 了。</p>
<h2 id="五、电子邮件"><a href="#五、电子邮件" class="headerlink" title="五、电子邮件"></a>五、电子邮件</h2><h3 id="1、电子邮件概述"><a href="#1、电子邮件概述" class="headerlink" title="1、电子邮件概述"></a>1、电子邮件概述</h3><p>发送邮件的协议为 SMTP，读取邮件的协议为POP3 和 IMAP。发送方把邮件发送到收件人的邮件服务器，收件人可随时上网到自己使用的邮件服务器查看。</p>
<h3 id="2、电子邮件地址的格式"><a href="#2、电子邮件地址的格式" class="headerlink" title="2、电子邮件地址的格式"></a>2、电子邮件地址的格式</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">收件人邮箱名@邮箱所在主机的域名</span><br></pre></td></tr></table></figure>
<p>符号“@”读作“at”，表示“在”的意思。 </p>
<h3 id="3、电子邮件的信息格式"><a href="#3、电子邮件的信息格式" class="headerlink" title="3、电子邮件的信息格式"></a>3、电子邮件的信息格式</h3><p>一个电子邮件分为信封和内容两大部分。RFC 822 只规定了邮件内容中的首部 (header) 格式，而对邮件的主体 (body )部分则让用户自由撰写。首部为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">“To:” 后面填入一个或多个收件人的电子邮件地址。用户只需打开地址簿，点击收件人名字，收件人的电子邮件地址就会自动地填入到合适的位置上。</span><br><span class="line">“Subject:” 是邮件的主题。它反映了邮件的主要内容，便于用户查找邮件。</span><br><span class="line">“Cc:”  表示应给某某人发送一个邮件副本。</span><br><span class="line">“From” 和 “Date” 表示发信人的电子邮件地址和发信日期。</span><br><span class="line">“Reply-To” 是对方回信所用的地址。</span><br></pre></td></tr></table></figure>
<h3 id="4、简单邮件传送协议-SMTP"><a href="#4、简单邮件传送协议-SMTP" class="headerlink" title="4、简单邮件传送协议 SMTP"></a>4、简单邮件传送协议 SMTP</h3><p>SMTP 所规定的就是在两个相互通信的 SMTP 进程之间应如何交换信息。SMTP 规定了 14 条命令和 21 种应答信息。SMTP 通信的三个阶段为</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">连接建立：连接是在发送主机的 SMTP 客户和接收主机的 SMTP 服务器之间建立的。</span><br><span class="line">邮件传送</span><br><span class="line">连接释放：邮件发送完毕后，SMTP 应释放 TCP 连接。</span><br></pre></td></tr></table></figure>
<h3 id="5、邮件读取协议-POP3-和-IMAP"><a href="#5、邮件读取协议-POP3-和-IMAP" class="headerlink" title="5、邮件读取协议 POP3 和 IMAP"></a>5、邮件读取协议 POP3 和 IMAP</h3><p>IMAP 的缺点是如果用户没有将邮件复制到自己的 PC 上，则邮件一直是存放在 IMAP 服务器上。因此用户需要经常与 IMAP 服务器建立连接。  </p>
<h3 id="6、基于万维网的电子邮件"><a href="#6、基于万维网的电子邮件" class="headerlink" title="6、基于万维网的电子邮件"></a>6、基于万维网的电子邮件</h3><p>用户不需要安装用户代理软件在只要能上网的计算机上就能发送邮件</p>
<h3 id="7、通用互联网邮件扩充-MIME"><a href="#7、通用互联网邮件扩充-MIME" class="headerlink" title="7、通用互联网邮件扩充 MIME"></a>7、通用互联网邮件扩充 MIME</h3><p>SMTP 的缺点：不能传送可执行文件或其他的二进制对象。SMTP限于传送7位的ASCII码。SMTP服务器会拒绝超过一定长度的邮件。某些实现没有按照标准。</p>
<p>=&gt; MIME 增加了邮件主体的结构，并定义了传送非 ASCII 码的编码规则。</p>
<p><strong>MIME 主要包括三个部分 </strong></p>
<ul>
<li>5 个新的邮件首部字段，这些字段提供了有关邮件主体的信息。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MIME-Version：标志 MIME 的版本。现在的版本号是 1.0。若无此行，则为英文文本。</span><br><span class="line">Content-Description：这是可读字符串，说明此邮件是什么。和邮件的主题差不多。</span><br><span class="line">Content-Id：邮件的唯一标识符。 </span><br><span class="line">Content-Transfer-Encoding：在传送时邮件的主体是如何编码的。</span><br><span class="line">Content-Type：说明邮件的性质。</span><br></pre></td></tr></table></figure>
<ul>
<li><p>定义了很多邮件内容的格式，对多媒体电子邮件的表示方法进行了标准化。</p>
</li>
<li><p>定义了传送编码，可对任何内容格式进行转换，而不会被邮件系统改变。</p>
</li>
</ul>
<h2 id="六、动态主机配置协议-DHCP"><a href="#六、动态主机配置协议-DHCP" class="headerlink" title="六、动态主机配置协议 DHCP"></a>六、动态主机配置协议 DHCP</h2><h3 id="1、概念-2"><a href="#1、概念-2" class="headerlink" title="1、概念"></a>1、概念</h3><p>互联网广泛使用的动态主机配置协议 DHCP (Dynamic Host Configuration Protocol) 提供了即插即用的连网 (plug-and-play networking) 机制。这种机制允许一台计算机加入新的网络和获取 IP 地址而不用手工参与。</p>
<h3 id="2、DHCP-客户服请求IP地址的过程"><a href="#2、DHCP-客户服请求IP地址的过程" class="headerlink" title="2、DHCP 客户服请求IP地址的过程"></a>2、DHCP 客户服请求IP地址的过程</h3><p>需要 IP 地址的主机在启动时就向 DHCP 服务器广播发送发现报文（DHCPDISCOVER），这时该主机就成为 DHCP 客户。本地网络上所有主机都能收到此广播报文，但只有 DHCP 服务器才回答此广播报文。DHCP 服务器先在其数据库中查找该计算机的配置信息。若找到，则返回找到的信息。若找不到，则从服务器的 IP 地址池(address pool)中取一个地址分配给该计算机。DHCP 服务器的回答报文叫做提供报文（DHCPOFFER）。 </p>
<h3 id="3、跨网段地址分配-gt-DHCP-中继代理"><a href="#3、跨网段地址分配-gt-DHCP-中继代理" class="headerlink" title="3、跨网段地址分配 =&gt; DHCP 中继代理"></a>3、跨网段地址分配 =&gt; DHCP 中继代理</h3><p>并不是每个网络上都有 DHCP 服务器，这样会使 DHCP 服务器的数量太多。现在是每一个网络至少有一个 DHCP 中继代理，它配置了 DHCP 服务器的 IP 地址信息。当 DHCP 中继代理（relay agent）收到主机发送的发现报文后，就以单播方式向 DHCP 服务器转发此报文，并等待其回答。收到 DHCP 服务器回答的提供报文后，DHCP 中继代理再将此提供报文发回给主机。</p>
<h3 id="4、租用期-lease-period"><a href="#4、租用期-lease-period" class="headerlink" title="4、租用期 (lease period)"></a>4、租用期 (lease period)</h3><p>DHCP 服务器分配给 DHCP 客户的 IP 地址的临时的。租用期的数值应由 DHCP 服务器自己决定。DHCP 客户也可在自己发送的报文中（例如，发现报文）提出对租用期的要求。  </p>
<h2 id="七、简单网络管理协议-SNMP"><a href="#七、简单网络管理协议-SNMP" class="headerlink" title="七、简单网络管理协议 SNMP"></a>七、简单网络管理协议 SNMP</h2><h3 id="1、网络管理的基本概念"><a href="#1、网络管理的基本概念" class="headerlink" title="1、网络管理的基本概念"></a>1、网络管理的基本概念</h3><h3 id="2、管理信息结构-SMI"><a href="#2、管理信息结构-SMI" class="headerlink" title="2、管理信息结构 SMI"></a>2、管理信息结构 SMI</h3><h3 id="3、管理信息库-MIB"><a href="#3、管理信息库-MIB" class="headerlink" title="3、管理信息库 MIB"></a>3、管理信息库 MIB</h3><h3 id="4、SNMP-的协议数据单元和报文"><a href="#4、SNMP-的协议数据单元和报文" class="headerlink" title="4、SNMP 的协议数据单元和报文"></a>4、SNMP 的协议数据单元和报文</h3>

</div><div class="post-tag-list">标签: <a class="post-tags" href="/tags/网络安全/">网络安全</p>
      <div class="post-button"><a class="btn" href="/2021/05/04/%E5%BA%94%E7%94%A8%E5%B1%82/" rel="noopener"><i class="fa fa-angle-double-right fa-fw"></i>阅读更多</a></div>
    </div>
  </div>
  <div class="lx-entry padding">
    <div>
      <h2 class="title"><a href="/2020/10/13/%E5%B8%B8%E7%94%A8Bash%E5%91%BD%E4%BB%A4%E6%95%B4%E7%90%86%E4%B9%8B%E5%85%B6%E4%BB%96%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/">常用Bash命令整理之其他常用命令</a></h2>
      <span class="lx-post-detail"><i class="fa fa-calendar-o"></i> 2020-10-13 | <i class="fa fa-folder-o"></i> <a class="category-link" href="/categories/%E8%BD%AF%E4%BB%B6/">软件</a></span>
      <p><h2 id="1-hostname-查看主机名"><a href="#1-hostname-查看主机名" class="headerlink" title="1. hostname - 查看主机名"></a>1. hostname - 查看主机名</h2><p><code>hostname</code>命令用于查看系统的主机名，或是修改系统的主机名。</p>
<p><code>hostname</code>的常用命令如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 显示系统的当前主机名</span></span><br><span class="line">hostname</span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改你系统的主机名</span></span><br><span class="line">hostname blinkfox-system</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -F 选项，从指定的文件中读取主机名</span></span><br><span class="line">hostname -F /root/hostname.txt</span><br></pre></td></tr></table></figure>

<h2 id="2-uptime-查看系统运行时间"><a href="#2-uptime-查看系统运行时间" class="headerlink" title="2. uptime - 查看系统运行时间"></a>2. uptime - 查看系统运行时间</h2><p><code>uptime</code>命令用于打印系统的运行时间等信息。使用如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uptime</span><br></pre></td></tr></table></figure>

<h2 id="3-w、who-列出登录的用户"><a href="#3-w、who-列出登录的用户" class="headerlink" title="3. w、who - 列出登录的用户"></a>3. w、who - 列出登录的用户</h2><p><code>w</code>命令用于显示登录用户及他们当前运行的进程。输入的内容格式如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">w</span><br><span class="line"></span><br><span class="line"><span class="comment"># 打印如下</span></span><br><span class="line">22:42  up 18 days, 1 hr, 2 users, load averages: 1.23 1.79 1.75</span><br><span class="line">USER     TTY      FROM              LOGIN@  IDLE WHAT</span><br><span class="line">blinkfox console  -                日19   6days -</span><br><span class="line">blinkfox s000     -                五23       - w</span><br></pre></td></tr></table></figure>

<p><code>who</code>命令有与<code>w</code>命令类似的用途，但它的功能比<code>w</code>命令更强大一些。语法格式如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">who [OPTION]... [FILE | ARG1 ARG2]</span><br></pre></td></tr></table></figure>

<p><code>who</code>常用命令如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 显示当前登录的所有用户信息</span></span><br><span class="line">who</span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示系统的启动时间</span></span><br><span class="line">who -b</span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示系统登录进程</span></span><br><span class="line">who -l</span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示与当前标准输入关联的用户信息</span></span><br><span class="line">who -m</span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示系统的运行级别</span></span><br><span class="line">who -r</span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示所有登录用户的用户名和登录用户数</span></span><br><span class="line">who -q</span><br></pre></td></tr></table></figure>

<h2 id="4-uname-查看系统信息"><a href="#4-uname-查看系统信息" class="headerlink" title="4. uname - 查看系统信息"></a>4. uname - 查看系统信息</h2><p><code>uname</code>命令用于打印内核名称和版本、主机名等系统信息。命令的语法如下所示：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uname [OPTION]...</span><br></pre></td></tr></table></figure>

<p>常用使用方式如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 只打印内核的名称</span></span><br><span class="line">uname</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -n 选项，只打印系统的主机名</span></span><br><span class="line">uname -n</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -r 选项，打印内核版本信息</span></span><br><span class="line">uname -r</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -m 选项，打印系统的硬件名称</span></span><br><span class="line">uname -m</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -p 选项，打印系统的处理器类型信息</span></span><br><span class="line">uname -p</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -i 选项，打印系统的硬件平台信息</span></span><br><span class="line">uname -i</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -a 选项，打印上述所有示例中的信息</span></span><br><span class="line">uname -a</span><br></pre></td></tr></table></figure>

<h2 id="5-date-显示和设置系统日期和时间"><a href="#5-date-显示和设置系统日期和时间" class="headerlink" title="5. date - 显示和设置系统日期和时间"></a>5. date - 显示和设置系统日期和时间</h2><p><code>date</code>命令用于以多种格式显示日期和时间，或设置系统的日期和时间。<code>date</code>命令的语法如下所示：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">date [OPTION]... [+FORMAT]</span><br><span class="line">date [-u|--utc|--universal] [MMDDhhmm[[CC]YY][.ss]]</span><br></pre></td></tr></table></figure>

<p>常用使用命令如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 以默认格式显示系统的当前日期时间</span></span><br><span class="line">date</span><br><span class="line"></span><br><span class="line"><span class="comment"># 格式化当前日期</span></span><br><span class="line">date +<span class="string">&quot;%Y-%m-%d&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 格式化输出昨天的日期</span></span><br><span class="line">date -d <span class="string">&quot;1 day ago&quot;</span> +<span class="string">&quot;%Y-%m-%d&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2秒后格式化输出</span></span><br><span class="line">date -d <span class="string">&quot;2 second&quot;</span> +<span class="string">&quot;%Y-%m-%d %H:%M.%S&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 普通格式化转出</span></span><br><span class="line">date -d <span class="string">&quot;2009-12-12&quot;</span> +<span class="string">&quot;%Y/%m/%d %H:%M.%S&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># apache格式转换</span></span><br><span class="line">date -d <span class="string">&quot;Dec 5, 2009 12:00:37 AM&quot;</span> +<span class="string">&quot;%Y-%m-%d %H:%M.%S&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 日期加减操作</span></span><br><span class="line">date +%Y%m%d <span class="comment">#显示前天年月日</span></span><br><span class="line">date -d <span class="string">&quot;+1 day&quot;</span> +%Y%m%d <span class="comment">#显示前一天的日期</span></span><br><span class="line">date -d <span class="string">&quot;-1 day&quot;</span> +%Y%m%d <span class="comment">#显示后一天的日期</span></span><br><span class="line">date -d <span class="string">&quot;-1 month&quot;</span> +%Y%m%d <span class="comment">#显示上一月的日期</span></span><br><span class="line">date -d <span class="string">&quot;+1 month&quot;</span> +%Y%m%d <span class="comment">#显示下一月的日期</span></span><br><span class="line">date -d <span class="string">&quot;-1 year&quot;</span> +%Y%m%d <span class="comment">#显示前一年的日期</span></span><br><span class="line">date -d <span class="string">&quot;+1 year&quot;</span> +%Y%m%d <span class="comment">#显示下一年的日期</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 设定时间</span></span><br><span class="line">date -s <span class="comment"># 设置当前时间，只有root权限才能设置，其他只能查看</span></span><br><span class="line">date -s 20160816 <span class="comment"># 设置成20160816，这样会把具体时间设置成空00:00:00</span></span><br><span class="line">date -s 01:01:01 <span class="comment"># 设置具体时间，不会对日期做更改</span></span><br><span class="line">date -s <span class="string">&quot;01:01:01 2012-05-23&quot;</span> <span class="comment"># 这样可以设置全部时间 </span></span><br><span class="line">date -s <span class="string">&quot;01:01:01 20120523&quot;</span> <span class="comment"># 这样可以设置全部时间</span></span><br><span class="line">date -s <span class="string">&quot;2012-05-23 01:01:01&quot;</span> <span class="comment"># 这样可以设置全部时间 </span></span><br><span class="line">date -s <span class="string">&quot;20120523 01:01:01&quot;</span> <span class="comment"># 这样可以设置全部时间</span></span><br></pre></td></tr></table></figure>

<h2 id="6-id-显示用户属性"><a href="#6-id-显示用户属性" class="headerlink" title="6. id - 显示用户属性"></a>6. id - 显示用户属性</h2><p><code>id</code>命令用于打印输出用户<code>uid</code>、<code>gid</code>、用户名和组名等用户身份信息。<code>id</code>命令的语法如下所示：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id [OPTION]... [USERNAME]</span><br></pre></td></tr></table></figure>

<p>常见使用命令如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 输出当前用户的uid、用户名、gid、组名及用户属于的群组信息</span></span><br><span class="line">id</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -u 选项，输出用户的 uid</span></span><br><span class="line">id -u</span><br><span class="line"></span><br><span class="line"><span class="comment">#-u 选项和 -n 选项结合使用，输出账户的用户名</span></span><br><span class="line">id -un</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -g 选项，输出帐号当前起作用的gid</span></span><br><span class="line">id -g</span><br><span class="line"></span><br><span class="line"><span class="comment"># -g 与 -n 选项结合使用，输出帐号当前起作用的用户组名</span></span><br><span class="line">id -gn</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -G 选项，输出帐号所属的所有群组id</span></span><br><span class="line">id -G root</span><br><span class="line"></span><br><span class="line"><span class="comment"># -G 与 -n 选项结合使用，输出账号所属的所有群组的名称</span></span><br><span class="line">id -Gn root</span><br></pre></td></tr></table></figure></p>
      <div class="post-button"><a class="btn" href="/2020/10/13/%E5%B8%B8%E7%94%A8Bash%E5%91%BD%E4%BB%A4%E6%95%B4%E7%90%86%E4%B9%8B%E5%85%B6%E4%BB%96%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/" rel="noopener"><i class="fa fa-angle-double-right fa-fw"></i>阅读更多</a></div>
    </div>
  </div>
  <div class="lx-entry padding">
    <div>
      <h2 class="title"><a href="/2020/10/11/%E5%B8%B8%E7%94%A8Bash%E5%91%BD%E4%BB%A4%E6%95%B4%E7%90%86%E4%B9%8B%E6%96%87%E6%9C%AC%E5%A4%84%E7%90%86/">常用Bash命令整理之文本处理</a></h2>
      <span class="lx-post-detail"><i class="fa fa-calendar-o"></i> 2020-10-11 | <i class="fa fa-folder-o"></i> <a class="category-link" href="/categories/%E8%BD%AF%E4%BB%B6/">软件</a></span>
      <p><h2 id="1-sort-文本排序"><a href="#1-sort-文本排序" class="headerlink" title="1. sort - 文本排序"></a>1. sort - 文本排序</h2><p><code>sort</code>命令用于将文本文件的行排序。默认情况下，<code>sort</code>命令是按照字符串的字母顺序排序。</p>
<p>sort 的常用命令如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将文本内容按字母顺序排序</span></span><br><span class="line">sort example.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -u 选项，移除所有重复行后排序</span></span><br><span class="line">sort -u example.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -n 选项，将令数字按数值的大小排序</span></span><br><span class="line">sort -n example.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -r 选项，以倒序方式排序</span></span><br><span class="line">sort -n -r example.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 同时将 file1、file2 的内容排序</span></span><br><span class="line">sort file1 file2</span><br></pre></td></tr></table></figure>

<h2 id="2-uniq-文本去重"><a href="#2-uniq-文本去重" class="headerlink" title="2.uniq - 文本去重"></a>2.uniq - 文本去重</h2><p><code>uniq</code>命令用于移除或发现文件中重复的条目。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 它将移除文件中重复的行并显示单一行</span></span><br><span class="line">uniq example.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 可以统计重复行出现的次数</span></span><br><span class="line">uniq -c example.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -d 选项，只显示文件中有重复的行并只显示一次</span></span><br><span class="line">uniq -d example.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -D 选项，显示文件中所有重复的行</span></span><br><span class="line">uniq -D example.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -u 选项，只显示文件中不重复的行</span></span><br><span class="line">uniq -u example.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -w 选项，限制 uniq 命令只比较每行的前 3 个字符是否重复</span></span><br><span class="line">uniq -w 3 example.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -s 选项，避免 uniq 命令比较每行的前 3 个字符，只比较后面的字符是否重复</span></span><br><span class="line">uniq -s 3 example.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -f 选项，避免 uniq 命令比较第一列的内容，只比较后面的字符是否重复</span></span><br><span class="line">uniq -f 1 example.txt</span><br></pre></td></tr></table></figure>

<h2 id="3-tr-替换或删除字符"><a href="#3-tr-替换或删除字符" class="headerlink" title="3.tr - 替换或删除字符"></a>3.tr - 替换或删除字符</h2><p><code>tr</code>命令主要用于删除文件中控制字符或进行字符转换。使用<code>tr</code>时要转换两个字符串：字符串 1 用于查询，字符串 2 用于处理各种转换。<code>tr</code>刚执行时，字符串 1 中的字符被映射到字符串 2 中的字符，然后转换操作开始。</p>
<p><code>tr</code>命令的语法如下所示：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tr [OPTION]... SET1 [SET2]</span><br></pre></td></tr></table></figure>

<p>常用命令示例：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 若要将大括号转换为小括号</span></span><br><span class="line">tr <span class="string">&#x27;&#123;&#125;&#x27;</span> <span class="string">&#x27;()&#x27;</span> &lt; textfile &gt; newfile</span><br><span class="line"></span><br><span class="line"><span class="comment"># 若要将大括号转换成方括号</span></span><br><span class="line">tr <span class="string">&#x27;&#123;&#125;&#x27;</span> <span class="string">&#x27;\[]&#x27;</span> &lt; textfile &gt; newfile</span><br><span class="line"></span><br><span class="line"><span class="comment"># 若要将小写字符转换成大写，请输入：</span></span><br><span class="line">tr <span class="string">&#x27;a-z&#x27;</span> <span class="string">&#x27;A-Z&#x27;</span> &lt; textfile &gt; newfile</span><br><span class="line"></span><br><span class="line"><span class="comment"># 若要创建一个文件中的单词列表</span></span><br><span class="line">tr -cs <span class="string">&#x27;[:lower:][:upper:]&#x27;</span> <span class="string">&#x27;[\n*]&#x27;</span> &lt; textfile &gt; newfile</span><br><span class="line"></span><br><span class="line"><span class="comment"># 若要从某个文件中删除所有空字符</span></span><br><span class="line">tr -d <span class="string">&#x27;\0&#x27;</span> &lt; textfile &gt; newfile</span><br><span class="line"></span><br><span class="line"><span class="comment"># 若要用单独的换行替换每一序列的一个或多个换行，请输入：</span></span><br><span class="line">tr -s <span class="string">&#x27;\n&#x27;</span> &lt; textfile &gt; newfile</span><br><span class="line"></span><br><span class="line"><span class="comment"># 要以单个“#”字符替换 &lt;space&gt; 字符类中的每个字符序列</span></span><br><span class="line">tr -s <span class="string">&#x27;[:space:]&#x27;</span> <span class="string">&#x27;[#*]&#x27;</span></span><br></pre></td></tr></table></figure>

<h2 id="4-grep-查找字符串"><a href="#4-grep-查找字符串" class="headerlink" title="4.grep - 查找字符串"></a>4.grep - 查找字符串</h2><p><code>grep</code>命令用于搜索文本或指定的文件中与指定的字符串或模式相匹配的行。默认情况下，<code>grep</code>命令只显示匹配的行。</p>
<p><code>grep</code>命令的语法如下所示：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">grep [OPTION]... PATTERN [FILE]...</span><br><span class="line">grep [OPTION]... [-e PATTERN | -f FILE] [FILE]...</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># `grep`命令查找文件/etc/passwd 中帐号 blinkfox 的信息</span></span><br><span class="line">grep blinkfox /etc/passwd</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -i 选项，强制 grep 命令忽略搜索关键字的大小写</span></span><br><span class="line">grep -i blinkfox /etc/passwd</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -r 选项，可以递归搜索指定目录下的所有文件</span></span><br><span class="line">grep -r blinkfox /etc/</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -w 选项，只匹配包含指定单词的行</span></span><br><span class="line">grep -w blinkfox /etc/</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -c 选项，报告文件或文本中模式被匹配的次数</span></span><br><span class="line">grep -c blinkfox /etc/passwd</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -n 选项，显示每一个匹配的行的行号</span></span><br><span class="line">grep -n blinkfox /etc/passwd</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -v 选项，可以输出除匹配指定模式的行以外的其他所有行</span></span><br><span class="line">grep -v blinkfox /etc/passwd</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 --color 选项，在输出中将匹配的字符串以彩色的形式标出</span></span><br><span class="line">grep --color blinkfox /etc/passwd</span><br></pre></td></tr></table></figure>

<h2 id="5-diff-比较两个文件"><a href="#5-diff-比较两个文件" class="headerlink" title="5.diff - 比较两个文件"></a>5.diff - 比较两个文件</h2><p><code>diff</code>命令用于比较两个文件，并找出它们之间的不同。<code>diff</code>命令的语法如下所示：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">diff [OPTION]... from-file to-file</span><br></pre></td></tr></table></figure>

<p>常用使用方式如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 比较两个文件</span></span><br><span class="line">diff nsswitch.conf nsswitch.conf.org</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -w 选项，比较时忽略空格</span></span><br><span class="line">diff -w nsswitch.conf nsswitch.conf.org</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -y 选项，以并排的格式输出两个文件的比较结果</span></span><br><span class="line">diff -y nsswitch.conf nsswitch.conf.org</span><br><span class="line"></span><br><span class="line">使用 -c 选项，以上下对比的格式输出两个文件的比较结果</span><br><span class="line">diff -c nsswitch.conf nsswitch.conf.org</span><br></pre></td></tr></table></figure></p>
      <div class="post-button"><a class="btn" href="/2020/10/11/%E5%B8%B8%E7%94%A8Bash%E5%91%BD%E4%BB%A4%E6%95%B4%E7%90%86%E4%B9%8B%E6%96%87%E6%9C%AC%E5%A4%84%E7%90%86/" rel="noopener"><i class="fa fa-angle-double-right fa-fw"></i>阅读更多</a></div>
    </div>
  </div>
  <div class="lx-entry padding">
    <div>
      <h2 class="title"><a href="/2020/10/10/%E5%B8%B8%E7%94%A8Bash%E5%91%BD%E4%BB%A4%E6%95%B4%E7%90%86%E4%B9%8B%E6%93%8D%E4%BD%9C%E6%96%87%E4%BB%B6%E5%92%8C%E7%9B%AE%E5%BD%95/">常用Bash命令整理之操作文件和目录</a></h2>
      <span class="lx-post-detail"><i class="fa fa-calendar-o"></i> 2020-10-10 | <i class="fa fa-folder-o"></i> <a class="category-link" href="/categories/%E8%BD%AF%E4%BB%B6/">软件</a></span>
      <p><h2 id="1-touch-创建文件"><a href="#1-touch-创建文件" class="headerlink" title="1. touch - 创建文件"></a>1. touch - 创建文件</h2><p><code>touch</code>命令就可用于创建、变更和修改文件的时间戳。它是 Linux 操作系统的标准程序。<code>touch</code>命令又如下选项：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">-a: 只改变访问时间 </span><br><span class="line">-c: 不创建任何文件</span><br><span class="line">-m: 只改变修改时间</span><br><span class="line">-r: 使用指定文件的时间替代当前时间</span><br><span class="line">-t: 使用 [[CC]YY]MMDDhhmm[.ss] 替代当前时间</span><br></pre></td></tr></table></figure>

<p>touch 命令的常见用法如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建一个名为 effyl 的新空文件</span></span><br><span class="line">touch effyl</span><br><span class="line"></span><br><span class="line"><span class="comment"># 同时创建名称分别为 effyl myeffyl lueffyl 的三个文件</span></span><br><span class="line">touch effyl myeffyl lueffyl</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -a 选项，可以改变或更新文件的最新访问时间，如果文件 effyl 不存在，则新创建一个</span></span><br><span class="line">touch -a effyl</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -c 选项，可以避免创建一个新文件，并用当前时间更新文件的时间戳</span></span><br><span class="line">touch -c effyl</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -m 选项，可以只改变文件的修改时间，而访问时间不变</span></span><br><span class="line">touch -m effyl</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -c 和 -t 选项，来明确设置文件的时间</span></span><br><span class="line">touch -c -t YYMMDDHHMM filename</span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果想使用文件 myeffyl 的时间戳更新文件 effyl 的时间戳，可以使用 -r 选项</span></span><br><span class="line">touch -r myeffyl effyl</span><br></pre></td></tr></table></figure>

<h2 id="2-mkdir-创建目录"><a href="#2-mkdir-创建目录" class="headerlink" title="2.mkdir - 创建目录"></a>2.mkdir - 创建目录</h2><p><code>mkdir</code>命令用于创建一个新目录。最基本的<code>mkdir</code>命令的使用方法如下所示：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在当前目录下创建一个给定的目录名</span></span><br><span class="line">mkdir &lt;dirname&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在 backup 中的相对路径创建一个名为 old 的目录</span></span><br><span class="line">mkdir backup/old</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在 backup 中的绝对路径中创建一个名为 old 的目录</span></span><br><span class="line">mkdir /home/blinkfox/backup/old</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -p 选项，会自动创建所有还不存在的父目录</span></span><br><span class="line">mkdir -p backup/old</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -m 选项，可以设置将要创建目录的权限</span></span><br><span class="line"><span class="comment"># 如：创建一个任何人都有读写访问权限的目录</span></span><br><span class="line">mkdir -p -m 777 backup/old</span><br></pre></td></tr></table></figure>

<h2 id="3-cp-复制文件或目录"><a href="#3-cp-复制文件或目录" class="headerlink" title="3.cp - 复制文件或目录"></a>3.cp - 复制文件或目录</h2><p><code>cp</code>命令用于将文件从一个地方复制到另一个地方。原来的文件保持不变，新文件可能保持原名或用一个不同的名字。</p>
<p>使用 cp 命令复制文件和目录的语法有以下几种：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 复制源文件到目标文件</span></span><br><span class="line">cp [OPTION] SOURCE DEST</span><br><span class="line"></span><br><span class="line"><span class="comment"># 复制一个或多个源文件到一个目录</span></span><br><span class="line">cp [OPTION] SOURCE... DIRECTORY</span><br><span class="line"></span><br><span class="line"><span class="comment"># 同上</span></span><br><span class="line">cp [OPTION] -t DIRECTORY SOURCE... </span><br></pre></td></tr></table></figure>

<p>常用使用示例如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在当前目录下，创建一个文件 file.txt 的副本，取名为 newfile.txt</span></span><br><span class="line">cp file.txt newfile.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 复制当前目录下的 file.txt 文件到 /tmp 目录下</span></span><br><span class="line">cp file.txt /tmp</span><br><span class="line"></span><br><span class="line"><span class="comment"># 复制当前目录下的所有文件到 /tmp 目录下</span></span><br><span class="line">cp * /tmp</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -p 选项，可以使复制一个文件到新文件时，保留源文件的所有者、权限等信息</span></span><br><span class="line">cp -p filename /path/to/new/location/myfile</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -R 或 -r 选项，恶意递归地复制一个目录</span></span><br><span class="line"><span class="comment"># 即将一个目录及其下的所有文件和子目录都复制到另一个目录</span></span><br><span class="line">cp -R * /home/blinkfox/backup</span><br></pre></td></tr></table></figure>

<h2 id="4-ln-链接文件或目录"><a href="#4-ln-链接文件或目录" class="headerlink" title="4.ln - 链接文件或目录"></a>4.ln - 链接文件或目录</h2><p><code>ln</code>命令用于创建软链接或硬链接。使用 -s 选项，可以创建一个软链接：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在目录 lib 下创建一个软链接 library.so，链接到 /home/blinkfox/src/library.so</span></span><br><span class="line">ln -s /home/blinkfox/src/library.so /home/blinkfox/lib</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建目录的软链接</span></span><br><span class="line">ln -s /home/blinkfox/src <span class="built_in">source</span></span><br></pre></td></tr></table></figure>

<h2 id="5-mv-移动文件或目录"><a href="#5-mv-移动文件或目录" class="headerlink" title="5. mv - 移动文件或目录"></a>5. mv - 移动文件或目录</h2><p><code>mv</code>命令用于将文件和目录从一个位置移到另外一个位置。除了移动文件，<code>mv</code>命令还可用于修改文件或目录的名字。</p>
<p>mv 命令的基本语法如下所示：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv SOURCE... DIRECTORY</span><br></pre></td></tr></table></figure>

<p>常用命令如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将当前目录下的文件 source.txt 移到目录 /tmp 下</span></span><br><span class="line">mv source.txt /tmp</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将目录 dir1、dir2 移到目录 dir_dist 下</span></span><br><span class="line">mv dir1 dir2 dir_dist</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将当前目录下的 old.txt 文件更名为 new.txt</span></span><br><span class="line">mv old.txt new.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -i 选项，在重写覆盖目标文件或目录之前给出提示信息</span></span><br><span class="line">mv -i old.txt new.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将当前目录下的所有文件移动到目录 /tmp 下</span></span><br><span class="line">mv * /tmp/</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -i 选项，从 dir1 中移动那些在目标目录中不存在的文件到目标目录</span></span><br><span class="line">mv -u dir1/* dir2/</span><br></pre></td></tr></table></figure>

<h2 id="6-rm-删除文件或目录"><a href="#6-rm-删除文件或目录" class="headerlink" title="6.rm - 删除文件或目录"></a>6.rm - 删除文件或目录</h2><p><code>rm</code>命令用于删除指定的文件和目录。其语法如下所示：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm [OPTIONS]... FILE...</span><br></pre></td></tr></table></figure>

<p><code>rm</code>的常用命令如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 删除当前目录下的文件 file1.txt、file2.txt、file3.txt</span></span><br><span class="line">rm file1.txt file2.txt file3.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除当前目录下的所有文件</span></span><br><span class="line">rm *</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除你当前帐号主目录下的 temp 目录中的所有文件</span></span><br><span class="line">rm ~/temp/*</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -i 选项，可以在删除每个文件或目录前提示用户确认</span></span><br><span class="line">rm -i *</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除当前目录下所有以&quot;.doc&quot;结尾的文件</span></span><br><span class="line">rm *.doc</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除当前目录下所有文件名中包含&quot;movie&quot;字符串的文件</span></span><br><span class="line">rm *movie*</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除当前目录下所有以&quot;a&quot;开头的文件</span></span><br><span class="line">rm a*</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除当前目录下整个文件名（包括扩展名）只有 3 个字符的所有文件</span></span><br><span class="line">rm ???</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除当前目录下文件扩展名有两个字符的所有文件</span></span><br><span class="line">rm *.??</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除当前目录下文件名中含有字母 a 或 b 或 c 的所有文件</span></span><br><span class="line">rm *[abc]*</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除当前目录下文件名中包含 0~9 的所有文件</span></span><br><span class="line">rm *[0-9]*</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除当前目录下文件扩展名是字母 c 或 h 的所有文件</span></span><br><span class="line">rm *.[ch]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除 /tmp 目录下的所有文件及其子目录</span></span><br><span class="line">rm -rf /tmp/*</span><br></pre></td></tr></table></figure>

<blockquote>
<p>-f 删除前不提示用户确认，并忽略不存在的文件</p>
</blockquote>
<blockquote>
<p>-r 递归地删除目录及其下的内容</p>
</blockquote>
</p>
      <div class="post-button"><a class="btn" href="/2020/10/10/%E5%B8%B8%E7%94%A8Bash%E5%91%BD%E4%BB%A4%E6%95%B4%E7%90%86%E4%B9%8B%E6%93%8D%E4%BD%9C%E6%96%87%E4%BB%B6%E5%92%8C%E7%9B%AE%E5%BD%95/" rel="noopener"><i class="fa fa-angle-double-right fa-fw"></i>阅读更多</a></div>
    </div>
  </div>


<div id="pagination">
  <a class="extend prev" rel="prev" href="/"></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/"></a>
</div>

<footer>
  <div>
  Copyright &copy; 2022.<a href="/">牛牛和小栗</a><br>Powered by <a href="https://hexo.io" target="_blank">Hexo</a> | Theme <a href="https://lx.js.org" target="_blank">Lx</a><br>
  </div>
</footer>

  </div>
</div>
</div>

<button class="hamburger hamburger--arrow-r" type="button">
    <div class="hamburger-box">
      <div class="hamburger-inner"></div>
    </div>
</button> 
<div class="menu visibility">
  <div class="menu-head">
    <span class="layer">
      <div class="col">
        <div class="row for-pic">
          <div class="profile-pic">
            <a href="/"><img src="/images/avatar.jpg" alt="小犹太的牛牛"/></a>
          </div>
        </div>
        <div class="row for-name">
          <p>小犹太的牛牛</p>
          <span class="tagline">牛牛和栗子的主页</span>
        </div>
      </div>
    </span>
  </div>
  <nav class="menu-container">
  <ul class="menu-items">
    <li><a href="/"><i class="fa fa-home fa-fw"></i>首页</a></li>
    <li><a href="/archives/"><i class="fa fa-archive fa-fw"></i>归档</a></li>
    <li class="has-sub"><span class="dropdown-heading">
      <i class="fa fa-th-list fa-fw"></i>分类</span>
        <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Web%E5%89%8D%E7%AB%AF/">Web前端</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python%E7%88%AC%E8%99%AB/">python爬虫</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%88%B1%E6%83%85%E8%AE%B0%E5%BD%95/">爱情记录</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/">网络安全</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%BD%AF%E4%BB%B6/">软件</a></li></ul>
    </li>
    <li class="has-sub"><span class="dropdown-heading">
      <i class="fa fa-bookmark fa-fw"></i>页面</span>
        <ul>
          <li><a href="/guestbook/">Guestbook</a></li>
        <li><a href="/about/">About</a></li>
        </ul>
    </li>
    <li class="has-sub"><span class="dropdown-heading">
      <i class="fa fa-link fa-fw"></i>友链</span>
        <ul>
          <li> <a href="https://lx.js.org" target="_blank">Theme-Lx</a></li>
        </ul>
    </li>
  </ul>
  </nav>
</div>

<div class="gototop js-top">
  <a href="#" class="js-gotop"><i class="fa fa-arrow-up"></i></a>
</div>
<script src="//cdn.jsdelivr.net/npm/theme-lx@0.3.9/source/js/jquery.easing.min.js"></script>
<script>
(function () {
	"use strict";
	var goToTop = function() {
		$(".js-gotop").on("click", function(event){
			event.preventDefault();
			$("html, body").animate({
				scrollTop: $("html").offset().top
			}, 500, "easeInOutExpo");
			return false;
		});
		$(window).scroll(function(){
			var $win = $(window);
			if ($win.scrollTop() > 200) {
				$(".js-top").addClass("active");
			} else {
				$(".js-top").removeClass("active");
			}
		});
	};
	$(function(){
		goToTop();
	});
}());
</script>
<script src="//cdn.jsdelivr.net/npm/theme-lx@0.3.9/source/js/local.search.js"></script>

</body>
</html>
