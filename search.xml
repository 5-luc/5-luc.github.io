<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>MySQL用户、权限及密码操作</title>
    <url>/2021/05/20/MySQL%E7%94%A8%E6%88%B7%E3%80%81%E6%9D%83%E9%99%90%E5%8F%8A%E5%AF%86%E7%A0%81%E6%93%8D%E4%BD%9C/</url>
    <content><![CDATA[<h5 id="MySQL中对于用户的权限比较简单，本文主要是分为创建用户、修改用户权限、修改用户密码、删除用户等几部分，介绍MySQL对于用户权限的管理。"><a href="#MySQL中对于用户的权限比较简单，本文主要是分为创建用户、修改用户权限、修改用户密码、删除用户等几部分，介绍MySQL对于用户权限的管理。" class="headerlink" title="### MySQL中对于用户的权限比较简单，本文主要是分为创建用户、修改用户权限、修改用户密码、删除用户等几部分，介绍MySQL对于用户权限的管理。"></a>### MySQL中对于用户的权限比较简单，本文主要是分为创建用户、修改用户权限、修改用户密码、删除用户等几部分，介绍MySQL对于用户权限的管理。</h5><h2 id="1-创建用户"><a href="#1-创建用户" class="headerlink" title="1 创建用户"></a>1 创建用户</h2><p>###1.1 create user<br>格式如下:</p>
<p><code>CREATE USER &#39;username&#39;@&#39;hostname&#39; IDENTIFIED BY &#39;password&#39;;</code></p>
<p>其中，username为用户名；hostname为主机，localhost指本地用户，通配符%指可以从远程主机登陆用户，如果不指定host，则默认为%；password为密码，可以为空。</p>
<p>例如，创建用户名为user、密码为123456的用户，主机为本地，则</p>
<p><code>CREATE USER &#39;user&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;123456&#39;;</code></p>
<p>创建用户名为user、密码为123456的用户，主机为192.168.1.1，则</p>
<p><code>CREATE USER &#39;user&#39;@&#39;192.168.1.1&#39; IDENTIFIED BY &#39;123456&#39;;</code></p>
<p>创建用户名为user、密码为123456的用户，则</p>
<p><code>CREATE USER &#39;user&#39; IDENTIFIED BY &#39;123456&#39;;</code></p>
<p>创建用户名为user，则</p>
<p><code>CREATE USER user;</code></p>
<p>####注：这种方式需要登录mysql控制台，且登录用户需要CREATE USER权限。</p>
<h3 id="1-2-insert-into-mysql-user"><a href="#1-2-insert-into-mysql-user" class="headerlink" title="1.2 insert into mysql.user"></a>1.2 insert into mysql.user</h3><p>格式如下：</p>
<p><code>INSERT INTO mysql.user(host, user, password) VALUES(hostname, username, PASSWORD(password)); FLUSH PRIVILEGES;</code></p>
<p>其中，mysql.user是在mysql库中存储用户信息的user表，hostname表示主机名（localhost指本地用户，通配符%指可以从远程主机登陆用户），第二个password是密码（第一个password是字段）。</p>
<p>例如，创建用户名为user、密码为123456的用户，则</p>
<p><code>INSERT INTO mysql.user(host, user, password) VALUES(&#39;localhost&#39;, &#39;user&#39;, PASSWORD(&#39;123456&#39;)); FLUSH PRIVILEGES;</code><br>####注：因为这种方式是手动修改数据库，如果想要这种修改立马生效，还需执行FLUSH PRIVILEGES命令刷新用户权限列表，所以需要登录的用户有SELECT、UPDATE、RELOAD三种权限。</p>
<p>##2 修改用户权限<br>###2.1 为用户赋予权限<br>在MySQL中使用GRANT命令给用户授权，如果用户不存在，GRANT会自动创建用户，并进行授权。</p>
<p>格式如下：</p>
<p><code>GRANT privileges ON databases.tablename TO &#39;username&#39;@&#39;hostname&#39; [INDENTIFIED BY ‘password’];</code></p>
<p>其中，privileges表示具体的权限名称，多个权限间通过逗号隔开；databases表示数据库，使用<em>表示所有数据库；tablename表示表名，使用</em>表示所有表；username表示用户名；hostname表示主机名；password表示密码，[]中用于创建用户时为用户添加密码。</p>
<p>###2.2 常用权限</p>
<p>·表数据: select, update, delete, insert</p>
<p>·表结构: create, alert, drop</p>
<p>·外键: references</p>
<p>·创建临时表: create temporary tables</p>
<p>·操作索引: index</p>
<p>·视图: create view, show view</p>
<p>·存储过程: create routine, alert routine, execute</p>
<p>·所有权限: all<br>###2.3 权限表<br>·存储过程权限表: mysql.procs_priv</p>
<p>·列权限表: mysql.columns_priv</p>
<p>·表格权限表: mysql.tables_priv</p>
<p>·用户权限表: information_schema.user_privileges（字段grantee为授权者， 字段privilege_type为权限名称）</p>
<p>·用户信息及权限： mysql.user（后缀为_priv的字段的值与user_privileges的privilege_type一一对应）</p>
<p>###2.4 查看用户权限</p>
<p>查看用户权限可以通过查询上面的权限表的数据进行查询，或者通过show grants命令进行查询，格式如下：</p>
<p><code>SHOW GRANTS [FOR username@hostname]</code></p>
<p>其中，username表示用户名，hostname表示主机名，[]中的内容可以省略，是查询当前登录用户的权限。</p>
<p>###2.5 撤销权限</p>
<p>可以通过命令撤销某用户的某种权限，格式如下：</p>
<p><code>REVOKE privileges ON databease.table FROM username@hostname</code></p>
<p>撤销权限与赋予权限命令相似，区别在于将TO改为FROM。</p>
<p>##3 修改用户密码</p>
<p>###3.1 mysqladmin命令</p>
<p>格式如下：</p>
<p><code>mysqladmin -u USER -p password NEW_PASSWORD</code></p>
<p>其中，USER为用户名，NEW_PASSWORD为新密码。</p>
<p>该命令直接在命令行中执行，回车之后会提示输入原密码，输入正确后即可修改。</p>
<p>例如，设置用户user的密码为123456，原密码为654321，则</p>
<p><code>mysqladmin -u user -p password 123456 Enter password:******</code></p>
<p>####注：上面的**是自己输入的654321。</p>
<p>###3.2 SET PASSWORD 语句</p>
<p>格式如下：</p>
<p><code>SET PASSWORD FOR username@hostname=PASSWORD(&#39;password&#39;);</code></p>
<p>其中，username为用户名，hostname为指定的主机，password为新密码。</p>
<p>这种方式需要先登入mysql控制台，即通过正确用户名、密码登入。</p>
<p>例如：设置在localhost上的用户user的密码为123456，则</p>
<p><code>SET PASSWORD FOR user@localhost=PASSWORD(&#39;123456&#39;);</code></p>
<p>####注：通过这种方式修改自己的密码，可以只有基本的USAGE权限；如果修改其他人的密码，需要对mysql数据库存在UPDATE权限。</p>
<p>###3.3 UPDATE user 语句</p>
<p>格式如下：</p>
<p><code>UPDATE mysql.user SET password=PASSWORD(&#39;password&#39;) WHERE user=&#39;username&#39; and host=&#39;hostname&#39;; FLUSH PRIVILEGES;</code></p>
<p>其中，mysql.user表示mysql库中的user表，user表示字段为user，username为用户名，password为新密码，hostname为指定的主机。</p>
<p>这种方式需要先登入mysql控制台，即通过正确用户名、密码登入。</p>
<p>例如：设置用户user的密码为123456，则</p>
<p><code>UPDATE mysql.user SET password=PASSWORD(&#39;123456&#39;) WHERE user=&#39;user&#39; and host=&#39;localhost&#39;; FLUSH PRIVILEGES;</code></p>
<p>####注：因为这种方式是手动修改数据库，如果想要这种修改立马生效，还需执行FLUSH PRIVILEGES命令刷新用户权限列表，所以需要登录的用户有SELECT、UPDATE、RELOAD三种权限。</p>
<p>##4 删除用户</p>
<p>在mysql中，可以通过直接删除mysql.user表中的数据删除用户，也可以通过drop命令删除用户，与创建用户的操作类似。</p>
<p>###4.1 DELETE FROM mysql.user</p>
<p>格式如下：</p>
<p><code>DELETE FROM mysql.user WHERE user=&#39;username&#39; and host=&#39;hostname&#39;</code></p>
<p>其中，mysql.user表示mysql库中的user表，user表示字段为user，username为用户名，hostname为指定的主机。</p>
<p>###4.2 DROP USER username</p>
<p>格式如下：</p>
<p><code>DROP USER &#39;username&#39;@&#39;hostname&#39;</code></p>
<p>其中，username为用户名，hostname为指定的主机。<br>————————————</p>
<p>  #mysql  #anthority  #y运维</p>
]]></content>
      <categories>
        <category>网络安全</category>
      </categories>
      <tags>
        <tag>网安学生</tag>
      </tags>
  </entry>
  <entry>
    <title>PostgreSQL基础知识整理</title>
    <url>/2020/09/25/SQL%E8%AF%AD%E5%8F%A5%E6%80%BB%E7%BB%93/</url>
    <content><![CDATA[<h2 id="数据库操作DML"><a href="#数据库操作DML" class="headerlink" title="数据库操作DML"></a>数据库操作DML</h2><h3 id="CREATE-TABLE"><a href="#CREATE-TABLE" class="headerlink" title="CREATE TABLE"></a>CREATE TABLE</h3><p><code>CREATE TABLE</code>语句用于创建数据库中的表。语法是：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> 表名称 (</span><br><span class="line">列名<span class="number">1</span> 数据类型,</span><br><span class="line">列名<span class="number">2</span> 数据类型,</span><br><span class="line">列名<span class="number">3</span> 数据类型,</span><br><span class="line">....</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>例：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="keyword">user</span> (</span><br><span class="line">id <span class="type">integer</span>,</span><br><span class="line">user_name <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">email <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">age <span class="type">integer</span>,</span><br><span class="line">address <span class="type">varchar</span>(<span class="number">255</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p><strong>注意</strong>：字段类型<code>char</code>和<code>varchar</code>区别：</p>
<ul>
<li>容纳固定长度的字符串。</li>
<li>容纳可变长度的字符串。</li>
</ul>
<h3 id="CONSTRAINT"><a href="#CONSTRAINT" class="headerlink" title="CONSTRAINT"></a>CONSTRAINT</h3><p>约束、限制，常见的约束如下：</p>
<ul>
<li><code>CHECK</code>(检查约束)</li>
<li><code>NOT NULL</code>(非空约束)</li>
<li><code>UNIQUE</code>(唯一约束)</li>
<li><code>Primary Key</code>(主键)</li>
<li><code>Foreign Key</code>(外键)</li>
</ul>
<p>例：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 各种约束的使用示例</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="keyword">user</span> (</span><br><span class="line">    id <span class="type">integer</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">    corp_id <span class="type">integer</span> <span class="keyword">REFERENCES</span> corp (id),</span><br><span class="line">    user_name text <span class="keyword">UNIQUE</span>,</span><br><span class="line">    age <span class="type">numeric</span> <span class="keyword">CHECK</span> (age <span class="operator">&gt;</span> <span class="number">0</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h3 id="ALTER-TABLE"><a href="#ALTER-TABLE" class="headerlink" title="ALTER TABLE"></a>ALTER TABLE</h3><p><code>ALTER TABLE</code>用来添加，删除或修改现有表中的列，也可以用来添加和删除现有表上的各种制约因素。语法如下：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 现有表中添加一个新的列</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="keyword">table</span> <span class="keyword">ADD</span> <span class="keyword">column</span> datatype;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 现有表中删除一个新的列</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="keyword">table</span> <span class="keyword">DROP</span> <span class="keyword">COLUMN</span> <span class="keyword">column</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 现有表中更改数据类型的列</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="keyword">table</span> MODIFY <span class="keyword">COLUMN</span> <span class="keyword">column</span> datatype;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 现有表中一列添加NOT NULL约束</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="keyword">table</span> MODIFY <span class="keyword">column</span> datatype <span class="keyword">NOT</span> <span class="keyword">NULL</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 现有表中添加唯一约束</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="keyword">table</span> <span class="keyword">ADD</span> <span class="keyword">CONSTRAINT</span> MyUniqueConstraint <span class="keyword">UNIQUE</span>(column1, column2...);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 现有表中添加CHECK约束</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="keyword">table</span> <span class="keyword">ADD</span> <span class="keyword">CONSTRAINT</span> MyUniqueConstraint <span class="keyword">CHECK</span> (<span class="keyword">CONDITION</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 现有表中添加PRIMARY KEY约束</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="keyword">table</span> <span class="keyword">ADD</span> <span class="keyword">CONSTRAINT</span> MyPrimaryKey <span class="keyword">PRIMARY</span> KEY (column1, column2...);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 现有表中删除约束</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="keyword">table</span> <span class="keyword">DROP</span> <span class="keyword">CONSTRAINT</span> MyUniqueConstraint;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 现有表中删除主键</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="keyword">table</span> <span class="keyword">DROP</span> <span class="keyword">CONSTRAINT</span> MyPrimaryKey;</span><br></pre></td></tr></table></figure>

<h3 id="DROP-TABLE"><a href="#DROP-TABLE" class="headerlink" title="DROP TABLE"></a>DROP TABLE</h3><p><code>DROP TABLE</code>语句是用来删除表定义及其所有相关的数据表的索引，规则，触发器和约束。语法如下：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="keyword">table</span>;</span><br></pre></td></tr></table></figure>

<h3 id="TRUNCATE-TABLE"><a href="#TRUNCATE-TABLE" class="headerlink" title="TRUNCATE TABLE"></a>TRUNCATE TABLE</h3><p><code>TRUNCATE TABLE</code>命令用于从现有的表删除完整的数据。在每个表上的DELETE（删除）具有相同的效果，但是，因为它没有实际扫描的表，它的速度快。语法如下：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">TRUNCATE</span> <span class="keyword">TABLE</span>  <span class="keyword">table</span>;</span><br></pre></td></tr></table></figure>

<h3 id="DELETE-FROM"><a href="#DELETE-FROM" class="headerlink" title="DELETE FROM"></a>DELETE FROM</h3><p><code>DELETE FROM</code>用来从一个表中删除现有的记录。可以使用WHERE子句DELETE查询删除所选行，否则所有的记录会被删除。语法如下：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> <span class="keyword">table</span> <span class="keyword">WHERE</span> [<span class="keyword">condition</span>];</span><br></pre></td></tr></table></figure>

<h3 id="INSERT-INTO"><a href="#INSERT-INTO" class="headerlink" title="INSERT INTO"></a>INSERT INTO</h3><p><code>INSERT INTO</code>语句允许一个到一个表中插入新行。一个可以作为一个查询的结果，在一个时间或几行插入一行。基本语法如下：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">table</span> (column1, column2, column3,...columnN)]</span><br><span class="line"><span class="keyword">VALUES</span> (value1, value2, value3,...valueN);</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>注</strong>：<br>1.这里 column1, column2,…columnN是要插入数据的表中的列名。<br>2. 可以以任何顺序列出目标列名。 VALUES子句或查询的值都与显式或隐式的列列表从左到右。</p>
</blockquote>
<p>如果要添加表中的所有列的值，可能不需要在SQL查询中指定列（次）名称。但要确保表中是在相同的顺序的列值的顺序。INSERT INTO语法如下：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">table</span> <span class="keyword">VALUES</span> (value1,value2,value3,...valueN);</span><br></pre></td></tr></table></figure>

<h3 id="UPDATE"><a href="#UPDATE" class="headerlink" title="UPDATE"></a>UPDATE</h3><p><code>UPDATE</code>被用来修改现有的表中的记录。可以使用<code>UPDATE</code>查询的<code>WHERE</code>子句更新选定行，否则会被更新的所有行。基本语法如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">UPDATE table SET column1 &#x3D; value1, column2 &#x3D; value2...., columnN &#x3D; valueN WHERE [condition];</span><br></pre></td></tr></table></figure>

<h2 id="SQL基础"><a href="#SQL基础" class="headerlink" title="SQL基础"></a>SQL基础</h2><h3 id="SELECT"><a href="#SELECT" class="headerlink" title="SELECT"></a>SELECT</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">column</span> <span class="keyword">FROM</span> <span class="keyword">table</span>;</span><br></pre></td></tr></table></figure>

<h3 id="DISTINCT"><a href="#DISTINCT" class="headerlink" title="DISTINCT"></a>DISTINCT</h3><p>找出表内的不同值的情况。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> <span class="keyword">column</span> <span class="keyword">FROM</span> <span class="keyword">table</span>;</span><br></pre></td></tr></table></figure>

<p>例：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> id, email <span class="keyword">FROM</span> <span class="keyword">user</span>;</span><br></pre></td></tr></table></figure>

<h3 id="WHERE"><a href="#WHERE" class="headerlink" title="WHERE"></a>WHERE</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">column</span> <span class="keyword">FROM</span> <span class="keyword">table</span> <span class="keyword">WHERE</span> [<span class="keyword">condition</span>];</span><br></pre></td></tr></table></figure>

<h3 id="AND-OR"><a href="#AND-OR" class="headerlink" title="AND / OR"></a>AND / OR</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">column</span> <span class="keyword">FROM</span> <span class="keyword">table</span> <span class="keyword">WHERE</span> [condition1] [<span class="keyword">AND</span><span class="operator">|</span><span class="keyword">OR</span>] [condition2];</span><br></pre></td></tr></table></figure>

<h3 id="IN-NOT-IN"><a href="#IN-NOT-IN" class="headerlink" title="IN / NOT IN"></a>IN / NOT IN</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">column</span> <span class="keyword">FROM</span> <span class="keyword">table</span> <span class="keyword">WHERE</span> <span class="keyword">column</span> <span class="keyword">IN</span> (<span class="string">&#x27;value1&#x27;</span>, <span class="string">&#x27;value2&#x27;</span>, ...);</span><br></pre></td></tr></table></figure>

<p>例：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> <span class="keyword">user</span> <span class="keyword">WHERE</span> user_name <span class="keyword">IN</span> (<span class="string">&#x27;张三&#x27;</span>, <span class="string">&#x27;李四&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="BETWEEN-…-AND-…"><a href="#BETWEEN-…-AND-…" class="headerlink" title="BETWEEN … AND …"></a>BETWEEN … AND …</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">column</span> <span class="keyword">FROM</span> <span class="keyword">table</span> <span class="keyword">WHERE</span> <span class="keyword">column</span> <span class="keyword">BETWEEN</span> <span class="string">&#x27;value1&#x27;</span> <span class="keyword">AND</span> <span class="string">&#x27;value2&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>例：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> <span class="keyword">user</span> <span class="keyword">WHERE</span> age <span class="keyword">BETWEEN</span> <span class="number">18</span> <span class="keyword">AND</span> <span class="number">25</span>;</span><br></pre></td></tr></table></figure>

<h3 id="LIKE"><a href="#LIKE" class="headerlink" title="LIKE"></a>LIKE</h3><figure class="highlight"><table><tr><td class="code"><pre><span class="line">SELECT column FROM table WHERE column LIKE &#123;模式&#125;;</span><br></pre></td></tr></table></figure>

<p>例：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> <span class="keyword">user</span> <span class="keyword">WHERE</span> user_name <span class="keyword">LIKE</span> <span class="string">&#x27;%张%&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="ORDER-BY"><a href="#ORDER-BY" class="headerlink" title="ORDER BY"></a>ORDER BY</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">column</span> <span class="keyword">FROM</span> <span class="keyword">table</span> [<span class="keyword">WHERE</span> <span class="keyword">condition</span>] <span class="keyword">ORDER</span> <span class="keyword">BY</span> <span class="keyword">column</span> [<span class="keyword">ASC</span>, <span class="keyword">DESC</span>];</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>注</strong>：ASC（默认）代表结果会以由小往大的顺序列出，而DESC代表结果会以由大往小的顺序列出。</p>
</blockquote>
<p>例：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> user_name, email, age <span class="keyword">FROM</span> <span class="keyword">user</span> <span class="keyword">ORDER</span> <span class="keyword">BY</span> age <span class="keyword">DESC</span>;</span><br></pre></td></tr></table></figure>

<h3 id="GROUP-BY"><a href="#GROUP-BY" class="headerlink" title="GROUP BY"></a>GROUP BY</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> column1, <span class="built_in">SUM</span>(column2) <span class="keyword">FROM</span> <span class="keyword">table</span> <span class="keyword">GROUP</span> <span class="keyword">BY</span> column1;</span><br></pre></td></tr></table></figure>

<p>例：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> user_name, <span class="built_in">SUM</span>(age) <span class="keyword">FROM</span> <span class="keyword">user</span> <span class="keyword">GROUP</span> <span class="keyword">BY</span> user_name;</span><br></pre></td></tr></table></figure>

<h3 id="HAVING"><a href="#HAVING" class="headerlink" title="HAVING"></a>HAVING</h3><p>对函数产生的值来设定条件。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> column1, <span class="built_in">SUM</span>(column2) <span class="keyword">FROM</span> <span class="keyword">table</span> <span class="keyword">GROUP</span> <span class="keyword">BY</span> column1 <span class="keyword">HAVING</span> [<span class="keyword">condition</span>];</span><br></pre></td></tr></table></figure>

<p>例：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> user_name, <span class="built_in">SUM</span>(ages) <span class="keyword">FROM</span> <span class="keyword">user</span> <span class="keyword">GROUP</span> <span class="keyword">BY</span> user_name <span class="keyword">HAVING</span> <span class="built_in">SUM</span>(age) <span class="operator">&gt;</span> <span class="number">1500</span>;</span><br></pre></td></tr></table></figure>

<h3 id="ALIAS"><a href="#ALIAS" class="headerlink" title="ALIAS"></a>ALIAS</h3><blockquote>
<p>SELECT ‘表别名’.’列名’ AS ‘列别名’ FROM table AS ‘表别名’;</p>
</blockquote>
<p>例：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> u.user_name <span class="keyword">AS</span> name, <span class="built_in">sum</span>(age) ages <span class="keyword">FROM</span> <span class="keyword">user</span> <span class="keyword">AS</span> u <span class="keyword">GROUP</span> <span class="keyword">BY</span> u.store_name;</span><br></pre></td></tr></table></figure>

<h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><ul>
<li><code>AVG</code> (平均)</li>
<li><code>COUNT</code> (计数)</li>
<li><code>MAX</code> (最大值)</li>
<li><code>MIN</code> (最小值)</li>
<li><code>SUM</code> (总合)</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> fun_name(<span class="keyword">column</span>) <span class="keyword">FROM</span> <span class="keyword">table</span>;</span><br></pre></td></tr></table></figure>

<p>例：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">count</span>(u.id) <span class="keyword">AS</span> user_count <span class="keyword">FROM</span> <span class="keyword">user</span> <span class="keyword">AS</span> u;</span><br></pre></td></tr></table></figure>

<h3 id="表连接"><a href="#表连接" class="headerlink" title="表连接"></a>表连接</h3><p>INNER JOIN: 如果表中有至少一个匹配，则返回行；<br>LEFT JOIN: 即使右表中没有匹配，也从左表返回所有的行；<br>RIGHT JOIN: 即使左表中没有匹配，也从右表返回所有的行；<br>FULL JOIN: 只要其中一个表中存在匹配，就返回行。</p>
<p>例：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> u.uesr_name, c.corp_name <span class="keyword">FROM</span> <span class="keyword">user</span> <span class="keyword">AS</span> u <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> corp <span class="keyword">AS</span> c <span class="keyword">ON</span> c.id <span class="operator">=</span> u.corp_id;</span><br></pre></td></tr></table></figure>

<h2 id="SQL进阶"><a href="#SQL进阶" class="headerlink" title="SQL进阶"></a>SQL进阶</h2><h3 id="UNION-UNION-ALL"><a href="#UNION-UNION-ALL" class="headerlink" title="UNION / UNION ALL"></a>UNION / UNION ALL</h3><p><code>UNION</code>用于合并两个或多个SELECT语句的结果，不返回任何重复的行。<code>UNION ALL</code>运算符语句，则包括重复行的结果。使用UNION，每个SELECT选择的列数必须具有相同的，相同数目的列表达式相同的数据类型，并让它们在相同的顺序，但它们不必是相同的长度。语法如下：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> column1 [, column2 ]</span><br><span class="line"><span class="keyword">FROM</span> table1 [, table2 ]</span><br><span class="line">[<span class="keyword">WHERE</span> <span class="keyword">condition</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">UNION</span> [<span class="keyword">UNION</span> <span class="keyword">ALL</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> column1 [, column2 ]</span><br><span class="line"><span class="keyword">FROM</span> table1 [, table2 ]</span><br><span class="line">[<span class="keyword">WHERE</span> <span class="keyword">condition</span>]</span><br></pre></td></tr></table></figure>

<h3 id="INTERSECT-INTERSECT-ALL"><a href="#INTERSECT-INTERSECT-ALL" class="headerlink" title="INTERSECT / INTERSECT ALL"></a>INTERSECT / INTERSECT ALL</h3><p>和<code>UNION</code>指令类似，<code>INTERSECT</code>也是对两个SQL语句所产生的结果做处理的。不同的地方是，<code>UNION</code>基本上是一个<code>OR</code>(如果这个值存在于第一句或是第二句，它就会被选出)，而<code>INTERSECT</code>则比较像<code>AND</code>(这个值要存在于第一句和第二句才会被选出)。<code>UNION</code>是并集，而<code>INTERSECT</code>是交集。<code>INTERSECT ALL</code>则包含交集后的重复数据。语法如下：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> column1 [, column2 ]</span><br><span class="line"><span class="keyword">FROM</span> table1 [, table2 ]</span><br><span class="line">[<span class="keyword">WHERE</span> <span class="keyword">condition</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">INTERSECT</span> [<span class="keyword">INTERSECT</span> <span class="keyword">ALL</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> column1 [, column2 ]</span><br><span class="line"><span class="keyword">FROM</span> table1 [, table2 ]</span><br><span class="line">[<span class="keyword">WHERE</span> <span class="keyword">condition</span>]</span><br></pre></td></tr></table></figure>

<h3 id="EXCEPT-EXCEPT-ALL"><a href="#EXCEPT-EXCEPT-ALL" class="headerlink" title="EXCEPT / EXCEPT ALL"></a>EXCEPT / EXCEPT ALL</h3><p><code>EXCEPT</code>用于求差集，其将查询在前一个结果集中但是不再后面一个结果集中的记录。<code>EXCEPT ALL</code>则包含交集后的重复数据。语法如下：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> column1 [, column2 ]</span><br><span class="line"><span class="keyword">FROM</span> table1 [, table2 ]</span><br><span class="line">[<span class="keyword">WHERE</span> <span class="keyword">condition</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">EXCEPT</span> [<span class="keyword">EXCEPT</span> <span class="keyword">ALL</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> column1 [, column2 ]</span><br><span class="line"><span class="keyword">FROM</span> table1 [, table2 ]</span><br><span class="line">[<span class="keyword">WHERE</span> <span class="keyword">condition</span>]</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>注</strong>：在其他数据库求差集的关键字是：<code>MINUS</code>。</p>
</blockquote>
<h3 id="SUBQUERY"><a href="#SUBQUERY" class="headerlink" title="SUBQUERY"></a>SUBQUERY</h3><p><code>SUBQUERY</code>即子查询，子查询也是一个普通查询，目的是将用子查询返回的数据将被用来在主查询中作为条件，以进一步限制要检索的数据。可以使用子查询的有SELECT，INSERT，UPDATE和DELETE语句，与运算符如=，&lt;，&gt;，&gt;=，&lt;=，IN等一起使用。有几个子查询必须遵循的规则：</p>
<ul>
<li>必须用括号括起来的子查询。</li>
<li>子查询只能有一个在SELECT子句中的列，除非多列在主查询的查询来比较其选定的列。</li>
<li>ORDER BY不能使用在子查询中，虽然主查询就可以使用ORDER BY。GROUP BY可以用来执行相同的功能在子查询中的ORDER BY。</li>
<li>子查询返回多于一行只能用于使用多值的运算符，如为IN，EXISTS，IN，ANY / SOME，ALL运算符。</li>
</ul>
<p>使用示例如下：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- SELECT语句中的子查询</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> COMPANY <span class="keyword">WHERE</span> ID <span class="keyword">IN</span> (<span class="keyword">SELECT</span> ID <span class="keyword">FROM</span> COMPANY <span class="keyword">WHERE</span> SALARY <span class="operator">&gt;</span> <span class="number">45000</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- INSERT语句的子查询</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> COMPANY_BKP <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> COMPANY <span class="keyword">WHERE</span> ID <span class="keyword">IN</span> (<span class="keyword">SELECT</span> ID <span class="keyword">FROM</span> COMPANY);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- UPDATE语句的子查询</span></span><br><span class="line">UPDATE COMPANY <span class="keyword">SET</span> SALARY <span class="operator">=</span> SALARY <span class="operator">*</span> <span class="number">0.50</span> <span class="keyword">WHERE</span> AGE <span class="keyword">IN</span> (<span class="keyword">SELECT</span> AGE <span class="keyword">FROM</span> COMPANY_BKP <span class="keyword">WHERE</span> AGE <span class="operator">&gt;=</span> <span class="number">27</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- UPDATE语句的子查询</span></span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> COMPANY <span class="keyword">WHERE</span> AGE <span class="keyword">IN</span> (<span class="keyword">SELECT</span> AGE <span class="keyword">FROM</span> COMPANY_BKP <span class="keyword">WHERE</span> AGE <span class="operator">&gt;</span> <span class="number">27</span> );</span><br></pre></td></tr></table></figure>

<h3 id="EXISTS-NOT-EXISTS"><a href="#EXISTS-NOT-EXISTS" class="headerlink" title="EXISTS / NOT EXISTS"></a>EXISTS / NOT EXISTS</h3><p><code>EXISTS</code>用于检查子查询是否至少会返回一行数据，该子查询实际上并不返回任何数据，而是返回值True或False。EXISTS指定一个子查询，检测行的存在。<code>NOT EXISTS</code>的作用与<code>EXISTS</code>正好相反。如果子查询没有返回行，则满足了<code>NOT EXISTS</code>中的<code>WHERE</code>子句。语法如下： </p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">EXISTS</span> subquery</span><br></pre></td></tr></table></figure>

<p>EXISTS 和 IN 的比较：</p>
<ul>
<li>EXISTS(包括 NOT EXISTS )子句的返回值是一个BOOLEAN值。EXISTS内部有一个子查询语句(SELECT … FROM…)，我将其称为EXIST的内查询语句。其内查询语句返回一个结果集。EXISTS子句根据其内查询语句的结果集空或者非空，返回一个布尔值。而IN引导的子查询只能返回一个字段</li>
<li>EXISTS : 强调的是是否返回结果集，不要求知道返回什么，IN则需要知道返回的字段值。</li>
<li>EXISTS与IN的使用效率的问题，通常情况下采用exists要比in效率高，因为IN不走索引，但要看实际情况具体使用：IN适合于外表大而内表小的情况；EXISTS适合于外表小而内表大的情况。</li>
</ul>
<h3 id="CONCATENATE"><a href="#CONCATENATE" class="headerlink" title="CONCATENATE"></a>CONCATENATE</h3><p>连接字符串。有的时候，我们有需要将由不同列获得的资料串连在一起。每一种数据库都有提供方法来达到这个目的。</p>
<ul>
<li>Oracle: CONCAT(), || </li>
<li>SQL Server: + </li>
<li>MySQL: CONCAT() </li>
<li>PostgreSQL: CONCAT(), || </li>
</ul>
<p>PostgreSQL的<code>CONCAT()</code>的语法如下：</p>
<blockquote>
<p>concat(str “any” [, str “any” [, …] ])</p>
</blockquote>
<p>PostgreSQL的<code>||</code>的语法如下：</p>
<blockquote>
<p>string || string<br>string || non-string 或 non-string || string</p>
</blockquote>
<p>例：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> u.user_name <span class="operator">||</span> <span class="string">&#x27; &#x27;</span> <span class="operator">||</span> u.age <span class="keyword">FROM</span> <span class="keyword">user</span> <span class="keyword">AS</span> u;</span><br></pre></td></tr></table></figure>

<h3 id="SUBSTRING"><a href="#SUBSTRING" class="headerlink" title="SUBSTRING"></a>SUBSTRING</h3><p>截取字符串。</p>
<ul>
<li>Oracle: SUBSTR()</li>
<li>SQL Server: SUBSTRING()</li>
<li>MySQL: SUBSTR(), SUBSTRING()</li>
<li>PostgreSQL: SUBSTRING()</li>
</ul>
<p>PostgreSQL的SUBSTRING()语法如下：</p>
<ul>
<li>substring(string [from int] [for int]) 截取子字符串。</li>
<li>substring(string from pattern) 截取匹配POSIX正则表达式的子字符串。</li>
<li>substring(string from pattern for escape) 截取匹配SQL正则表达式的子字符串。</li>
</ul>
<p>例：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 得到hom</span></span><br><span class="line"><span class="built_in">substring</span>(<span class="string">&#x27;Thomas&#x27;</span> <span class="keyword">from</span> <span class="number">2</span> <span class="keyword">for</span> <span class="number">3</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 得到mas</span></span><br><span class="line"><span class="built_in">substring</span>(<span class="string">&#x27;Thomas&#x27;</span> <span class="keyword">from</span> <span class="string">&#x27;...$&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 得到oma</span></span><br><span class="line"><span class="built_in">substring</span>(<span class="string">&#x27;Thomas&#x27;</span> <span class="keyword">from</span> <span class="string">&#x27;%#&quot;o_a#&quot;_&#x27;</span> <span class="keyword">for</span> <span class="string">&#x27;#&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="TRIM"><a href="#TRIM" class="headerlink" title="TRIM"></a>TRIM</h3><p>SQL中的<code>TRIM</code>函数是用来移除掉一个字符串中的字头或字尾。最常见的用途是移除字首或字尾的空白。这个函数在不同的数据库中有不同的名称： </p>
<ul>
<li>Oracle: LTRIM(), RTRIM()</li>
<li>SQL Server: LTRIM(), RTRIM()</li>
<li>MySQL: TRIM(), LTRIM(), RTRIM()</li>
<li>PostgreSQL: TRIM(), BTRIM(), LTRIM(), RTRIM()</li>
</ul>
<p>PostgreSQL的TRIM()语法如下：</p>
<ul>
<li>trim([leading | trailing | both] [characters] from string) 从字符串string的开头/结尾/两边删除只包含characters中字符(缺省是空白)的最长的字符串。</li>
<li>btrim(string text [, characters text]) 从string开头和结尾删除只包含 characters中字符(缺省是空白)的最长字符串。</li>
<li>ltrim(string text [, characters text]) 从字符串string的开头删除只包含characters 中字符(缺省是一个空白)的最长的字符串。</li>
<li>rtrim(string text [, characters text]) 从字符串string的结尾删除只包含characters中字符(缺省是个空白)的最长的字符串。</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 得到Tom</span></span><br><span class="line"><span class="built_in">trim</span>(<span class="keyword">both</span> <span class="string">&#x27;x&#x27;</span> <span class="keyword">from</span> <span class="string">&#x27;xTomxx&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 得到trim</span></span><br><span class="line">btrim(<span class="string">&#x27;xyxtrimyyx&#x27;</span>, <span class="string">&#x27;xy&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 得到trim</span></span><br><span class="line">ltrim(<span class="string">&#x27;zzzytrim&#x27;</span>, <span class="string">&#x27;xyz&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 得到trim</span></span><br><span class="line">rtrim(<span class="string">&#x27;trimxxxx&#x27;</span>, <span class="string">&#x27;x&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="CASE"><a href="#CASE" class="headerlink" title="CASE"></a>CASE</h3><p><code>CASE</code>表达式是一种通用的条件表达式，类似于其它编程语言中的<code>if/else</code>语句。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CASE</span> <span class="keyword">WHEN</span> [<span class="keyword">condition</span>] <span class="keyword">THEN</span> <span class="keyword">result</span></span><br><span class="line">     [<span class="keyword">WHEN</span> ...]</span><br><span class="line">     [<span class="keyword">ELSE</span> <span class="keyword">result</span>]</span><br><span class="line"><span class="keyword">END</span></span><br></pre></td></tr></table></figure>

<p>示例如下：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> sex, </span><br><span class="line">    <span class="keyword">CASE</span> <span class="keyword">WHEN</span> sex <span class="operator">=</span> <span class="number">0</span> <span class="keyword">THEN</span> <span class="string">&#x27;女&#x27;</span> </span><br><span class="line">         <span class="keyword">WHEN</span> sex <span class="operator">=</span> <span class="number">1</span> <span class="keyword">THEN</span> <span class="string">&#x27;男&#x27;</span> </span><br><span class="line">         <span class="keyword">ELSE</span> <span class="string">&#x27;未知&#x27;</span> </span><br><span class="line">    <span class="keyword">END</span> </span><br><span class="line"><span class="keyword">FROM</span> <span class="keyword">user</span>;</span><br></pre></td></tr></table></figure>

<h3 id="COALESCE"><a href="#COALESCE" class="headerlink" title="COALESCE"></a>COALESCE</h3><p><code>COALESCE</code>返回它的第一个非<code>NULL</code>的参数值。如果所有参数都是NULL那么返回NULL。它常用于在显示数据时用缺省值替换NULL。语法如下：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="built_in">COALESCE</span>(<span class="keyword">value</span> [, ...])</span><br></pre></td></tr></table></figure>

<p>使用示例：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COALESCE</span>(<span class="keyword">NULL</span>, <span class="keyword">NULL</span>, GETDATE());</span><br></pre></td></tr></table></figure>

<h3 id="NULLIF"><a href="#NULLIF" class="headerlink" title="NULLIF"></a>NULLIF</h3><p>当且仅当value1等于value2时，<code>NULLIF</code>才返回null。否则它返回value1。这些可以用于执行上面给出的<code>COALESCE</code>例子的反例。语法如下：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="built_in">NULLIF</span>(value1, value2)</span><br></pre></td></tr></table></figure>

<h3 id="GREATEST-LEAST"><a href="#GREATEST-LEAST" class="headerlink" title="GREATEST / LEAST"></a>GREATEST / LEAST</h3><p>GREATEST和LEAST函数从一个任意数字表达式的列表里选取最大或者最小的数值。 这些表达式必须都可以转换成一个普通的数据类型，它将会是结果类型。列表中的NULL值将被忽略。只有所有表达式的结果都是 NULL 的时候，结果才会是 NULL。语法如下：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">GREATEST(<span class="keyword">value</span> [, ...])</span><br><span class="line">LEAST(<span class="keyword">value</span> [, ...])</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>注意</strong>：GREATEST和LEAST都不是 SQL 标准，但却是很常见的扩展。</p>
</blockquote>
]]></content>
      <categories>
        <category>数据库</category>
      </categories>
      <tags>
        <tag>PostgreSQL</tag>
        <tag>数据库</tag>
      </tags>
  </entry>
  <entry>
    <title>life only such as first</title>
    <url>/2021/05/15/life-only-such-as-first/</url>
    <content><![CDATA[<p>···If life is only as first, how good it should be, we still had the appearance of happiness, but unfortunately, time let us walk away from the original direction.</p>
<pre><code>Looking out of the window, the sky elongated face   obviously make some unhappy little mood, listen to &quot;because of love&quot; together a Fu of the tune and then think of the past past, really not a taste. &quot;
</code></pre>
<p>···Because of love, not easily sad, so everything is the appearance of happiness; Because of love, simple growth, still can be crazy for you at any time. “How difficult beautiful lyrics, how beautiful melody, but it is a pity that we did not smooth the original heartbeat.</p>
<p>···If everything is the original shape, everything is not easily sad, like nalanxingde “magnolia” in “if life only such as first” that it would be good, so can we see in the world will be more to a happy ending. “if life only such    as first, what the autumn wind sad picture fan, afford to change, so the heart, but way so the heart variable.” Nalanxingde’s poetry is dreamlike and beautiful, in which the woman’s tone complains the man’s thoughtlessness. We cannot easily describe the elegance of the language in the poem with words, nor can we easily capture the intangible beauty in the poem with inspiration.</p>
<pre><code>Life if only such as first, then the world how perfect!
</code></pre>
<p>Everything is the original happiness of the appearance, everything will not easily sad, everything can be crazy for you at any time!<br><img src="https://blog.zhangruipeng.me/hexo-theme-minos/gallery/compass.jpg" alt="https://blog.zhangruipeng.me/hexo-theme-minos/gallery/compass.jpg"><br>#假设人生</p>
<p>##和你  和家人</p>
]]></content>
      <categories>
        <category>爱情记录</category>
      </categories>
      <tags>
        <tag>日常</tag>
      </tags>
  </entry>
  <entry>
    <title>engine</title>
    <url>/2021/05/25/engine/</url>
    <content><![CDATA[<p>#<a href="http://www.baidu.com/">www.baidu.com</a></p>
<hr>
]]></content>
      <tags>
        <tag>搜索网站</tag>
      </tags>
  </entry>
  <entry>
    <title>“开始啦”</title>
    <url>/2020/09/06/page%E2%80%9C%E5%BC%80%E5%A7%8B%E5%95%A6%E2%80%9D/</url>
    <content><![CDATA[<hr>
<h2 id="你好，杨丽"><a href="#你好，杨丽" class="headerlink" title=" 你好，杨丽"></a> 你好，杨丽</h2><p>欢迎来到我的blog！</p>
<h1 id="We-Start"><a href="#We-Start" class="headerlink" title="We Start"></a>We Start</h1><p><img src="https://i01piccdn.sogoucdn.com/10528652845d21ef"></p>
<h3 id="这里是我们爱情记录的开始！"><a href="#这里是我们爱情记录的开始！" class="headerlink" title="这里是我们爱情记录的开始！"></a>这里是我们爱情记录的开始！</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$  这里开启了 &quot;My New life&quot;</span><br></pre></td></tr></table></figure>

<pre><code class="More">
### Run long·long·ago!嘻嘻

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ 我们相识💕</span><br></pre></td></tr></table></figure>



<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ 我们相知💕</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ 我们相爱💕</span><br></pre></td></tr></table></figure>



# l love you！you love me！

+———————————————————————+
##所以
#我们会一直在一起的！！

</code></pre>
]]></content>
      <categories>
        <category>爱情记录</category>
      </categories>
      <tags>
        <tag>日常</tag>
      </tags>
  </entry>
  <entry>
    <title>websocket</title>
    <url>/2021/05/20/websocket/</url>
    <content><![CDATA[<p><a id="more"></a></p>
<p>之后 comet 的出现实现了内容上的实时更新，但是 HTTP 本身的问题并未解决（通信只能客户端发起），于是出现了 WebSocket 协议。</p>
<blockquote>
<p>comet 是一种服务器向页面推送数据的技术，实现方式有长轮询和 HTTP 流。</p>
</blockquote>
<h2 id="二、WebSocket-协议"><a href="#二、WebSocket-协议" class="headerlink" title="二、WebSocket 协议"></a>二、WebSocket 协议</h2><h3 id="1、概念"><a href="#1、概念" class="headerlink" title="1、概念"></a>1、概念</h3><p>WebSocket 协议是 WEB 浏览器和 WEB 服务器全双工通信的标准。诞生于 2008 年，2011 年成为国际标准，目前支持的浏览器有 Firefox 6+、Safari 5+、Chrome、iOS 4+版Safari。</p>
<p>WebSocket 协议建立在 HTTP 协议基础之上，所以连接的发起方仍是客户端，一旦确立 WebSocket 通信连接，不论服务器还是客户端，任意一方都可直接向对方发送报文。协议的标识符是ws，加密的是wss。</p>
<h3 id="2、特点"><a href="#2、特点" class="headerlink" title="2、特点"></a>2、特点</h3><ul>
<li>服务器向客户直接端推送数据。</li>
<li>首部信息量小，通信量减少。</li>
<li>没有同源的限制。</li>
</ul>
<h3 id="3、通信过程"><a href="#3、通信过程" class="headerlink" title="3、通信过程"></a>3、通信过程</h3><p>WebSocket 通信需要在 HTTP 连接建立之后完成一次握手步骤。</p>
<p>客户端向服务器发送一个请求。需要用到 HTTP 的 Upgrade、Connection 首部字段，告知服务器通信协议发生改变。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">GET /chat HTTP/1.1</span><br><span class="line">Host: server.example.com</span><br><span class="line">Upgrade: websocket</span><br><span class="line">Connection: Upgrade</span><br><span class="line">Sec-WebSocket-Key: dGhlIHNhbXBsZSBub25jZQ==</span><br><span class="line">Origin: http://example.com</span><br><span class="line">Sec-WebSocket-Protocol: chat, superchat</span><br><span class="line">Sec-WebSocket-Version: 13</span><br><span class="line"></span><br><span class="line"><span class="comment"># Sec-WebSocket-Key 字段内记录着握手过程中必不可少的键值。</span></span><br><span class="line"><span class="comment"># Sec-WebSocket-Protocol 字段内记录使用的子协议。子协议按 WebSocket 协议标准在连接分开使用时，定义那些连接的名称。</span></span><br></pre></td></tr></table></figure>
<p>服务器收到请求后向客户端返回一个状态码 101 的响应。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">HTTP/1.1 101 Switching Protocols</span><br><span class="line">Upgrade: websocket</span><br><span class="line">Connection: Upgrade</span><br><span class="line">Sec-WebSocket-Accept: s3pPLMBiTxaQ9kYGzzhZRbK+xOo=</span><br><span class="line">Sec-WebSocket-Protocol: chat</span><br><span class="line"></span><br><span class="line"><span class="comment"># Sec-WebSocket-Accept 的字段值是由握手请求中的 Sec-WebSocket-Key 的字段值生成的。</span></span><br></pre></td></tr></table></figure>
<p>成功握手确立 WebSocket 连接之后，通信时不再使用 HTTP 的数据帧，而采用 WebSocket 独立的数据帧。</p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gfylnc3b91j30wg0le11f.jpg" alt=""></p>
<h3 id="4、WebSocket-API"><a href="#4、WebSocket-API" class="headerlink" title="4、WebSocket API"></a>4、WebSocket API</h3><blockquote>
<p>更多详情 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/WebSocket" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/API/WebSocket</a></p>
</blockquote>
<h4 id="1）构造函数"><a href="#1）构造函数" class="headerlink" title="1）构造函数"></a>1）构造函数</h4><p>WebSocket(url[, protocols])，返回一个 <code>WebSocket</code> 对象。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> ws = <span class="keyword">new</span> WebSocket(url); <span class="comment">// url 是绝对 url</span></span><br></pre></td></tr></table></figure>
<p>实例化 WebSocket 对象后，浏览器就会马上尝试创建连接。</p>
<h4 id="2）属性"><a href="#2）属性" class="headerlink" title="2）属性"></a>2）属性</h4><ul>
<li>readyState</li>
</ul>
<p>与 XHR 类似，WebSocket 也有一个表示当前状态的 readyState 属性，但是的值与 XHR 并不相同。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">CONNECTING：值为0，表示正在连接。</span><br><span class="line">OPEN：值为1，表示连接成功，可以通信了。</span><br><span class="line">CLOSING：值为2，表示连接正在关闭。</span><br><span class="line">CLOSED：值为3，表示连接已经关闭，或者打开连接失败。</span><br></pre></td></tr></table></figure>
<h4 id="3）方法"><a href="#3）方法" class="headerlink" title="3）方法"></a>3）方法</h4><ul>
<li>send：对要传输的数据进行排队。（复杂的数据，在发送之前要进行序列化）</li>
<li>close：关闭当前链接。</li>
</ul>
<h4 id="4）事件"><a href="#4）事件" class="headerlink" title="4）事件"></a>4）事件</h4><p>使用 <code>addEventListener()</code> 或将一个事件监听器赋值给本接口的 <code>oneventname</code> 属性监听下面的事件。</p>
<ul>
<li>open：当一个 WebSocket 连接成功时触发。</li>
<li>close：当一个 WebSocket 连接被关闭时触发。</li>
<li>message：当通过 WebSocket 收到数据时触发。</li>
<li>error：当一个 WebSocket 连接因错误而关闭时触发，例如无法发送数据时。</li>
</ul>
<h2 id="三、实战"><a href="#三、实战" class="headerlink" title="三、实战"></a>三、实战</h2><h3 id="1、客户端"><a href="#1、客户端" class="headerlink" title="1、客户端"></a>1、客户端</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> ws = <span class="keyword">new</span> WebSocket(<span class="string">"ws://localhost:8888"</span>);</span></span><br><span class="line"><span class="undefined">  </span></span><br><span class="line"><span class="javascript">  ws.onopen = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(<span class="string">'server open'</span>);</span></span><br><span class="line"><span class="javascript">    ws.send(<span class="string">'hello world, server!'</span>);</span></span><br><span class="line"><span class="undefined">  &#125;;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">  ws.onmessage = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(<span class="string">"client receive data："</span>, e.data);</span></span><br><span class="line"><span class="undefined">  &#125;;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">  ws.onclose = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(<span class="string">"server close"</span>);</span></span><br><span class="line"><span class="undefined">  &#125;;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="2、服务器"><a href="#2、服务器" class="headerlink" title="2、服务器"></a>2、服务器</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> Koa = <span class="built_in">require</span>(<span class="string">'koa'</span>);</span><br><span class="line"><span class="keyword">const</span> WebSocket = <span class="built_in">require</span>(<span class="string">'ws'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Koa();</span><br><span class="line"><span class="keyword">const</span> ws = <span class="keyword">new</span> WebSocket.Server(&#123; <span class="attr">port</span>: <span class="number">8888</span> &#125;);</span><br><span class="line"></span><br><span class="line">ws.on(<span class="string">'connection'</span>, ws =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'websocket connection'</span>);</span><br><span class="line">  </span><br><span class="line">  ws.send(<span class="string">'hello world, client!'</span>);</span><br><span class="line">  </span><br><span class="line">  ws.on(<span class="string">'open'</span>, msg =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'server open'</span>);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  ws.on(<span class="string">'message'</span>, msg =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'server receive msg：'</span>, msg);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  ws.on(<span class="string">'close'</span>, msg =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'client close'</span>,);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">3000</span>, () =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`Koa is listening in <span class="subst">$&#123;<span class="number">3000</span>&#125;</span>`</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<div class="qr-code"></div><div class="post-tag-list">标签: <a class="post-tags" href="/tags/网络安全/">网络安全</a>
]]></content>
      <categories>
        <category>Web前端</category>
      </categories>
      <tags>
        <tag>Web</tag>
      </tags>
  </entry>
  <entry>
    <title>为什么用webpack</title>
    <url>/2021/05/20/%E4%B8%BA%E4%BB%80%E4%B9%88%E7%94%A8webpack/</url>
    <content><![CDATA[<p>webpack 的出现和前端模块化的发展密不可分，所以在了解 webpack 之前，需要先了解前端模块化的进化史。</p>
<a id="more"></a>
<h2 id="一、引言"><a href="#一、引言" class="headerlink" title="一、引言"></a>一、引言</h2><p>对于 js 的编写，不能像其他语言一样很好的支持模块化，很多程序会比较臃肿的丢在一个文件里，要把这个程序拆分开使用，两个文件之前变量的传递就是个问题。</p>
<p>模块化的的第一个阶段，是使用的全局模式。假如一个文件要使用另一个文件中的变量，就需要将这个变量定为全局变量，挂到 window  对象上面，这样虽然解决了变量共享的问题，但是这样不仅污染全局对象，而且很容易引起命名冲突覆盖之前的变量。于是，前端模块化的又摸索开始了。</p>
<p>到了第二个阶段，人们开始用对象分装这些数据，这样做避免了命名冲突，但是这些数据可以通过对象直接访问到，即没有做到数据私有化。使得数据不安全。</p>
<p>到了第三个阶段，立即执行函数的引入，很好的解决了数据是私有的问题，但是当前这个模块依赖另一个模块时就不好处理了。</p>
<p>到了第四个阶段，开始出现引入依赖的思想，诸如 commonjs、AMD、ES6 等等规范，他们都是将一个文件作为一个模块来看待，但是浏览器并不识别他们，所以中间就需要一个东西来翻译一下，让浏览器看的懂，即将他们转成浏览器能读懂的 js ，这个时候 webpack 就出现了，它就充当了这个翻译的角色。</p>
<p>下面看一个 demo 感受一下。这个 demo 要实现的主体效果是我一个文件里定义了变量，在另一个文件里引用它输出。</p>
<h2 id="二、传统开发"><a href="#二、传统开发" class="headerlink" title="二、传统开发"></a>二、传统开发</h2><p>先看没有使用 webpack 的场景。首先在你的工程下创建一个 index.html 文件，在 js 目录下再分别创建 a.js 和 b.js 文件。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./js/a.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./js/b.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>1）定义变量</p>
<p>a.js 文件中定义一个变量，要想让令一个文件中能访问到，就要把它挂到全局。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">window</span>.msg = <span class="string">'yin'</span>;</span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure>
<p>2）引用变量</p>
<p>b.js 文件中输出这个变量。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">'msg: '</span>, msg);</span><br></pre></td></tr></table></figure>
<p>3）查看结果</p>
<p>打开浏览器控制台可以看到如下效果：</p>
<p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcyk86igfdj31bu05cwev.jpg" alt=""></p>
<h2 id="三、模块化开发"><a href="#三、模块化开发" class="headerlink" title="三、模块化开发"></a>三、模块化开发</h2><p>1）导出变量</p>
<p>使用 exports 导出变量</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> msg = <span class="string">'yin'</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;<span class="attr">msg</span>: msg&#125;;</span><br></pre></td></tr></table></figure>
<p>2）引入变量</p>
<p>在另一个文件中，以 require 的方式导入数据</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> msg = <span class="built_in">require</span>(<span class="string">'./a.js'</span>).msg;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'msg: '</span>, msg);</span><br></pre></td></tr></table></figure>
<p>3）运行</p>
<p>在控制台运行 b.js 文件</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">node b.js</span><br></pre></td></tr></table></figure>
<p>可以看到控制台输出内容，但是到了浏览器中刷新的时候，会发现报错</p>
<p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcykdh2e5oj31by068q42.jpg" alt=""></p>
<p>这是意料之中的事情，因为浏览器本身不认识 node，要让它认识就需要拿 webpack 来编译一下。所以用 npm 先全局装一下 webpack</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install webpack -g</span><br><span class="line"></span><br><span class="line">npm install webpack-cli -g</span><br></pre></td></tr></table></figure>
<p>这里将编译后的内容放到 dist 目录下，命名为 bundle.js，所以 html 文件中重新改一下引用方式。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./dist/bundle.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>最后编译一下，刷新浏览器，内容就又正常显示了。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">webpack ./js/b.js -o ./dist/bundle.js</span><br></pre></td></tr></table></figure>
<h2 id="四、优化"><a href="#四、优化" class="headerlink" title="四、优化"></a>四、优化</h2><p>1）配置 package.json 文件</p>
<p>对于编程来说，每次编译跑这么长代码很不优雅，webpack 给我们提供了很多配置，其中可以对指令进行配置，首先运行 <strong>npm init</strong>  安装 package.json 文件，然后局部安装 webpack，并在 scripts 中配置 <strong>“build”: “node_modules/.bin/webpack”</strong> 这一行，如下：</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"webpack-demo"</span>,</span><br><span class="line">  <span class="attr">"version"</span>: <span class="string">"1.0.0"</span>,</span><br><span class="line">  <span class="attr">"description"</span>: <span class="string">""</span>,</span><br><span class="line">  <span class="attr">"main"</span>: <span class="string">"index.js"</span>,</span><br><span class="line">  <span class="attr">"scripts"</span>: &#123;</span><br><span class="line">    <span class="attr">"test"</span>: <span class="string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span>,</span><br><span class="line">    <span class="attr">"build"</span>: <span class="string">"node_modules/.bin/webpack"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"keywords"</span>: [],</span><br><span class="line">  <span class="attr">"author"</span>: <span class="string">""</span>,</span><br><span class="line">  <span class="attr">"license"</span>: <span class="string">"ISC"</span>,</span><br><span class="line">  <span class="attr">"devDependencies"</span>: &#123;</span><br><span class="line">    <span class="attr">"webpack"</span>: <span class="string">"^4.42.0"</span>,</span><br><span class="line">    <span class="attr">"webpack-cli"</span>: <span class="string">"^3.3.11"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>2）配置 webpack.config.js 文件</p>
<p>这里写程序编译的出口和入口。    </p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    entry: <span class="string">'./js/b.js'</span>,</span><br><span class="line">    output: &#123;</span><br><span class="line">        filename: <span class="string">'bundle.js'</span>,</span><br><span class="line">        path: path.resolve(__dirname, <span class="string">'dist'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>3）运行</p>
<p>每次编译只需要运行<strong>npm run build</strong> 即可，刷新浏览器，控制台内容也正常输出。最终项目结构如下：</p>
<p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcyn60zyucj314a0iy0w9.jpg" alt=""></p>
<div class="qr-code"></div><div class="post-tag-list">标签: <a class="post-tags" href="/tags/网络安全/">网络安全</a>]]></content>
      <categories>
        <category>Web前端</category>
      </categories>
      <tags>
        <tag>Web</tag>
      </tags>
  </entry>
  <entry>
    <title>五一</title>
    <url>/2021/05/11/%E4%BA%94%E4%B8%80/</url>
    <content><![CDATA[<p>#成都的魅力<br>————————————————————————————————</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">这是我们第一次在相隔遥远的地方一起奔赴同一个地方见面</span><br><span class="line"></span><br><span class="line">![IMG_20210503_215914.jpg](https:&#x2F;&#x2F;i.loli.net&#x2F;2021&#x2F;05&#x2F;09&#x2F;aIhqTkXDLdAR3r4.jpg)</span><br></pre></td></tr></table></figure>
<p>###我的拍照技术挺好的<br><img src="https://i.loli.net/2021/05/09/si79qSxp2kXDMU1.jpg" alt="IMG_20210503_220441.jpg"><br>###把本来就很漂亮的你拍的如此美丽哈哈！</p>
<p><img src="https://i.loli.net/2021/05/09/RBiYNLkmsQGFSgW.jpg" alt="IMG_20210503_220056.jpg"><br>###冰淇淋要滴到衣服上面啦<br><img src="https://i.loli.net/2021/05/09/Dv9bBdO8PXNhenT.jpg" alt="IMG_20210503_220543.jpg"><br>###随便一个抓拍就能留下我们共同走过的地方</p>
<p><img src="https://i.loli.net/2021/05/09/qbdBs3LVfzThDF4.jpg" alt="IMG_20210504_174439.jpg"><br>###鳌山真的很不错呢<br>————————————————————————————————————</p>
]]></content>
      <categories>
        <category>爱情记录</category>
      </categories>
      <tags>
        <tag>日常</tag>
      </tags>
  </entry>
  <entry>
    <title>常用Bash命令整理之其他常用命令</title>
    <url>/2020/10/13/%E5%B8%B8%E7%94%A8Bash%E5%91%BD%E4%BB%A4%E6%95%B4%E7%90%86%E4%B9%8B%E5%85%B6%E4%BB%96%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</url>
    <content><![CDATA[<h2 id="1-hostname-查看主机名"><a href="#1-hostname-查看主机名" class="headerlink" title="1. hostname - 查看主机名"></a>1. hostname - 查看主机名</h2><p><code>hostname</code>命令用于查看系统的主机名，或是修改系统的主机名。</p>
<p><code>hostname</code>的常用命令如下：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 显示系统的当前主机名</span></span><br><span class="line">hostname</span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改你系统的主机名</span></span><br><span class="line">hostname blinkfox-system</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -F 选项，从指定的文件中读取主机名</span></span><br><span class="line">hostname -F /root/hostname.txt</span><br></pre></td></tr></table></figure>

<h2 id="2-uptime-查看系统运行时间"><a href="#2-uptime-查看系统运行时间" class="headerlink" title="2. uptime - 查看系统运行时间"></a>2. uptime - 查看系统运行时间</h2><p><code>uptime</code>命令用于打印系统的运行时间等信息。使用如下：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">uptime</span><br></pre></td></tr></table></figure>

<h2 id="3-w、who-列出登录的用户"><a href="#3-w、who-列出登录的用户" class="headerlink" title="3. w、who - 列出登录的用户"></a>3. w、who - 列出登录的用户</h2><p><code>w</code>命令用于显示登录用户及他们当前运行的进程。输入的内容格式如下：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">w</span><br><span class="line"></span><br><span class="line"><span class="comment"># 打印如下</span></span><br><span class="line">22:42  up 18 days, 1 hr, 2 users, load averages: 1.23 1.79 1.75</span><br><span class="line">USER     TTY      FROM              LOGIN@  IDLE WHAT</span><br><span class="line">blinkfox console  -                日19   6days -</span><br><span class="line">blinkfox s000     -                五23       - w</span><br></pre></td></tr></table></figure>

<p><code>who</code>命令有与<code>w</code>命令类似的用途，但它的功能比<code>w</code>命令更强大一些。语法格式如下：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">who [OPTION]... [FILE | ARG1 ARG2]</span><br></pre></td></tr></table></figure>

<p><code>who</code>常用命令如下：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 显示当前登录的所有用户信息</span></span><br><span class="line">who</span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示系统的启动时间</span></span><br><span class="line">who -b</span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示系统登录进程</span></span><br><span class="line">who -l</span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示与当前标准输入关联的用户信息</span></span><br><span class="line">who -m</span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示系统的运行级别</span></span><br><span class="line">who -r</span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示所有登录用户的用户名和登录用户数</span></span><br><span class="line">who -q</span><br></pre></td></tr></table></figure>

<h2 id="4-uname-查看系统信息"><a href="#4-uname-查看系统信息" class="headerlink" title="4. uname - 查看系统信息"></a>4. uname - 查看系统信息</h2><p><code>uname</code>命令用于打印内核名称和版本、主机名等系统信息。命令的语法如下所示：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">uname [OPTION]...</span><br></pre></td></tr></table></figure>

<p>常用使用方式如下：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 只打印内核的名称</span></span><br><span class="line">uname</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -n 选项，只打印系统的主机名</span></span><br><span class="line">uname -n</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -r 选项，打印内核版本信息</span></span><br><span class="line">uname -r</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -m 选项，打印系统的硬件名称</span></span><br><span class="line">uname -m</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -p 选项，打印系统的处理器类型信息</span></span><br><span class="line">uname -p</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -i 选项，打印系统的硬件平台信息</span></span><br><span class="line">uname -i</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -a 选项，打印上述所有示例中的信息</span></span><br><span class="line">uname -a</span><br></pre></td></tr></table></figure>

<h2 id="5-date-显示和设置系统日期和时间"><a href="#5-date-显示和设置系统日期和时间" class="headerlink" title="5. date - 显示和设置系统日期和时间"></a>5. date - 显示和设置系统日期和时间</h2><p><code>date</code>命令用于以多种格式显示日期和时间，或设置系统的日期和时间。<code>date</code>命令的语法如下所示：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">date [OPTION]... [+FORMAT]</span><br><span class="line">date [-u|--utc|--universal] [MMDDhhmm[[CC]YY][.ss]]</span><br></pre></td></tr></table></figure>

<p>常用使用命令如下：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 以默认格式显示系统的当前日期时间</span></span><br><span class="line">date</span><br><span class="line"></span><br><span class="line"><span class="comment"># 格式化当前日期</span></span><br><span class="line">date +<span class="string">&quot;%Y-%m-%d&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 格式化输出昨天的日期</span></span><br><span class="line">date -d <span class="string">&quot;1 day ago&quot;</span> +<span class="string">&quot;%Y-%m-%d&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2秒后格式化输出</span></span><br><span class="line">date -d <span class="string">&quot;2 second&quot;</span> +<span class="string">&quot;%Y-%m-%d %H:%M.%S&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 普通格式化转出</span></span><br><span class="line">date -d <span class="string">&quot;2009-12-12&quot;</span> +<span class="string">&quot;%Y/%m/%d %H:%M.%S&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># apache格式转换</span></span><br><span class="line">date -d <span class="string">&quot;Dec 5, 2009 12:00:37 AM&quot;</span> +<span class="string">&quot;%Y-%m-%d %H:%M.%S&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 日期加减操作</span></span><br><span class="line">date +%Y%m%d <span class="comment">#显示前天年月日</span></span><br><span class="line">date -d <span class="string">&quot;+1 day&quot;</span> +%Y%m%d <span class="comment">#显示前一天的日期</span></span><br><span class="line">date -d <span class="string">&quot;-1 day&quot;</span> +%Y%m%d <span class="comment">#显示后一天的日期</span></span><br><span class="line">date -d <span class="string">&quot;-1 month&quot;</span> +%Y%m%d <span class="comment">#显示上一月的日期</span></span><br><span class="line">date -d <span class="string">&quot;+1 month&quot;</span> +%Y%m%d <span class="comment">#显示下一月的日期</span></span><br><span class="line">date -d <span class="string">&quot;-1 year&quot;</span> +%Y%m%d <span class="comment">#显示前一年的日期</span></span><br><span class="line">date -d <span class="string">&quot;+1 year&quot;</span> +%Y%m%d <span class="comment">#显示下一年的日期</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 设定时间</span></span><br><span class="line">date -s <span class="comment"># 设置当前时间，只有root权限才能设置，其他只能查看</span></span><br><span class="line">date -s 20160816 <span class="comment"># 设置成20160816，这样会把具体时间设置成空00:00:00</span></span><br><span class="line">date -s 01:01:01 <span class="comment"># 设置具体时间，不会对日期做更改</span></span><br><span class="line">date -s <span class="string">&quot;01:01:01 2012-05-23&quot;</span> <span class="comment"># 这样可以设置全部时间 </span></span><br><span class="line">date -s <span class="string">&quot;01:01:01 20120523&quot;</span> <span class="comment"># 这样可以设置全部时间</span></span><br><span class="line">date -s <span class="string">&quot;2012-05-23 01:01:01&quot;</span> <span class="comment"># 这样可以设置全部时间 </span></span><br><span class="line">date -s <span class="string">&quot;20120523 01:01:01&quot;</span> <span class="comment"># 这样可以设置全部时间</span></span><br></pre></td></tr></table></figure>

<h2 id="6-id-显示用户属性"><a href="#6-id-显示用户属性" class="headerlink" title="6. id - 显示用户属性"></a>6. id - 显示用户属性</h2><p><code>id</code>命令用于打印输出用户<code>uid</code>、<code>gid</code>、用户名和组名等用户身份信息。<code>id</code>命令的语法如下所示：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">id [OPTION]... [USERNAME]</span><br></pre></td></tr></table></figure>

<p>常见使用命令如下：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 输出当前用户的uid、用户名、gid、组名及用户属于的群组信息</span></span><br><span class="line">id</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -u 选项，输出用户的 uid</span></span><br><span class="line">id -u</span><br><span class="line"></span><br><span class="line"><span class="comment">#-u 选项和 -n 选项结合使用，输出账户的用户名</span></span><br><span class="line">id -un</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -g 选项，输出帐号当前起作用的gid</span></span><br><span class="line">id -g</span><br><span class="line"></span><br><span class="line"><span class="comment"># -g 与 -n 选项结合使用，输出帐号当前起作用的用户组名</span></span><br><span class="line">id -gn</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -G 选项，输出帐号所属的所有群组id</span></span><br><span class="line">id -G root</span><br><span class="line"></span><br><span class="line"><span class="comment"># -G 与 -n 选项结合使用，输出账号所属的所有群组的名称</span></span><br><span class="line">id -Gn root</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>软件</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>前端数据存储方案</title>
    <url>/2021/05/20/%E5%89%8D%E7%AB%AF%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E6%96%B9%E6%A1%88/</url>
    <content><![CDATA[<p><a id="more"></a></p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gh06exiu2nj31nw0u0n2h.jpg" alt=""></p>
<p><br></p>
<h2 id="一、Cookie"><a href="#一、Cookie" class="headerlink" title="一、Cookie"></a>一、Cookie</h2><h3 id="1、概念"><a href="#1、概念" class="headerlink" title="1、概念"></a>1、概念</h3><p>Cookie 指某些网站为了辨别用户身份而储存在用户本地终端上的数据。每次请求都会把本地的 Cookie 发到服务器，让服务器知道当前用户的状态。</p>
<p>Cookie 有域的概念，不能跨域操作。</p>
<h3 id="2、适用场景"><a href="#2、适用场景" class="headerlink" title="2、适用场景"></a>2、适用场景</h3><p>适合客户端存储较少的数据，用于标识状态（用户登录状态、购物车等）。</p>
<h3 id="3、特点"><a href="#3、特点" class="headerlink" title="3、特点"></a>3、特点</h3><p><strong>1）数据存放位置</strong>：客户端浏览器缓存中。</p>
<p><strong>2）数据存储大小</strong>：Cookie 存储的数据不能超过 4 KB，浏览器支持的 Cookie 是30～50个，IE6 20个。</p>
<p><strong>3）数据有效期</strong>：cookie 支持设置数据过期时间。</p>
<p><strong>4）数据作用域</strong>：cookie 在所有同源窗口中共享。</p>
<h3 id="4、缺点"><a href="#4、缺点" class="headerlink" title="4、缺点"></a>4、缺点</h3><p>Cookie 容量小（4K）；不安全，容易被拦截暴露数据。</p>
<h3 id="5、API"><a href="#5、API" class="headerlink" title="5、API"></a>5、API</h3><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Document/cookie" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/API/Document/cookie</a></p>
<h3 id="6、HTTP-请求头字段相关"><a href="#6、HTTP-请求头字段相关" class="headerlink" title="6、HTTP 请求头字段相关"></a>6、HTTP 请求头字段相关</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1）Expires：cookie最长有效期</span><br><span class="line">2）Max-Age：在 cookie 失效之前需要经过的秒数。（当Expires和Max-Age同时存在时，以 Max-Age 为准）</span><br><span class="line">3）Domain：指定 cookie 可以送达的主机名。</span><br><span class="line">4）Path：指定一个 URL 路径，这个路径必须出现在要请求的资源的路径中才可以发送 Cookie 首部</span><br><span class="line">5）Secure：一个带有安全属性的 cookie 只有在请求使用SSL和HTTPS协议的时候才会被发送到服务器。</span><br><span class="line">6）HttpOnly: 设置了 HttpOnly 属性的 cookie 不能使用 JavaScript 经由 Document.cookie 属性、XMLHttpRequest 和 Request APIs 进行访问，以防范跨站脚本攻击（XSS）。</span><br></pre></td></tr></table></figure>
<p><br></p>
<h3 id="二、Web-Storage"><a href="#二、Web-Storage" class="headerlink" title="二、Web Storage"></a>二、Web Storage</h3><h3 id="1、概念-1"><a href="#1、概念-1" class="headerlink" title="1、概念"></a>1、概念</h3><p>Web Storage 有 sessionStorage 和 localStorage 两种存储机制。</p>
<p>sessionStorage 为每一个给定的源维持一个独立的存储区域，该存储区域在页面会话期间可用；localStorage 在浏览器关闭，然后重新打开后数据仍然存在，可用作持久存储数据。</p>
<h3 id="2、适用场景-1"><a href="#2、适用场景-1" class="headerlink" title="2、适用场景"></a>2、适用场景</h3><p>适合客户端存储较少的数据，且数字存储时会转成字符串。</p>
<h3 id="3、特点-1"><a href="#3、特点-1" class="headerlink" title="3、特点"></a>3、特点</h3><p><strong>1）数据存放位置</strong>：sessionStorage 和 localStorage 的数据仅在本地保存，不会自动发送给服务器。</p>
<p><strong>2）数据存储大小</strong>：5M。</p>
<p><strong>3）数据有效期</strong>：sessionStorage 仅在当前浏览器窗口关闭之前有效；localStorage 始终有效，窗口或浏览器关闭也一直保存。</p>
<p><strong>4）数据作用域</strong>：sessionStorage 即使同一页面，不同的浏览器窗口中也不共享；localstorage 在所有同源窗口中都共享。</p>
<p><strong>5）同步：</strong>操作数据是同步的。</p>
<h3 id="4、缺点-1"><a href="#4、缺点-1" class="headerlink" title="4、缺点"></a>4、缺点</h3><p>不能用于存储重要信息，本地储存数据都容易被篡改，容易受到 XSS 攻击。</p>
<h3 id="5、API-1"><a href="#5、API-1" class="headerlink" title="5、API"></a>5、API</h3><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Web_Storage_API/" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/API/Web_Storage_API/</a></p>
<p><br></p>
<h2 id="三、IndexedDB"><a href="#三、IndexedDB" class="headerlink" title="三、IndexedDB"></a>三、IndexedDB</h2><h3 id="1、概念-2"><a href="#1、概念-2" class="headerlink" title="1、概念"></a>1、概念</h3><p>IndexedDB 是一种在用户浏览器中持久存储数据的方法，用于客户端存储大量结构化数据(包括文件/ 二进制大型对象(blobs)。</p>
<h3 id="2、适用场景-2"><a href="#2、适用场景-2" class="headerlink" title="2、适用场景"></a>2、适用场景</h3><p>适合客户端存储大量结构化数据。</p>
<h3 id="3、特点-2"><a href="#3、特点-2" class="headerlink" title="3、特点"></a>3、特点</h3><p><strong>1）键值对储存：</strong> IndexedDB 内部采用对象仓库（object store）存放数据。所有类型的数据都可以直接存入，包括字符串、JavaScript 对象、二进制数据（ArrayBuffer 对象和 Blob 对象）。对象仓库中，数据以”键值对”的形式保存，每一个数据记录都有对应的主键，主键是独一无二的，不能有重复，否则会抛出一个错误。</p>
<p><strong>2）数据存储大小</strong>： 取决于硬盘大小，<strong>全局限制</strong>为可用磁盘空间的50％。如果超过此范围，则会发起称为<strong>源回收</strong>的过程，删除整个源的数据，直到存储量再次低于限制。删除源数据没有只删一部分的说法——因为这样可能会导致不一致的问题。<strong>组限制</strong>——这被定义为全局限制的20％，但它至少有10 MB，最大为2GB。</p>
<p><strong>3）异步：</strong> IndexedDB 操作时不会锁死浏览器，用户依然可以进行其他操作，这与 LocalStorage 形成对比，后者的操作是同步的。异步设计是为了防止大量数据的读写，拖慢网页的表现。</p>
<p><strong>4）支持事务：</strong> IndexedDB 支持事务（transaction），这意味着一系列操作步骤之中，只要有一步失败，整个事务就都取消，数据库回滚到事务发生之前的状态，不存在只改写一部分数据的情况。</p>
<p><strong>5）同源限制：</strong> IndexedDB 受到同源限制，每一个数据库对应创建它的域名。网页只能访问自身域名下的数据库，而不能访问跨域的数据库。</p>
<h3 id="4、缺点-2"><a href="#4、缺点-2" class="headerlink" title="4、缺点"></a>4、缺点</h3><p>不能设置数据存储的范围，数据太多时就比较占内存。</p>
<h3 id="5、API-2"><a href="#5、API-2" class="headerlink" title="5、API"></a>5、API</h3><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/IndexedDB_API/" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/API/IndexedDB_API/</a></p>
<h3 id="6、第三方类库"><a href="#6、第三方类库" class="headerlink" title="6、第三方类库"></a>6、第三方类库</h3><ul>
<li><a href="https://localforage.github.io/localForage/" target="_blank" rel="noopener">localForage</a>：一个简单名称的Polyfill：客户端数据存储的值语法，它在后台使用IndexedDB，但在不支持IndexedDB的浏览器中回退到WebSQL或localStorage。</li>
<li><a href="http://www.dexie.org/" target="_blank" rel="noopener">Dexie.js</a>：IndexedDB的包装器，通过简单的语法，可以更快地进行代码开发。</li>
<li><a href="https://pouchdb.com/" target="_blank" rel="noopener">PouchDB</a>：使用IndexedDB在浏览器中实现CouchDB的客户端。</li>
<li><a href="https://github.com/jakearchibald/idb" target="_blank" rel="noopener">idb</a>：一个微小的（〜1.15k）库，主要反映了IndexedDB的API，但小的改进，使一个很大的区别的可用性。</li>
</ul>
<p><br></p>
<h2 id="参考资源"><a href="#参考资源" class="headerlink" title="参考资源"></a>参考资源</h2><p><a href="http://www.ruanyifeng.com/blog/2018/07/indexeddb.html" target="_blank" rel="noopener">http://www.ruanyifeng.com/blog/2018/07/indexeddb.html</a></p>
<p><br></p>


</div><div class="post-tag-list">标签: <a class="post-tags" href="/tags/Web-前端/">Web 前端</a>]]></content>
      <categories>
        <category>Web前端</category>
      </categories>
      <tags>
        <tag>Web</tag>
      </tags>
  </entry>
  <entry>
    <title>常用Bash命令整理之操作文件和目录</title>
    <url>/2020/10/10/%E5%B8%B8%E7%94%A8Bash%E5%91%BD%E4%BB%A4%E6%95%B4%E7%90%86%E4%B9%8B%E6%93%8D%E4%BD%9C%E6%96%87%E4%BB%B6%E5%92%8C%E7%9B%AE%E5%BD%95/</url>
    <content><![CDATA[<h2 id="1-touch-创建文件"><a href="#1-touch-创建文件" class="headerlink" title="1. touch - 创建文件"></a>1. touch - 创建文件</h2><p><code>touch</code>命令就可用于创建、变更和修改文件的时间戳。它是 Linux 操作系统的标准程序。<code>touch</code>命令又如下选项：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-a: 只改变访问时间 </span><br><span class="line">-c: 不创建任何文件</span><br><span class="line">-m: 只改变修改时间</span><br><span class="line">-r: 使用指定文件的时间替代当前时间</span><br><span class="line">-t: 使用 [[CC]YY]MMDDhhmm[.ss] 替代当前时间</span><br></pre></td></tr></table></figure>

<p>touch 命令的常见用法如下：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 创建一个名为 effyl 的新空文件</span></span><br><span class="line">touch effyl</span><br><span class="line"></span><br><span class="line"><span class="comment"># 同时创建名称分别为 effyl myeffyl lueffyl 的三个文件</span></span><br><span class="line">touch effyl myeffyl lueffyl</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -a 选项，可以改变或更新文件的最新访问时间，如果文件 effyl 不存在，则新创建一个</span></span><br><span class="line">touch -a effyl</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -c 选项，可以避免创建一个新文件，并用当前时间更新文件的时间戳</span></span><br><span class="line">touch -c effyl</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -m 选项，可以只改变文件的修改时间，而访问时间不变</span></span><br><span class="line">touch -m effyl</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -c 和 -t 选项，来明确设置文件的时间</span></span><br><span class="line">touch -c -t YYMMDDHHMM filename</span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果想使用文件 myeffyl 的时间戳更新文件 effyl 的时间戳，可以使用 -r 选项</span></span><br><span class="line">touch -r myeffyl effyl</span><br></pre></td></tr></table></figure>

<h2 id="2-mkdir-创建目录"><a href="#2-mkdir-创建目录" class="headerlink" title="2.mkdir - 创建目录"></a>2.mkdir - 创建目录</h2><p><code>mkdir</code>命令用于创建一个新目录。最基本的<code>mkdir</code>命令的使用方法如下所示：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 在当前目录下创建一个给定的目录名</span></span><br><span class="line">mkdir &lt;dirname&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在 backup 中的相对路径创建一个名为 old 的目录</span></span><br><span class="line">mkdir backup/old</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在 backup 中的绝对路径中创建一个名为 old 的目录</span></span><br><span class="line">mkdir /home/blinkfox/backup/old</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -p 选项，会自动创建所有还不存在的父目录</span></span><br><span class="line">mkdir -p backup/old</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -m 选项，可以设置将要创建目录的权限</span></span><br><span class="line"><span class="comment"># 如：创建一个任何人都有读写访问权限的目录</span></span><br><span class="line">mkdir -p -m 777 backup/old</span><br></pre></td></tr></table></figure>

<h2 id="3-cp-复制文件或目录"><a href="#3-cp-复制文件或目录" class="headerlink" title="3.cp - 复制文件或目录"></a>3.cp - 复制文件或目录</h2><p><code>cp</code>命令用于将文件从一个地方复制到另一个地方。原来的文件保持不变，新文件可能保持原名或用一个不同的名字。</p>
<p>使用 cp 命令复制文件和目录的语法有以下几种：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 复制源文件到目标文件</span></span><br><span class="line">cp [OPTION] SOURCE DEST</span><br><span class="line"></span><br><span class="line"><span class="comment"># 复制一个或多个源文件到一个目录</span></span><br><span class="line">cp [OPTION] SOURCE... DIRECTORY</span><br><span class="line"></span><br><span class="line"><span class="comment"># 同上</span></span><br><span class="line">cp [OPTION] -t DIRECTORY SOURCE... </span><br></pre></td></tr></table></figure>

<p>常用使用示例如下：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 在当前目录下，创建一个文件 file.txt 的副本，取名为 newfile.txt</span></span><br><span class="line">cp file.txt newfile.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 复制当前目录下的 file.txt 文件到 /tmp 目录下</span></span><br><span class="line">cp file.txt /tmp</span><br><span class="line"></span><br><span class="line"><span class="comment"># 复制当前目录下的所有文件到 /tmp 目录下</span></span><br><span class="line">cp * /tmp</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -p 选项，可以使复制一个文件到新文件时，保留源文件的所有者、权限等信息</span></span><br><span class="line">cp -p filename /path/to/new/location/myfile</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -R 或 -r 选项，恶意递归地复制一个目录</span></span><br><span class="line"><span class="comment"># 即将一个目录及其下的所有文件和子目录都复制到另一个目录</span></span><br><span class="line">cp -R * /home/blinkfox/backup</span><br></pre></td></tr></table></figure>

<h2 id="4-ln-链接文件或目录"><a href="#4-ln-链接文件或目录" class="headerlink" title="4.ln - 链接文件或目录"></a>4.ln - 链接文件或目录</h2><p><code>ln</code>命令用于创建软链接或硬链接。使用 -s 选项，可以创建一个软链接：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 在目录 lib 下创建一个软链接 library.so，链接到 /home/blinkfox/src/library.so</span></span><br><span class="line">ln -s /home/blinkfox/src/library.so /home/blinkfox/lib</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建目录的软链接</span></span><br><span class="line">ln -s /home/blinkfox/src <span class="built_in">source</span></span><br></pre></td></tr></table></figure>

<h2 id="5-mv-移动文件或目录"><a href="#5-mv-移动文件或目录" class="headerlink" title="5. mv - 移动文件或目录"></a>5. mv - 移动文件或目录</h2><p><code>mv</code>命令用于将文件和目录从一个位置移到另外一个位置。除了移动文件，<code>mv</code>命令还可用于修改文件或目录的名字。</p>
<p>mv 命令的基本语法如下所示：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mv SOURCE... DIRECTORY</span><br></pre></td></tr></table></figure>

<p>常用命令如下：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 将当前目录下的文件 source.txt 移到目录 /tmp 下</span></span><br><span class="line">mv source.txt /tmp</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将目录 dir1、dir2 移到目录 dir_dist 下</span></span><br><span class="line">mv dir1 dir2 dir_dist</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将当前目录下的 old.txt 文件更名为 new.txt</span></span><br><span class="line">mv old.txt new.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -i 选项，在重写覆盖目标文件或目录之前给出提示信息</span></span><br><span class="line">mv -i old.txt new.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将当前目录下的所有文件移动到目录 /tmp 下</span></span><br><span class="line">mv * /tmp/</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -i 选项，从 dir1 中移动那些在目标目录中不存在的文件到目标目录</span></span><br><span class="line">mv -u dir1/* dir2/</span><br></pre></td></tr></table></figure>

<h2 id="6-rm-删除文件或目录"><a href="#6-rm-删除文件或目录" class="headerlink" title="6.rm - 删除文件或目录"></a>6.rm - 删除文件或目录</h2><p><code>rm</code>命令用于删除指定的文件和目录。其语法如下所示：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rm [OPTIONS]... FILE...</span><br></pre></td></tr></table></figure>

<p><code>rm</code>的常用命令如下：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 删除当前目录下的文件 file1.txt、file2.txt、file3.txt</span></span><br><span class="line">rm file1.txt file2.txt file3.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除当前目录下的所有文件</span></span><br><span class="line">rm *</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除你当前帐号主目录下的 temp 目录中的所有文件</span></span><br><span class="line">rm ~/temp/*</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -i 选项，可以在删除每个文件或目录前提示用户确认</span></span><br><span class="line">rm -i *</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除当前目录下所有以&quot;.doc&quot;结尾的文件</span></span><br><span class="line">rm *.doc</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除当前目录下所有文件名中包含&quot;movie&quot;字符串的文件</span></span><br><span class="line">rm *movie*</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除当前目录下所有以&quot;a&quot;开头的文件</span></span><br><span class="line">rm a*</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除当前目录下整个文件名（包括扩展名）只有 3 个字符的所有文件</span></span><br><span class="line">rm ???</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除当前目录下文件扩展名有两个字符的所有文件</span></span><br><span class="line">rm *.??</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除当前目录下文件名中含有字母 a 或 b 或 c 的所有文件</span></span><br><span class="line">rm *[abc]*</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除当前目录下文件名中包含 0~9 的所有文件</span></span><br><span class="line">rm *[0-9]*</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除当前目录下文件扩展名是字母 c 或 h 的所有文件</span></span><br><span class="line">rm *.[ch]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除 /tmp 目录下的所有文件及其子目录</span></span><br><span class="line">rm -rf /tmp/*</span><br></pre></td></tr></table></figure>

<blockquote>
<p>-f 删除前不提示用户确认，并忽略不存在的文件</p>
</blockquote>
<blockquote>
<p>-r 递归地删除目录及其下的内容</p>
</blockquote>
]]></content>
      <categories>
        <category>软件</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>常用Bash命令整理之文本处理</title>
    <url>/2020/10/11/%E5%B8%B8%E7%94%A8Bash%E5%91%BD%E4%BB%A4%E6%95%B4%E7%90%86%E4%B9%8B%E6%96%87%E6%9C%AC%E5%A4%84%E7%90%86/</url>
    <content><![CDATA[<h2 id="1-sort-文本排序"><a href="#1-sort-文本排序" class="headerlink" title="1. sort - 文本排序"></a>1. sort - 文本排序</h2><p><code>sort</code>命令用于将文本文件的行排序。默认情况下，<code>sort</code>命令是按照字符串的字母顺序排序。</p>
<p>sort 的常用命令如下：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 将文本内容按字母顺序排序</span></span><br><span class="line">sort example.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -u 选项，移除所有重复行后排序</span></span><br><span class="line">sort -u example.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -n 选项，将令数字按数值的大小排序</span></span><br><span class="line">sort -n example.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -r 选项，以倒序方式排序</span></span><br><span class="line">sort -n -r example.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 同时将 file1、file2 的内容排序</span></span><br><span class="line">sort file1 file2</span><br></pre></td></tr></table></figure>

<h2 id="2-uniq-文本去重"><a href="#2-uniq-文本去重" class="headerlink" title="2.uniq - 文本去重"></a>2.uniq - 文本去重</h2><p><code>uniq</code>命令用于移除或发现文件中重复的条目。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 它将移除文件中重复的行并显示单一行</span></span><br><span class="line">uniq example.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 可以统计重复行出现的次数</span></span><br><span class="line">uniq -c example.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -d 选项，只显示文件中有重复的行并只显示一次</span></span><br><span class="line">uniq -d example.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -D 选项，显示文件中所有重复的行</span></span><br><span class="line">uniq -D example.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -u 选项，只显示文件中不重复的行</span></span><br><span class="line">uniq -u example.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -w 选项，限制 uniq 命令只比较每行的前 3 个字符是否重复</span></span><br><span class="line">uniq -w 3 example.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -s 选项，避免 uniq 命令比较每行的前 3 个字符，只比较后面的字符是否重复</span></span><br><span class="line">uniq -s 3 example.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -f 选项，避免 uniq 命令比较第一列的内容，只比较后面的字符是否重复</span></span><br><span class="line">uniq -f 1 example.txt</span><br></pre></td></tr></table></figure>

<h2 id="3-tr-替换或删除字符"><a href="#3-tr-替换或删除字符" class="headerlink" title="3.tr - 替换或删除字符"></a>3.tr - 替换或删除字符</h2><p><code>tr</code>命令主要用于删除文件中控制字符或进行字符转换。使用<code>tr</code>时要转换两个字符串：字符串 1 用于查询，字符串 2 用于处理各种转换。<code>tr</code>刚执行时，字符串 1 中的字符被映射到字符串 2 中的字符，然后转换操作开始。</p>
<p><code>tr</code>命令的语法如下所示：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tr [OPTION]... SET1 [SET2]</span><br></pre></td></tr></table></figure>

<p>常用命令示例：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 若要将大括号转换为小括号</span></span><br><span class="line">tr <span class="string">&#x27;&#123;&#125;&#x27;</span> <span class="string">&#x27;()&#x27;</span> &lt; textfile &gt; newfile</span><br><span class="line"></span><br><span class="line"><span class="comment"># 若要将大括号转换成方括号</span></span><br><span class="line">tr <span class="string">&#x27;&#123;&#125;&#x27;</span> <span class="string">&#x27;\[]&#x27;</span> &lt; textfile &gt; newfile</span><br><span class="line"></span><br><span class="line"><span class="comment"># 若要将小写字符转换成大写，请输入：</span></span><br><span class="line">tr <span class="string">&#x27;a-z&#x27;</span> <span class="string">&#x27;A-Z&#x27;</span> &lt; textfile &gt; newfile</span><br><span class="line"></span><br><span class="line"><span class="comment"># 若要创建一个文件中的单词列表</span></span><br><span class="line">tr -cs <span class="string">&#x27;[:lower:][:upper:]&#x27;</span> <span class="string">&#x27;[\n*]&#x27;</span> &lt; textfile &gt; newfile</span><br><span class="line"></span><br><span class="line"><span class="comment"># 若要从某个文件中删除所有空字符</span></span><br><span class="line">tr -d <span class="string">&#x27;\0&#x27;</span> &lt; textfile &gt; newfile</span><br><span class="line"></span><br><span class="line"><span class="comment"># 若要用单独的换行替换每一序列的一个或多个换行，请输入：</span></span><br><span class="line">tr -s <span class="string">&#x27;\n&#x27;</span> &lt; textfile &gt; newfile</span><br><span class="line"></span><br><span class="line"><span class="comment"># 要以单个“#”字符替换 &lt;space&gt; 字符类中的每个字符序列</span></span><br><span class="line">tr -s <span class="string">&#x27;[:space:]&#x27;</span> <span class="string">&#x27;[#*]&#x27;</span></span><br></pre></td></tr></table></figure>

<h2 id="4-grep-查找字符串"><a href="#4-grep-查找字符串" class="headerlink" title="4.grep - 查找字符串"></a>4.grep - 查找字符串</h2><p><code>grep</code>命令用于搜索文本或指定的文件中与指定的字符串或模式相匹配的行。默认情况下，<code>grep</code>命令只显示匹配的行。</p>
<p><code>grep</code>命令的语法如下所示：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">grep [OPTION]... PATTERN [FILE]...</span><br><span class="line">grep [OPTION]... [-e PATTERN | -f FILE] [FILE]...</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># `grep`命令查找文件/etc/passwd 中帐号 blinkfox 的信息</span></span><br><span class="line">grep blinkfox /etc/passwd</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -i 选项，强制 grep 命令忽略搜索关键字的大小写</span></span><br><span class="line">grep -i blinkfox /etc/passwd</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -r 选项，可以递归搜索指定目录下的所有文件</span></span><br><span class="line">grep -r blinkfox /etc/</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -w 选项，只匹配包含指定单词的行</span></span><br><span class="line">grep -w blinkfox /etc/</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -c 选项，报告文件或文本中模式被匹配的次数</span></span><br><span class="line">grep -c blinkfox /etc/passwd</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -n 选项，显示每一个匹配的行的行号</span></span><br><span class="line">grep -n blinkfox /etc/passwd</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -v 选项，可以输出除匹配指定模式的行以外的其他所有行</span></span><br><span class="line">grep -v blinkfox /etc/passwd</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 --color 选项，在输出中将匹配的字符串以彩色的形式标出</span></span><br><span class="line">grep --color blinkfox /etc/passwd</span><br></pre></td></tr></table></figure>

<h2 id="5-diff-比较两个文件"><a href="#5-diff-比较两个文件" class="headerlink" title="5.diff - 比较两个文件"></a>5.diff - 比较两个文件</h2><p><code>diff</code>命令用于比较两个文件，并找出它们之间的不同。<code>diff</code>命令的语法如下所示：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">diff [OPTION]... from-file to-file</span><br></pre></td></tr></table></figure>

<p>常用使用方式如下：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 比较两个文件</span></span><br><span class="line">diff nsswitch.conf nsswitch.conf.org</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -w 选项，比较时忽略空格</span></span><br><span class="line">diff -w nsswitch.conf nsswitch.conf.org</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 -y 选项，以并排的格式输出两个文件的比较结果</span></span><br><span class="line">diff -y nsswitch.conf nsswitch.conf.org</span><br><span class="line"></span><br><span class="line">使用 -c 选项，以上下对比的格式输出两个文件的比较结果</span><br><span class="line">diff -c nsswitch.conf nsswitch.conf.org</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>软件</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>常用Bash命令整理之查看文件和目录</title>
    <url>/2020/10/09/%E5%B8%B8%E7%94%A8Bash%E5%91%BD%E4%BB%A4%E6%95%B4%E7%90%86%E4%B9%8B%E6%9F%A5%E7%9C%8B%E6%96%87%E4%BB%B6%E5%92%8C%E7%9B%AE%E5%BD%95/</url>
    <content><![CDATA[<h2 id="1-ls-列出文件名和目录"><a href="#1-ls-列出文件名和目录" class="headerlink" title="1. ls - 列出文件名和目录"></a>1. ls - 列出文件名和目录</h2><p><code>ls</code>命令是<code>Linux</code>中最常用的命令之一，其作用就是列出文件名和目录。在命令行提示符下，直接输入<code>ls</code>命令，不带任何选项，将列出当前目录下所有文件和目录，但不会显示详细的信息，比如，文件类型、大小、修改日期和时间、权限等。</p>
<p>以下便是<code>ls</code>命令及其选项的作用说明：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 仅列出当前目录下所有文件和目录</span></span><br><span class="line">ls</span><br><span class="line"></span><br><span class="line"><span class="comment"># 每行显示一条记录，每条记录包括文件类型、大小、修改日期和时间、权限等</span></span><br><span class="line">ls -l</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将文件大小显示符合人类阅读习惯的格式</span></span><br><span class="line">ls -lh</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将使用不同的特殊字符归类不同的文件类型</span></span><br><span class="line">ls -F</span><br><span class="line"></span><br><span class="line"><span class="comment"># 以长列表格式列出某个目录的信息</span></span><br><span class="line">ls -ld /var/<span class="built_in">log</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 将递归地列出子目录的内容</span></span><br><span class="line">ls -R /etc/sysconfig/</span><br><span class="line"></span><br><span class="line"><span class="comment"># 以长列表格式按文件或目录的修改时间倒序地列出文件和目录</span></span><br><span class="line">ls -ltr</span><br><span class="line"></span><br><span class="line"><span class="comment"># 以长列表格式按文件大小顺序列出文件和目录</span></span><br><span class="line">ls -ls</span><br><span class="line"></span><br><span class="line"><span class="comment"># 列出包括隐藏文件或目录在内的所有文件和目录，包括“.”（当前目录）和“..”（父目录）</span></span><br><span class="line">ls -a</span><br><span class="line"></span><br><span class="line"><span class="comment"># 列出包括隐藏文件或目录在内的所有文件和目录，不包括“.”（当前目录）和“..”（父目录）</span></span><br><span class="line">ls -A</span><br><span class="line"></span><br><span class="line">输出的内容类似于-l选项，指示显示uid和gid，替代显示所有者和用户组</span><br><span class="line">ls -n</span><br></pre></td></tr></table></figure>

<h2 id="2-cat-连接显示文件内容"><a href="#2-cat-连接显示文件内容" class="headerlink" title="2. cat - 连接显示文件内容"></a>2. cat - 连接显示文件内容</h2><p><code>cat</code> 命令也是Linux系统中最常用的命令之一。<code>cat</code>命令让我们可以看看文件的内容、连接文件、创建一个或多个文件和重定向输出到终端或文件。</p>
<p><code>cat</code>命令的语法如下所示：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cat [OPTION] [FILE]...</span><br></pre></td></tr></table></figure>

<p><code>cat</code>常用命令如下：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 使用 cat 命令查看文件 /etc/group 的内容</span></span><br><span class="line">cat /etc/group</span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示多个文件的内容</span></span><br><span class="line">cat /etc/redhat-release /etc/issue</span><br><span class="line"></span><br><span class="line"><span class="comment"># -n 选项，可以显示文件内容的行号</span></span><br><span class="line">cat -n /etc/fstab</span><br><span class="line"></span><br><span class="line"><span class="comment"># -b 选项和 -n 选项类似，但只标识非空白行的行号</span></span><br><span class="line">cat -b /etc/fstab</span><br><span class="line"></span><br><span class="line"><span class="comment"># -e 选项，将在每一行的结尾显示“$”字符</span></span><br><span class="line">cat -e /etc/fstab</span><br></pre></td></tr></table></figure>

<blockquote>
<p>当你只输入 cat 命令，而没有任何参数时，它只是接收标准输入的内容并在标准输出中显示。所以你在输入一行内容并回车后，会在接下来的一行显示相同的内容。你也可以重定向标准输出到一个新文件。</p>
</blockquote>
<h2 id="3-less、more-分屏显示文件"><a href="#3-less、more-分屏显示文件" class="headerlink" title="3.less、more - 分屏显示文件"></a>3.less、more - 分屏显示文件</h2><p><code>more</code>命令在你使用小的xterm窗口时，或是想不使用文本编辑器而只是简单地阅读一个文件时是很有用的。more命令是一个用于一次翻阅一整屏文件的过滤器。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 查看一个文件，自动清空屏幕并显示文件开头部分</span></span><br><span class="line">more /etc/inittab</span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定一次显示num行</span></span><br><span class="line">more -num /etc/inittab</span><br></pre></td></tr></table></figure>

<p>与<code>more</code>命令相比，我个人更喜欢<code>less</code>命令来查看文件。<code>less</code>命令与<code>more</code>命令类似，但<code>less</code>命令向前和向后翻页都支持，而且<code>less</code>命令不需要在查看前加载整个文件，即<code>less</code>命令查看文件更快速。</p>
<p><code>less</code>常用命令参数如下：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-b  &lt;缓冲区大小&gt; 设置缓冲区的大小</span><br><span class="line">-e  当文件显示结束后，自动离开</span><br><span class="line">-f  强迫打开特殊文件，例如外围设备代号、目录和二进制文件</span><br><span class="line">-g  只标志最后搜索的关键词</span><br><span class="line">-i  忽略搜索时的大小写</span><br><span class="line">-m  显示类似more命令的百分比</span><br><span class="line">-N  显示每行的行号</span><br><span class="line">-o  &lt;文件名&gt; 将less 输出的内容在指定文件中保存起来</span><br><span class="line">-Q  不使用警告音</span><br><span class="line">-s  显示连续空行为一行</span><br><span class="line">-S  行过长时间将超出部分舍弃</span><br><span class="line">-x  &lt;数字&gt; 将“tab”键显示为规定的数字空格</span><br><span class="line">/字符串：向下搜索“字符串”的功能</span><br><span class="line">?字符串：向上搜索“字符串”的功能</span><br><span class="line">n： 重复前一个搜索（与 / 或 ? 有关）</span><br><span class="line">N： 反向重复前一个搜索（与 / 或 ? 有关）</span><br><span class="line">b  向后翻一页</span><br><span class="line">d  向后翻半页</span><br><span class="line">h  显示帮助界面</span><br><span class="line">Q  退出less 命令</span><br><span class="line">u  向前滚动半页</span><br><span class="line">y  向前滚动一行</span><br><span class="line">空格键 滚动一行</span><br><span class="line">回车键 滚动一页</span><br><span class="line">[pagedown]： 向下翻动一页</span><br><span class="line">[pageup]：   向上翻动一页</span><br></pre></td></tr></table></figure>

<h2 id="4-head-显示文件头部"><a href="#4-head-显示文件头部" class="headerlink" title="4.head - 显示文件头部"></a>4.head - 显示文件头部</h2><p><code>head</code>命令用于打印指定输入的开头部分内容。默认情况下，打印每个指定输入的前10行内容。</p>
<p>使用<code>-n</code>选项可以指定打印文件的前N行：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 指定打印文件的前5行</span></span><br><span class="line">head -n 5 /etc/inittab</span><br><span class="line">（或）head -5 /etc/inittab</span><br><span class="line"></span><br><span class="line"><span class="comment"># 打印文件的前N个字节的数据</span></span><br><span class="line">head -c 10 /etc/inittab</span><br></pre></td></tr></table></figure>

<h2 id="5-tail-显示文件尾部"><a href="#5-tail-显示文件尾部" class="headerlink" title="5.tail - 显示文件尾部"></a>5.tail - 显示文件尾部</h2><p><code>tail</code>命令和<code>head</code>命令相反，它打印指定输入的结尾部分的内容。默认情况下，它打印指定输入的最后10行内容。</p>
<p>使用<code>-n</code>选项可以指定打印文件的最后N行：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 指定打印文件的后10行</span></span><br><span class="line">tail -n 10 /etc/inittab</span><br><span class="line">tail -10 /etc/inittab</span><br><span class="line"></span><br><span class="line"><span class="comment"># 即时打印文件中新写入的行</span></span><br><span class="line">tail -f /var/<span class="built_in">log</span>/messages</span><br><span class="line"></span><br><span class="line"><span class="comment"># --retry选项表示持续尝试打开某个文件，当你想打开一个稍后才会创建或即使不可用的文件</span></span><br><span class="line">tail -f /tmp/debug.log --retry</span><br></pre></td></tr></table></figure>

<h2 id="6-file-查看文件类型"><a href="#6-file-查看文件类型" class="headerlink" title="6.file - 查看文件类型"></a>6.file - 查看文件类型</h2><p><code>file</code>命令用于接收一个文件作为参数并执行某些测试，已确定正确的文件类型。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 查看文件类型</span></span><br><span class="line">file /etc/inittab</span><br><span class="line"></span><br><span class="line"><span class="comment"># 可以MIME类型的格式显示文件类型的信息</span></span><br><span class="line">file -i  /etc/inittab</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用-N 选项，输出的队列可以以在文件名之后无空白填充的形式显示</span></span><br><span class="line">file -N *</span><br></pre></td></tr></table></figure>

<h2 id="7-wc-查看文件统计信息"><a href="#7-wc-查看文件统计信息" class="headerlink" title="7.wc - 查看文件统计信息"></a>7.wc - 查看文件统计信息</h2><p><code>wc</code>命令用于查看文件的行数、单词数和字符数等信息。语法类似如下所示：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wc filename</span><br><span class="line">X Y Z /etc/inittab</span><br></pre></td></tr></table></figure>

<p>其中X表示行数，Y表示单词数，Z表示字节数，filename表示文件名。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># -l选项，可以只统计文件的行数信息</span></span><br><span class="line">wc -l /etc/inittab</span><br><span class="line"></span><br><span class="line"><span class="comment"># -w选项，可以只统计文件的单词数信息</span></span><br><span class="line">wc -w /etc/inittab</span><br><span class="line"></span><br><span class="line"><span class="comment"># -c选项，可以只统计文件的字节数信息</span></span><br><span class="line">wc -c /etc/inittab</span><br><span class="line"></span><br><span class="line"><span class="comment"># -L选项，可以只统计文件中最长的行的长度</span></span><br><span class="line">wc -L /etc/inittab</span><br></pre></td></tr></table></figure>

<h2 id="8-find-查找文件或目录"><a href="#8-find-查找文件或目录" class="headerlink" title="8.find - 查找文件或目录"></a>8.find - 查找文件或目录</h2><p><code>find</code>命令用于根据你指定的参数搜索和定位文件和目录的列表。<code>find</code>命令可以在多种情况下使用，比如你可以通过权限、用户、用户组、文件类型、日期、大小和其他可能的条件来查找文件。</p>
<p><code>find</code>命令常用使用和说明如下：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 查找指定目录下的某个文件</span></span><br><span class="line">find /etc/ -name inittab</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在当前目录下查找名称为 inittab 的文件</span></span><br><span class="line">find . -name inittab</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在当前目录下，文件不区分大小写是example的所有文件</span></span><br><span class="line">find . -iname example</span><br><span class="line"></span><br><span class="line"><span class="comment"># 找出当前目录下所有以 sh 结尾的文件</span></span><br><span class="line">find . -<span class="built_in">type</span> f -name <span class="string">&quot;*.sh&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 找出当前目录下，文件权限是 777 的所有文件</span></span><br><span class="line">find . -<span class="built_in">type</span> f -perm 777</span><br><span class="line"></span><br><span class="line"><span class="comment"># 找出当前目录下，文件权限不是 777 的所有文件</span></span><br><span class="line">find . -<span class="built_in">type</span> f ! -perm 777</span><br><span class="line"></span><br><span class="line"><span class="comment"># 找出当前目录下所有只读文件</span></span><br><span class="line">find . -<span class="built_in">type</span> f ! -perm /a+w</span><br><span class="line"></span><br><span class="line"><span class="comment"># 找出你帐号主目录下的所有可执行文件</span></span><br><span class="line">find ~ -<span class="built_in">type</span> f -perm /a+w</span><br><span class="line"></span><br><span class="line"><span class="comment"># 找出 /tmp 目录下的.log文件并将其删除：</span></span><br><span class="line">find /tmp/ -<span class="built_in">type</span> f -name <span class="string">&quot;*.log&quot;</span> -<span class="built_in">exec</span> rm -f &#123;&#125; \;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 找出当前目录下的所有空文件</span></span><br><span class="line">find . -<span class="built_in">type</span> f -empty</span><br><span class="line"></span><br><span class="line"><span class="comment"># 找出当前目录下的所有空目录</span></span><br><span class="line">find . -<span class="built_in">type</span> d -empty</span><br><span class="line"></span><br><span class="line"><span class="comment"># 找出 /tmp 目录下的所有隐藏文件</span></span><br><span class="line">find /tmp/ -<span class="built_in">type</span> f -name <span class="string">&quot;.*&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 找出 /tmp 目录下，所有者是 root 的文件和目录</span></span><br><span class="line">find /tmp/ -user root</span><br><span class="line"></span><br><span class="line"><span class="comment"># 找出 /tmp 目录下，用户组是 developer 的文件和目录</span></span><br><span class="line">find /tmp/ -group root</span><br><span class="line"></span><br><span class="line"><span class="comment"># 找出你账号的主目录下，3 天前修改的文件</span></span><br><span class="line">find ~ -<span class="built_in">type</span> f -mtime 3</span><br><span class="line"></span><br><span class="line"><span class="comment"># 找出你账号的主目录下，30 天以前修改的所有文件</span></span><br><span class="line">find ~ -<span class="built_in">type</span> f -mtime +30</span><br><span class="line"></span><br><span class="line"><span class="comment"># 找出你账号的主目录下，3 天以内修改的所有文件</span></span><br><span class="line">find ~ -<span class="built_in">type</span> f -mtime -3</span><br><span class="line"></span><br><span class="line"><span class="comment"># 找出你账号的主目录下，30 天以前，60 天以内修改的所有文件</span></span><br><span class="line">find ~ -<span class="built_in">type</span> f -mtime +30 -mtime -60</span><br><span class="line"></span><br><span class="line"><span class="comment"># 找出 /etc 目录下，一小时以内变更过的文件</span></span><br><span class="line">find /etc -<span class="built_in">type</span> f -cmin -60</span><br><span class="line"></span><br><span class="line"><span class="comment"># 找出 /etc 目录下，一小时以内访问过的文件</span></span><br><span class="line">find /etc -<span class="built_in">type</span> f -amin -60</span><br><span class="line"></span><br><span class="line"><span class="comment"># 找出你账号主目录下，大小是50MB的所有文件</span></span><br><span class="line">find ~ -<span class="built_in">type</span> f -size 50MB</span><br><span class="line"></span><br><span class="line"><span class="comment"># 找出你账号主目录下，大于50MB小于100MB的所有文件</span></span><br><span class="line">find ~ -<span class="built_in">type</span> f -size +50MB -size -100MB</span><br><span class="line"></span><br><span class="line"><span class="comment"># 找出你账号主目录下，大于100MB的文件并将其删除</span></span><br><span class="line">find ~ -<span class="built_in">type</span> f -size +100MB -<span class="built_in">exec</span> rm -rf &#123;&#125; \;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>软件</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>数据链路层</title>
    <url>/2021/05/16/%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/</url>
    <content><![CDATA[<p>数据链路：除了物理线路外，还必须有通信协议来控制这些数据的传输。</p>
<p>数据链路层的作用：把从网络层接收到的数据分割成可以被物理层传输的帧。（向网络层提供一个定义良好的服务接口；处理传输错误；调节数据流，确保慢速的接收方不会被快速的发送方淹没）</p>
<a id="more"></a>
<p>帧：数据链路层按照具体协议要求由比特流装配而成。（数据链路层传输的协议数据单元）</p>
<p>帧的结构：帧的结构设计必须要有帧首和帧尾的标识方法（首部和尾部的一个重要作用就是进行帧定界），以标识帧的开始和结束，还要包括校验信息和帧序号，以便检测出传输中出现的差错和保持帧传输的有序性。</p>
<p>信道类型：点对点信道、广播信道。</p>
<p>数据链路层协议：点对点协议 ppp、</p>
<p>三个基本问题：</p>
<ul>
<li><p>封装成帧：在一段数据的前后分别添加首部 SOH 和尾部 EOT，然后就构成了一个帧。首部和尾部确定了帧的界限。</p>
</li>
<li><p>透明传输：传输的数据中没有首部和尾部的帧定界符。</p>
</li>
<li><p>差错检测：比特差错、帧丢失、重复、失序。（循环冗余检验CRC）</p>
</li>
</ul>
<h2 id="二、点对点信道"><a href="#二、点对点信道" class="headerlink" title="二、点对点信道"></a>二、点对点信道</h2><blockquote>
<p> 点对点协议 ppp（世界上使用最多的数据链路层协议）==&gt; 广域网</p>
</blockquote>
<h3 id="1、特点"><a href="#1、特点" class="headerlink" title="1、特点"></a>1、特点</h3><p>1）应满足的功能：</p>
<ul>
<li>简单 —— 这是首要的要求。</li>
<li>封装成帧 —— 必须规定特殊的字符作为帧定界符。</li>
<li>透明性 —— 必须保证数据传输的透明性。</li>
<li>多种网络层协议 —— 能够在同一条物理链路上同时支持多种网络层协议。</li>
<li>多种类型链路 —— 能够在多种类型的链路上运行。</li>
<li>差错检测 —— 能够对接收端收到的帧进行检测，并立即丢弃有差错的帧。</li>
<li>检测连接状态 —— 能够及时自动检测出链路是否处于正常工作状态。</li>
<li>最大传送单元 —— 必须对每一种类型的点对点链路设置最大传送单元  MTU 的标准默认值，促进各种实现之间的互操作性。</li>
<li>网络层地址协商 —— 必须提供一种机制使通信的两个网络层实体能够通过协商知道或能够配置彼此的网络层地址。</li>
<li>数据压缩协商 —— 必须提供一种方法来协商使用数据压缩算法</li>
</ul>
<p>2）组成： </p>
<ul>
<li>将 IP 数据报封装到串行链路。</li>
<li>链路控制协议 LCP (Link Control Protocol)：建立并维护数据链路连接</li>
<li>网络控制协议 NCP (Network Control Protocol)：允许在点到点连接上使用多种网络层协议</li>
</ul>
<h3 id="2、帧格式"><a href="#2、帧格式" class="headerlink" title="2、帧格式"></a>2、帧格式</h3><p>PPP 帧的首部和尾部分别为 4 个字段和 2 个字段。</p>
<p>1）标志字段 F 规定为 0x7E，表示一个帧的开始或结束。</p>
<p>2）地址字段 A 只置为 0xFF。地址字段实际上并不起作用。</p>
<p>3）控制字段 C 通常置为 0x03。</p>
<p>4）PPP 是面向字节的，所有的 PPP 帧的长度都是整数字节</p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gfgptpwh51j30qs07oabn.jpg" alt=""></p>
<p>解决透明传输（当 PPP 用在同步传输链路时，协议规定采用硬件来完成<strong>零比特填充</strong>（和 HDLC 的做法一样）。当 PPP 用在异步传输时，就使用一种特殊的<strong>字符填充法</strong>）</p>
<h3 id="3、工作状态"><a href="#3、工作状态" class="headerlink" title="3、工作状态"></a>3、工作状态</h3><p>1）用户拨号接入 ISP 时，路由器的调制解调器对拨号做出确认，并建立一条物理连接。</p>
<p>2）PC 机向路由器发送一系列的 LCP 分组（封装成多个 PPP 帧）。</p>
<p>3）这些分组及其响应选择一些 PPP 参数，并进行网络层配置，NCP 给新接入的 PC 机分配一个临时的 IP 地址，使 PC 机成为因特网上的一个主机。</p>
<p>4）通信完毕时，NCP 释放网络层连接，收回原来分配出去的 IP 地址。</p>
<p>5）LCP 释放数据链路层连接。</p>
<p>6）释放物理层的连接。</p>
<blockquote>
<p> PPP 协议已不是纯粹的数据链路层的协议，它还包含了物理层和网络层的内容。     </p>
</blockquote>
<h2 id="三、广播信道"><a href="#三、广播信道" class="headerlink" title="三、广播信道"></a>三、广播信道</h2><blockquote>
<p> CSMA / CD 协议（广播指所有的计算机都能收到信号）==&gt; 局域网</p>
</blockquote>
<h3 id="1、特点-1"><a href="#1、特点-1" class="headerlink" title="1、特点"></a>1、特点</h3><p>可以随意的在网络中添加设备</p>
<h3 id="2、局域网的拓扑"><a href="#2、局域网的拓扑" class="headerlink" title="2、局域网的拓扑"></a>2、局域网的拓扑</h3><p>星形网、环形网、总线网</p>
<h3 id="3、数据链路层的两个子层"><a href="#3、数据链路层的两个子层" class="headerlink" title="3、数据链路层的两个子层"></a>3、数据链路层的两个子层</h3><blockquote>
<p> 为了使数据链路层能更好地适应多种局域网标准</p>
</blockquote>
<p>1）逻辑链路控制 LLC (Logical Link Control)子层（作用已经消失）</p>
<p>2）媒体接入控制 MAC (Medium Access Control)子层：实现一对一通信是通过地址来实现的</p>
<h3 id="4、适配器"><a href="#4、适配器" class="headerlink" title="4、适配器"></a>4、适配器</h3><p>1）概念</p>
<p>适配器是网络接口板又称为通信适配器 (adapter) 或网络接口卡 NIC (Network Interface Card)，或网卡。用于和外界局域网进行连接。</p>
<p>2）功能</p>
<ul>
<li><p>进行数据串行传输（和局域网）和并行传输（和计算机）的转换</p>
</li>
<li><p>对数据进行缓存（因为网络上的数据率和计算机总线上的数据率不同）</p>
</li>
<li><p>在计算机的操作系统安装管理适配器的设备驱动程序（告诉适配器应该从存储的什么位置把多长的数据块发送到局域网；或在存储器的什么位置把局域网传过来的数据块记录下来）</p>
</li>
<li><p>实现以太网协议</p>
</li>
</ul>
<p>3）工作过程</p>
<p>适配器在接收和发送各种帧时，不使用计算机的CPU。这时计算机中的CPU可以处理其他任务。当适配器收到有差错的帧时，就把这个帧直接丢弃而不必通知计算机。当适配器收到正确的帧时，它就使用中断来通知该计算机，并交付协议栈中的网络层。当计算机要发送IP数据报时，就由协议栈把IP数据报向下交给适配器，组装成帧后发送到局域网。</p>
<h3 id="3、CSMA-CD-协议（载波监听多点接入-碰撞检测-）"><a href="#3、CSMA-CD-协议（载波监听多点接入-碰撞检测-）" class="headerlink" title="3、CSMA / CD 协议（载波监听多点接入 / 碰撞检测  ）"></a>3、CSMA / CD 协议（载波监听多点接入 / 碰撞检测  ）</h3><blockquote>
<p>总线上只要有一台计算机在发送数据，总线的传输资源就被占用。所以在同一时间只能允许一台计算机发送数据， 否则各计算机之间就会互相干扰，使得所发送数据被破坏。</p>
</blockquote>
<p>1）特点</p>
<ul>
<li><p>多点接入：说明这是总线型网络，许多计算机以多点接入的方式连接在一根总线上。</p>
</li>
<li><p>载波监听：用电子技术检测总线上有没有计算机也在发送数据。载波监听就是检查信道，不管发送前还是发送中，每个站都必须不停地检查信道。</p>
</li>
<li><p>碰撞检测：边发送边检测。即适配器边发送数据边检测信道上的信号电压的变化情况，以便判断自己在发送数据时其他站是否也在发送数据。</p>
<ul>
<li>信号传播时延对载波监听的影响 </li>
<li>使用 CSMA/CD 协议的以太网不能进行全双工通信而只能进行双向交替通信（半双工通信）。</li>
<li>每个站在发送数据之后的一小段时间内，存在着遭遇碰撞的可能性。如果希望在以太网上发生碰撞的机会很小， 必须使整个以太网的平均通信量远小于以太网的最高数据率。 </li>
<li>经过争用期这段时间还没有检测到碰撞，才能肯定这次发送不会发生碰撞。</li>
<li>以太网使用二进制指数类型退避算法来确定碰撞后重传的时机。</li>
</ul>
</li>
</ul>
<h2 id="四、以太网"><a href="#四、以太网" class="headerlink" title="四、以太网"></a>四、以太网</h2><h3 id="1、概述"><a href="#1、概述" class="headerlink" title="1、概述"></a>1、概述</h3><p>1）以太网（Ethernet）是一种星型拓扑结构局域网。而局域网却不一定是以太网。</p>
<p>2）以太网是目前应用最广泛的局域网。</p>
<p>3）以太网使用 CSMA/CD 协议。</p>
<h3 id="2、集线器"><a href="#2、集线器" class="headerlink" title="2、集线器"></a>2、集线器</h3><p>用于加强信号（只把比特流传过去，不作任何判断，也看不懂数据链路层的东西，可以看成线）</p>
<p>同轴电缆 =&gt; 双绞线 =&gt; 集线器　</p>
<h3 id="3、信道利用率"><a href="#3、信道利用率" class="headerlink" title="3、信道利用率"></a>3、信道利用率</h3><p>信道利用率表示发送数据的时间占总时间的比值。要提高以太网的信道利用率，就必须减小 t 与 T0 之比。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">a = t / T0 <span class="comment"># 以太网单程端到端时延 t 与帧的发送时间 T0 之比。</span></span><br><span class="line"> </span><br><span class="line">α →0，表示一发生碰撞就立即可以检测出来， 并立即停止发送，因而信道利用率很高。</span><br><span class="line">α 越大，表明争用期所占的比例增大，每发生一次碰撞就浪费许多信道资源，使得信道利用率明显降低。</span><br><span class="line"></span><br><span class="line"><span class="comment"># 对以太网参数 α 的要求：</span></span><br><span class="line">当数据率一定时，以太网的连线的长度受到限制，以太网的帧长不能太短，否则 T0 的值会太小，使 α 值太大。</span><br></pre></td></tr></table></figure>
<h3 id="4、MAC-层"><a href="#4、MAC-层" class="headerlink" title="4、MAC 层"></a>4、MAC 层</h3><p>1）概念</p>
<p>MAC 地址又称硬件地址、物理地址、适配器地址或适配器标识符 EUI-48，是一个用来确认网上设备位置的地址。</p>
<p>2）MAC 帧的格式</p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gfnl57lwzqj30tq0awdj8.jpg" alt=""></p>
<p>3）区别</p>
<ul>
<li><p>以太网和数据链路层和物理层有关，以太网使用同轴电缆或双绞线电缆，可以解释其中的0、1以何种电子信号。</p>
</li>
<li><p>ppp 只与数据链路层有关，要实现通信还需要物理层的支持。</p>
</li>
</ul>
<h3 id="5、扩展的以太网"><a href="#5、扩展的以太网" class="headerlink" title="5、扩展的以太网"></a>5、扩展的以太网</h3><p>网桥 =&gt; 接口多了慢慢发展为交换机（存储转发），替代了集线器</p>
<p>带宽独享，全双工，安全，基于Mac地址转发数据</p>
<h3 id="6、高速以太网"><a href="#6、高速以太网" class="headerlink" title="6、高速以太网"></a>6、高速以太网</h3><p>1）100BASE-T 以太网 </p>
<p>2）吉比特以太网</p>
<p>3）10吉比特以太网 (10GE) 和更快的以太网</p>
<p>4）使用以太网进行宽带接入</p>

</div><div class="post-tag-list">标签: <a class="post-tags" href="/tags/网络安全/">网络安全]]></content>
      <categories>
        <category>网络安全</category>
      </categories>
      <tags>
        <tag>计算机网络</tag>
      </tags>
  </entry>
  <entry>
    <title>概述</title>
    <url>/2021/05/20/%E6%A6%82%E8%BF%B0/</url>
    <content><![CDATA[<p>2）凡是将分布在不同地理位置上的具有独立工作能力的计算机、终端及其附属设备，用通信设备和通信线路连接起来，并配置网络软件和通信协议，以实现数据传输和资源共享的系统就叫做计算机网络。</p>
<p>3）Internet：译名有因特网和互联网，但是流行的是互联网。它是由数量极大的各种计算机网络互联起来的。互联网是世界上最大的计算机网络。</p>
<h3 id="2、计算机网络的功能"><a href="#2、计算机网络的功能" class="headerlink" title="2、计算机网络的功能"></a>2、计算机网络的功能</h3><p>连通性和资源共享</p>
<h2 id="二、互联网的标准化工作"><a href="#二、互联网的标准化工作" class="headerlink" title="二、互联网的标准化工作"></a>二、互联网的标准化工作</h2><h3 id="1、标准组织"><a href="#1、标准组织" class="headerlink" title="1、标准组织"></a>1、标准组织</h3><p>因特网协会【ISOC】：管理互联网 </p>
<p>=&gt; 互联网系结构委员会【IAB】 </p>
<p>=&gt; 互联网工程部【IETF】（针对协议的开发和标准化）、互联网研究部【IRTF】（针对互联网上的协议、应用、体系结构）</p>
<h3 id="2、标准制定"><a href="#2、标准制定" class="headerlink" title="2、标准制定"></a>2、标准制定</h3><p>互联网草案，建议标准（RFC），互联网标准（RFC） 。</p>
<h2 id="三、互联网的组成"><a href="#三、互联网的组成" class="headerlink" title="三、互联网的组成"></a>三、互联网的组成</h2><h3 id="1、边缘部分"><a href="#1、边缘部分" class="headerlink" title="1、边缘部分"></a>1、边缘部分</h3><p>1）概念</p>
<p>由所有连接在互联网上的主机组成，用来进行通信和资源共享。</p>
<p>2）端系统之间的通信方式</p>
<ul>
<li>客户—服务器方式（cs）</li>
<li>对等方式（p2p）：每个主机即是客户又是服务器。</li>
</ul>
<h3 id="2、核心部分"><a href="#2、核心部分" class="headerlink" title="2、核心部分"></a>2、核心部分</h3><p>1）概念</p>
<p>由大量网络设施和连接这些网络的路由器组成，用来提供服务。</p>
<p>2）电路交换</p>
<p>必须经历建立连接——通话——释放连接的交换方式。</p>
<p>过程：整个报文的比特流连续地从源点直达。</p>
<p>3）报文交换（已不使用）</p>
<p>过程：整个报文先传送到相邻结点，全部存储下来后查找转发表，转发到下一个结点。</p>
<p>3）分组交换</p>
<p>采用存储转发技术，把一个报文划分成几个分组进行传送。（不需要建立连接和释放连接）</p>
<p>过程：路由器收到一个分组，先暂时存储一下，检查其首部，查找转发表，按照首部中的目的地址，找到合适的接口转发出去，把分组交给下一个路由器。这样一步一步地以存储转发的方式，把分组交付最终的目的主机。</p>
<p><img src="https://imgkr.cn-bj.ufileos.com/d198c78d-bf51-4d7c-b21f-7ec067a66052.png" alt=""></p>
<h2 id="四、计算机网络的分类"><a href="#四、计算机网络的分类" class="headerlink" title="四、计算机网络的分类"></a>四、计算机网络的分类</h2><h3 id="1、按作用范围分类"><a href="#1、按作用范围分类" class="headerlink" title="1、按作用范围分类"></a>1、按作用范围分类</h3><p>1）广域网（WAN）：覆盖全球</p>
<p>2）城域网（LAN）：山西移动</p>
<p>3）局域网（LAN）：校园网</p>
<p>4）个人区域网（LAN）：家里的网</p>
<h3 id="2、按使用者分类"><a href="#2、按使用者分类" class="headerlink" title="2、按使用者分类"></a>2、按使用者分类</h3><p>1）公用网：所有人都能用的网</p>
<p>2）专用网：只能自己用，别人不能用</p>
<h3 id="3、接入网"><a href="#3、接入网" class="headerlink" title="3、接入网"></a>3、接入网</h3><p>是某用户端系统到互联网的第一个路由器之间的一种网络。</p>
<h2 id="五、计算机网络的性能"><a href="#五、计算机网络的性能" class="headerlink" title="五、计算机网络的性能"></a>五、计算机网络的性能</h2><h3 id="1、性能指标"><a href="#1、性能指标" class="headerlink" title="1、性能指标"></a>1、性能指标</h3><p>1）速率</p>
<p>主机在数据信道上传送数据的速率。</p>
<p>2）带宽</p>
<p>单位时间内从网络的某一点到另一点所能通过的最高数据率。</p>
<p>3）吞吐量</p>
<p>单位时间内通过某个网络的数据量。</p>
<p>4）时延</p>
<p>数据从网络的一个端传到另一个端所需要的时间。</p>
<p>时延=发送时延+传播时延+处理时延+排队时延</p>
<p>5）时延带宽积</p>
<p>时延带宽积=传播时延X带宽</p>
<p>6）往返时间</p>
<p>7）利用率</p>
<ul>
<li>信道利用率</li>
<li>网络利用率</li>
</ul>
<h3 id="2、非性能指标"><a href="#2、非性能指标" class="headerlink" title="2、非性能指标"></a>2、非性能指标</h3><p> 费用、质量、可靠性等。</p>
<h2 id="六、计算机网络的体系结构"><a href="#六、计算机网络的体系结构" class="headerlink" title="六、计算机网络的体系结构"></a>六、计算机网络的体系结构</h2><h3 id="1、协议"><a href="#1、协议" class="headerlink" title="1、协议"></a>1、协议</h3><p>1）概念：为进行网络中的数据交换而建立的规则、标准或约定。</p>
<p>2）协议三要素</p>
<ul>
<li>语法：数据与控制信息的结构或格式</li>
<li>语义：需要发出什么控制信息，完成什么动作作出什么响应</li>
<li>同步：事件实现顺序的详细说明</li>
</ul>
<h3 id="2、分类"><a href="#2、分类" class="headerlink" title="2、分类"></a>2、分类</h3><p>1）OSI 七层协议体系结构：理论完整，但是复杂不实用</p>
<p>2）TCP/IP 四层协议体系结构：得到了广泛应用</p>
<p>3）五层协议体系结构：学习的时候综合二者有点来学，边缘部分占有五层，核心部分只在第三层</p>
<table>
<thead>
<tr>
<th></th>
<th>任务</th>
<th>协议</th>
<th>数据单元</th>
</tr>
</thead>
<tbody>
<tr>
<td>应用层</td>
<td>用不同的协议分装不同的数据。</td>
<td>FTP，TFTP，HTTP，SMTP，DNS，TELNET</td>
<td>报文</td>
</tr>
<tr>
<td>传输层</td>
<td>向两台主机之间的进程进行通信提供通用的数据传输服务</td>
<td>TCP，UDP</td>
<td>报文</td>
</tr>
<tr>
<td>网络层</td>
<td>将报文分成等长的分组 。</td>
<td>IP，ICMP，IGMP，RIP</td>
<td>分组、包、数据报</td>
</tr>
<tr>
<td>数据链路层</td>
<td>高低电平和01信号的转换。</td>
<td>PPP，ARP，RARP</td>
<td>数据帧</td>
</tr>
<tr>
<td>物理层</td>
<td>传输数据</td>
<td>—</td>
<td>比特</td>
</tr>
</tbody>
</table>
</div><div class="post-tag-list">标签: <a class="post-tags" href="/tags/网络安全/">网络安全]]></content>
      <categories>
        <category>网络安全</category>
      </categories>
      <tags>
        <tag>计算机网络</tag>
      </tags>
  </entry>
  <entry>
    <title>派森爬虫集</title>
    <url>/2021/05/21/%E6%B4%BE%E6%A3%AE%E7%88%AC%E8%99%AB%E9%9B%86/</url>
    <content><![CDATA[<h1 id="派森码"><a href="#派森码" class="headerlink" title="派森码"></a>派森码</h1><p>收集各种爬虫 （python）, 提 pr 或 issue, 收集脚本见此项目 <a href="https://github.com/5-luc/github_search">github-search</a></p>
<p>warning: 爬虫有时效性，如没法直接运行，请适当更改逻辑。</p>
<h3 id="A"><a href="#A" class="headerlink" title="A"></a>A</h3><ul>
<li><a href="https://github.com/s-rah/onionscan">暗网爬虫(Go)</a></li>
<li><a href="https://github.com/x-spiders/aiss-spider">爱丝APP图片爬虫</a></li>
<li><a href="https://github.com/Carmenliukang/1688_crawler-image_search_products">1688以图搜货</a></li>
</ul>
<h3 id="B"><a href="#B" class="headerlink" title="B"></a>B</h3><ul>
<li><a href="https://github.com/airingursb/bilibili-user">Bilibili 用户</a></li>
<li><a href="https://github.com/airingursb/bilibili-video">Bilibili 视频</a></li>
<li><a href="https://github.com/AngelKitty/bilibili-smallvideo">Bilibili 小视频</a></li>
<li><a href="https://github.com/zhangzp9970/GnomeBingLockScreen">Bing美图爬虫</a></li>
<li><a href="https://github.com/chenjiandongx/bili-spider">B站760万视频信息爬虫</a></li>
<li><a href="https://github.com/chokcoco/cnblogSpider">博客园(node.js)</a></li>
<li><a href="https://github.com/nswbmw/micro-scraper">百度百科(node.js)</a></li>
<li><a href="https://github.com/Marcus-T/Crawler_Job">北邮人水木清华招聘</a></li>
<li><a href="https://github.com/gudegg/yunSpider">百度云网盘</a></li>
<li><a href="https://github.com/Chion82/hello-old-driver">琉璃神社爬虫</a></li>
<li><a href="https://github.com/xianyunyh/spider_job">Boss 直聘</a></li>
<li><a href="https://github.com/qzcool/Ke">贝壳网找房爬虫</a></li>
</ul>
<h3 id="C"><a href="#C" class="headerlink" title="C"></a>C</h3><ul>
<li><a href="https://github.com/jackgitgz/CnblogsSpider">cnblog</a></li>
<li><a href="https://github.com/LintBin/1024crawer">caoliu 1024</a></li>
</ul>
<h3 id="D"><a href="#D" class="headerlink" title="D"></a>D</h3><ul>
<li><a href="https://github.com/lanbing510/DouBanSpider">豆瓣读书</a></li>
<li><a href="https://github.com/dontcontactme/doubanspiders">豆瓣爬虫集</a></li>
<li><a href="https://github.com/rockdai/haixiu">豆瓣害羞组</a></li>
<li><a href="https://github.com/CasterWx/java-Crawler/tree/master/src/%E7%88%AC%E8%99%AB/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90/%E8%B1%86%E7%93%A3%E5%9B%BE%E4%B9%A6%E6%B7%B1%E5%BA%A6%E7%88%AC%E5%8F%96">豆瓣图书广度爬取</a></li>
<li><a href="https://github.com/TheRook/subbrute">DNS记录和子域名</a></li>
<li><a href="https://github.com/chenjiandongx/magnet-dht">DHT网络磁力种子爬虫</a></li>
<li><a href="https://github.com/Python3WebSpider/DouYin">抖音</a></li>
<li><a href="https://github.com/cnbattle/douyin">抖音推荐</a></li>
</ul>
<h3 id="E"><a href="#E" class="headerlink" title="E"></a>E</h3><ul>
<li><a href="https://github.com/shuiqukeyou/E-HentaiCrawler">E绅士</a></li>
</ul>
<h3 id="G"><a href="#G" class="headerlink" title="G"></a>G</h3><ul>
<li><a href="https://github.com/pein0119/girl-atlas-crawler">Girl-atlas</a></li>
<li><a href="https://github.com/xuelangcxy/girlCrawler">girl13</a></li>
<li><a href="https://github.com/bonfy/github-trending">github trending</a></li>
<li><a href="https://github.com/chenjiandongx/Github">Github 仓库及用户分析爬虫</a></li>
<li><a href="https://github.com/dta0502/NBSPRC-spider">国家统计用区划代码和城乡划分代码爬虫</a></li>
</ul>
<h3 id="H"><a href="#H" class="headerlink" title="H"></a>H</h3><ul>
<li><a href="https://github.com/stevenshuang/spider/tree/master/hdoj">HDOJ爬虫</a></li>
</ul>
<h3 id="I"><a href="#I" class="headerlink" title="I"></a>I</h3><ul>
<li><a href="https://github.com/xTEddie/Scrapstagram">Instagram</a></li>
<li><a href="https://github.com/XetRAHF/Scrapping-INC500">INC500 世界5000强爬虫</a></li>
</ul>
<h3 id="J"><a href="#J" class="headerlink" title="J"></a>J</h3><ul>
<li><a href="https://github.com/taizilongxu/scrapy_jingdong">京东</a></li>
<li><a href="https://github.com/Chyroc/JDong">京东搜索+评论</a></li>
<li><a href="https://github.com/samrayleung/jd_spider">京东商品+评论</a></li>
<li><a href="https://github.com/fankcoder/findtrip">机票</a></li>
<li><a href="https://github.com/kulovecc/jandan_spider">煎蛋妹纸</a></li>
<li><a href="https://github.com/Tony-Chiong/jandan_spider">煎蛋妹纸selenium版本</a></li>
<li><a href="https://github.com/lzjqsdd/NewsSpider">今日头条，网易，腾讯等新闻</a></li>
<li><a href="https://github.com/CasterWx/java-Crawler/tree/master/src/%E7%88%AC%E8%99%AB/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90/Book">计算机书籍控图书</a></li>
<li><a href="https://github.com/CourierKyn/jkcrawler">JK (制服写真) 爬虫</a></li>
</ul>
<h3 id="K"><a href="#K" class="headerlink" title="K"></a>K</h3><ul>
<li><a href="https://github.com/atonasting/zhihuspider">看知乎</a></li>
<li><a href="https://github.com/xinqiu/kechenggezi-Spider">课程格子校花榜</a></li>
<li><a href="https://github.com/wudaown/konachanDL">konachan</a></li>
</ul>
<h3 id="L"><a href="#L" class="headerlink" title="L"></a>L</h3><ul>
<li><a href="https://github.com/lanbing510/LianJiaSpider">链家</a></li>
<li><a href="https://github.com/XuefengHuang/lianjia-scrawler">链家成交在售在租房源</a></li>
<li><a href="https://github.com/GuozhuHe/webspider">拉勾</a></li>
<li><a href="https://github.com/youfou/hsdata">炉石传说</a></li>
<li><a href="https://github.com/bonfy/leetcode">leetcode</a></li>
<li><a href="https://github.com/XetRAHF/Spider_LinkedInSalesNavigatorURL">领英销售导航器爬虫 LinkedInSalesNavigator</a></li>
</ul>
<h3 id="M"><a href="#M" class="headerlink" title="M"></a>M</h3><ul>
<li><a href="https://github.com/eternal-flame-AD/mafengwo">马蜂窝 用户足迹</a></li>
<li><a href="https://github.com/Thoxvi/MyCar_python">MyCar</a></li>
<li><a href="https://github.com/miaoerduo/cartoon-cat">漫画喵 一键下载漫画~</a></li>
<li><a href="https://github.com/qwertyuiop6/mm131">MM131性感美女写真图全爬取</a></li>
<li>美女写真套图爬虫 <a href="https://github.com/chenjiandongx/mmjpg">（一）</a><a href="https://github.com/chenjiandongx/mzitu">（二）</a><a href="https://github.com/chenjiandongx/photo-gevent">（三）</a></li>
<li><a href="https://github.com/3inchtime/mmjpg_spider">妹子图</a></li>
<li><a href="https://github.com/CasterWx/python-maoyan-spider">猫眼网电影评分</a></li>
</ul>
<h3 id="N"><a href="#N" class="headerlink" title="N"></a>N</h3><ul>
<li><a href="https://github.com/NolanZhao/news_feed">新闻监控</a></li>
<li><a href="https://github.com/sy-records/speech_spiders/tree/master/nihaowu">你好污啊</a></li>
</ul>
<h3 id="O"><a href="#O" class="headerlink" title="O"></a>O</h3><ul>
<li><a href="https://github.com/SilverBooker/ofoSpider">ofo共享单车爬虫</a></li>
</ul>
<h3 id="P"><a href="#P" class="headerlink" title="P"></a>P</h3><ul>
<li><a href="https://github.com/littleVege/pixiv_crawl">Pixiv</a></li>
<li><a href="https://github.com/xiyouMc/WebHubBot">PornHub</a></li>
<li><a href="https://github.com/niqdev/packtpub-crawler">packtpub</a></li>
<li><a href="https://github.com/eqblog/91_porn_spider">91porn</a></li>
</ul>
<h3 id="Q"><a href="#Q" class="headerlink" title="Q"></a>Q</h3><ul>
<li><a href="https://github.com/LiuXingMing/QQSpider">QQ空间</a></li>
<li><a href="https://github.com/caspartse/QQ-Groups-Spider">QQ 群</a></li>
<li><a href="https://github.com/kehao95/thu_learn">清华大学网络学堂爬虫</a></li>
<li><a href="https://github.com/lining0806/QunarSpider">去哪儿</a></li>
<li><a href="https://github.com/chenjiandongx/51job">前程无忧Python招聘岗位信息爬取分析</a></li>
<li><a href="https://github.com/Wildwizard404/qqzhpt-spider">qqzhpt美女写真爬虫/批量下载</a></li>
</ul>
<h3 id="R"><a href="#R" class="headerlink" title="R"></a>R</h3><ul>
<li><a href="https://github.com/gnehsoah/yyets-spider">人人影视</a></li>
<li><a href="https://github.com/shanelau/rssSpider">RSS 爬虫</a></li>
<li><a href="https://github.com/evilcos/crawlers">rosi 妹子图</a></li>
<li><a href="https://github.com/tsarjak/WallpapersFromReddit">reddit 壁纸</a></li>
<li><a href="https://github.com/dannyvai/reddit_crawlers">reddit</a></li>
</ul>
<h3 id="S"><a href="#S" class="headerlink" title="S"></a>S</h3><ul>
<li><a href="https://github.com/Cortexelus/dadabots">soundcloud</a></li>
<li><a href="https://github.com/chenjiandongx/stackoverflow">Stackoverflow 100万问答爬虫</a></li>
<li><a href="https://github.com/chenjiandongx/soksaccounts">Shadowsocks 账号爬虫</a></li>
<li><a href="https://github.com/chengyumeng/spider163">spider163 网易云音乐爬虫</a></li>
<li><a href="https://github.com/Danielyan86/Movie-scrapy">时光网电影数据和海报爬虫</a></li>
</ul>
<h3 id="T"><a href="#T" class="headerlink" title="T"></a>T</h3><ul>
<li><a href="https://github.com/facert/tumblr_spider">tumblr</a></li>
<li><a href="https://github.com/cyang812/get_tumblr_likes">下载tumblr喜欢内容</a></li>
<li><a href="https://github.com/waditu/tushare">TuShare</a></li>
<li><a href="https://github.com/LiuXingMing/Tmall1212">天猫双12爬虫</a></li>
<li><a href="https://github.com/carlonelong/TaobaoMMCrawler">Taobao mm</a></li>
<li><a href="https://github.com/chenjiandongx/cup-size">Tmall 女性文胸尺码爬虫</a></li>
<li><a href="https://github.com/xiaozhongliu/taobao-live-crawler">淘宝直播弹幕爬虫(node)</a></li>
<li><a href="https://github.com/CasterWx/java-Crawler/tree/master/src/%E7%88%AC%E8%99%AB/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90/%E7%88%AC%E5%8F%96%E8%AE%BA%E5%9D%9B%E6%96%87%E7%AB%A0">天涯论坛文章</a></li>
<li><a href="https://github.com/qzcool/Tianyancha">天眼查爬虫</a></li>
</ul>
<h3 id="V"><a href="#V" class="headerlink" title="V"></a>V</h3><ul>
<li><a href="https://github.com/qwertyuiop6/get_youtube_subtitle">Youtube字幕下载</a></li>
<li><a href="https://github.com/billvsme/videoSpider">视频信息爬虫</a></li>
<li><a href="https://github.com/chenqing/spider">电影网站</a></li>
</ul>
<h3 id="W"><a href="#W" class="headerlink" title="W"></a>W</h3><ul>
<li><a href="https://github.com/hanc00l/wooyun_public">乌云公开漏洞</a></li>
<li><a href="https://github.com/bowenpay/wechat-spider">微信公众号</a></li>
<li><a href="https://github.com/lijinma/wechat_spider">“代理”方式抓取微信公众号文章</a></li>
<li><a href="https://github.com/armysheng/tech163newsSpider">网易新闻</a></li>
<li><a href="https://github.com/dongweiming/commentbox">网易精彩评论</a></li>
<li><a href="https://github.com/lonsty/weibo-image-spider">微博图片爬虫</a></li>
<li><a href="https://github.com/luzhijun/weiboSA">微博主题搜索分析</a></li>
<li><a href="https://github.com/RitterHou/music-163">网易云音乐</a></li>
<li><a href="https://github.com/CasterWx/java-Crawler/tree/master/src/%E7%88%AC%E8%99%AB/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90/%E7%BD%91%E6%98%93%E4%BA%91%E7%83%AD%E8%AF%84%E7%88%AC%E5%8F%96">新.网易热评</a></li>
<li><a href="https://github.com/CasterWx/java-Crawler/tree/master/src/%E7%88%AC%E8%99%AB/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90/vip">唯品会商品</a></li>
</ul>
<h3 id="X"><a href="#X" class="headerlink" title="X"></a>X</h3><ul>
<li><a href="https://github.com/decaywood/XueQiuSuperSpider">雪球股票信息(java)</a></li>
<li><a href="https://github.com/LiuXingMing/SinaSpider">新浪微博</a></li>
<li><a href="https://github.com/ResolveWang/weibospider">新浪微博分布式爬虫</a></li>
<li><a href="https://github.com/sy-records/speech_spiders/tree/master/chicken-soup">心灵毒鸡汤</a></li>
<li><a href="https://github.com/DropsDevopsOrg/ECommerceCrawlers/tree/master/XianyuCrawler">闲鱼最新商品爬取</a></li>
<li><a href="https://github.com/lonsty/xvideos-dl">H 片下载工具（xvideos.com）</a></li>
</ul>
<h3 id="Y"><a href="#Y" class="headerlink" title="Y"></a>Y</h3><ul>
<li><a href="https://github.com/pockry/tv-crawler">英美剧 TV (node.js)</a></li>
</ul>
<h3 id="Z"><a href="#Z" class="headerlink" title="Z"></a>Z</h3><ul>
<li><a href="https://github.com/chenjiandongx/wallpaper">ZOL 手机壁纸爬虫</a></li>
<li><a href="https://github.com/LiuRoy/zhihu_spider">知乎(python)</a></li>
<li><a href="https://github.com/owner888/phpspider">知乎(php)</a></li>
<li><a href="https://github.com/yanzhou/CnkiSpider">知网</a></li>
<li><a href="https://github.com/yjm12321/zhihu-girl">知乎妹子</a></li>
<li><a href="https://github.com/facert/ziroom_realtime_spider">自如实时房源提醒</a></li>
<li><a href="https://github.com/codeudan/crawler-china-mainland-universities.git">中国大陆高校列表爬虫</a></li>
<li><a href="https://github.com/lonsty/scraper">站酷（zcool.com.cn）图片爬虫</a></li>
</ul>
<h3 id=""><a href="#" class="headerlink" title="#"></a>#</h3><ul>
<li><a href="https://github.com/but0n/JianSo_Movie">80s 影视资源爬虫 - JianSo_Movie</a></li>
</ul>
<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><ul>
<li><a href="https://github.com/Nyloner/Nyspider">各种爬虫</a></li>
<li><a href="https://github.com/blueskyz/DHTCrawler">DHT 爬虫</a></li>
<li><a href="https://github.com/dontcontactme/simDHT">SimDHT</a></li>
<li><a href="https://github.com/dontcontactme/p2pspider">p2pspider</a></li>
</ul>
]]></content>
      <categories>
        <category>python爬虫</category>
      </categories>
      <tags>
        <tag>爬虫</tag>
      </tags>
  </entry>
  <entry>
    <title>物理层</title>
    <url>/2021/05/17/%E7%89%A9%E7%90%86%E5%B1%82/</url>
    <content><![CDATA[<h1>物理层</h1><h2 id="一、基本概念"><a href="#一、基本概念" class="headerlink" title="一、基本概念"></a>一、基本概念</h2><p>物理层的作用的是接收数据链路层传来的0、1字符串，并把它们转换成电信号（考虑多大电压代表0、1），在传输媒体上传播，并且定义了管理这些媒体的机械，电气，功能，过程的特性。</p>
<a id="more"></a>
<h2 id="二、数据通信的基本概念"><a href="#二、数据通信的基本概念" class="headerlink" title="二、数据通信的基本概念"></a>二、数据通信的基本概念</h2><blockquote>
<p>备注：计算机通信只是数据通信中的一种，还有其他的</p>
</blockquote>
<p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1gaf8tmf8l6j31em0p8qam.jpg" alt=""></p>
<h3 id="1、数据通信的模型：源系统-gt-传输系统-gt-目的系统"><a href="#1、数据通信的模型：源系统-gt-传输系统-gt-目的系统" class="headerlink" title="1、数据通信的模型：源系统 ==&gt; 传输系统 ==&gt; 目的系统"></a>1、数据通信的模型：源系统 ==&gt; 传输系统 ==&gt; 目的系统</h3><h3 id="2、相关术语"><a href="#2、相关术语" class="headerlink" title="2、相关术语"></a>2、相关术语</h3><ul>
<li>数据（data）：运送信息的实体（数据是信息的载体，不是信息的本身）。</li>
<li>信号（signal）：数据的电气或电磁的1表现。</li>
<li>码元：不同离散数值的基本波形（二进制编码中只有两种码元，0状态和1状态</li>
<li>模拟的（analogous）：连续变化的</li>
<li>数字的（digital）：取值是离散的</li>
<li>调制：把数字信号转换成模拟信号。</li>
<li>解调：把模拟信号换成数字信号。</li>
</ul>
<h3 id="3、信道"><a href="#3、信道" class="headerlink" title="3、信道"></a>3、信道</h3><p>1）基本概念</p>
<p>表示某一个方向传送信息的媒体</p>
<p>1）通信方式：</p>
<ul>
<li>单工通信</li>
<li>半双工通信</li>
<li>全双工通信</li>
</ul>
<p>2）信道（传输系统）基本概念</p>
<ul>
<li>基带信号：来自信源的信号。  <ul>
<li>编码：对基带信号的波形进行变换，使它能够与信道特信相适应，变换后的信号仍然是基带信号。</li>
<li>编码方式：单极性不归零码，双极性不归零码，单极性归零码，双极性归零码，曼彻斯特编码（能携带时钟信号，可以表示没有数据传输），差分曼彻斯特编码（抗干扰性能强于前者）</li>
</ul>
</li>
</ul>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gflqtbblkfj316m0fq7hy.jpg" alt=""></p>
<ul>
<li><p>带通信号（调制）：经过载波调制后的信号。</p>
<ul>
<li>调制：使用载波进行调制，把基带信号的频率范围搬迁到较高的频段，并转换为模拟信号。</li>
<li>调制方法：调幅（AF），调频（FM），调相（PM）</li>
</ul>
</li>
</ul>
<p>3）信道的极限容量 ==&gt; 奈式准则：没有信号干扰，码元的传输速率有上限</p>
<p>限制码元在信道上传输速率的因素</p>
<ul>
<li><p>信道能够通过的频率范围：在任何信道中，码元传输的速率都有上限，超过这个上限，就会出现严重的码间串扰问题。</p>
</li>
<li><p>信噪比：信号的平均功率 / 噪声的平均功率（S / N）</p>
</li>
</ul>
<p>香农公式（传多远会是真）：有信号干扰，无差错传输速率</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">信道的极限信息传输速率：C = Wlog2(1 + S / N) b/s</span><br><span class="line">W // 带宽</span><br><span class="line">S // 信道内所传信号的平均功率</span><br><span class="line">N // 信道内的高斯噪声功率</span><br></pre></td></tr></table></figure>
<h2 id="三、传输媒体"><a href="#三、传输媒体" class="headerlink" title="三、传输媒体"></a>三、传输媒体</h2><p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1gafb9kcavqj31dm0s6gqp.jpg" alt=""></p>
<h3 id="1、导向传输媒体（电磁波沿着固体媒体传播）"><a href="#1、导向传输媒体（电磁波沿着固体媒体传播）" class="headerlink" title="1、导向传输媒体（电磁波沿着固体媒体传播）"></a>1、导向传输媒体（电磁波沿着固体媒体传播）</h3><p>1）金属介质（传电信号实现数据通信）：双绞线（屏蔽双绞线STP，无屏蔽双绞线UTP），同轴电缆（50欧用于数字传输，75欧用于模拟传输）</p>
<ul>
<li><p>直通线：比如计算机和交换机连</p>
</li>
<li><p>交叉线：（以前有线序，现在网卡进步后，不需要了）</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">同类设备交叉线，不同类直通线。</span><br></pre></td></tr></table></figure>
<p>2）光缆（光信号实现数据通信）：光纤（多模，单模）</p>
<h3 id="2、非导向传输媒体（电磁波传输称为无线通信）"><a href="#2、非导向传输媒体（电磁波传输称为无线通信）" class="headerlink" title="2、非导向传输媒体（电磁波传输称为无线通信）"></a>2、非导向传输媒体（电磁波传输称为无线通信）</h3><p>短波通信质量差，微波直线传播：地面微波接力通信，卫星通信 ）</p>
<h3 id="3、物理层设备"><a href="#3、物理层设备" class="headerlink" title="3、物理层设备"></a>3、物理层设备</h3><ul>
<li>中继器：负责在两个节点的物理层上按位传递信息，完成信号的复制、调整和放大功能，以此来延长网络的长度，无路径检测和交换功能</li>
<li>集线器：用于加强信号（只把比特流传过去，不作任何判断，也看不懂数据链路层的东西，可以看成线）</li>
<li>交换机：交换机是根据Mac地址来转发数据的，它接收数据帧，然后存储看他的Mac地址，选择出口，决定往哪里转发</li>
</ul>
<h2 id="四、信道复用技术"><a href="#四、信道复用技术" class="headerlink" title="四、信道复用技术"></a>四、信道复用技术</h2><p>1、频分复用</p>
<p>2、时分复用（可能使线路资源浪费）</p>
<p>3、统计时分复用（放的时候无规律，分的时候用标记来分）</p>
<p>4、波分复用（光的频分复用）</p>
<h2 id="五、宽度接入技术"><a href="#五、宽度接入技术" class="headerlink" title="五、宽度接入技术"></a>五、宽度接入技术</h2><p>1、ADSL（用电话线接入</p>
<p>2、HFC：（用有线电视的铜线接入</p>
<p>3、FTTx：（光纤到户</p>
</div><div class="post-tag-list">标签: <a class="post-tags" href="/tags/网络安全/">网络安全]]></content>
      <categories>
        <category>网络安全</category>
      </categories>
      <tags>
        <tag>计算机网络</tag>
      </tags>
  </entry>
  <entry>
    <title>百度文库爬虫</title>
    <url>/2021/05/23/%E7%99%BE%E5%BA%A6%E6%96%87%E5%BA%93%E7%88%AC%E8%99%AB/</url>
    <content><![CDATA[<pre><code>#-*- coding:UTF-8 -*-
from selenium import webdriver
from bs4 import BeautifulSoup
import re
import time

if __name__ == &#39;__main__&#39;:


   options = webdriver.ChromeOptions()
   options.add_argument(&#39;user-agent=&quot;Mozilla/5.0 (Linux; Android 4.0.4; Galaxy Nexus Build/IMM76B) AppleWebKit/535.19 (KHTML, like Gecko) Chrome/18.0.1025.133 Mobile Safari/535.19&quot;&#39;)
   driver = webdriver.Chrome(&#39;J:\迅雷下载\chromedriver.exe&#39;, chrome_options=options)
   driver.get(&#39;https://wenku.baidu.com/view/aa31a84bcf84b9d528ea7a2c.html&#39;)

   html = driver.page_source
   bf1 = BeautifulSoup(html, &#39;lxml&#39;)
   result = bf1.find_all(class_=&#39;rtcspage&#39;)
   bf2 = BeautifulSoup(str(result[0]), &#39;lxml&#39;)
   title = bf2.div.div.h1.string
   pagenum = bf2.find_all(class_=&#39;size&#39;)
   pagenum = BeautifulSoup(str(pagenum),  &#39;lxml&#39;).span.string
   pagepattern = re.compile(&#39;页数：(\d+)页&#39;)
   num = int(pagepattern.findall(pagenum)[0])
   print(&#39;文章标题：%s&#39; % title)
   print(&#39;文章页数：%d&#39; % num)


   while True:
       num = num / 5.0
       html = driver.page_source
       bf1 = BeautifulSoup(html, &#39;lxml&#39;)
       result = bf1.find_all(class_=&#39;rtcspage&#39;)
       for each_result in result:
           bf2 = BeautifulSoup(str(each_result), &#39;lxml&#39;)
           texts = bf2.find_all(&#39;p&#39;)
           for each_text in texts:
                  main_body = BeautifulSoup(str(each_text), &#39;lxml&#39;)
               for each in main_body.find_all(True):
                   if each.name == &#39;span&#39;:
                       print(each.string.replace(&#39;\xa0&#39;,&#39;&#39;),end=&#39;&#39;)
                   elif each.name == &#39;br&#39;:
                       print(&#39;&#39;)
           print(&#39;\n&#39;)
       if num &gt; 1:
           page = driver.find_elements_by_xpath(&quot;//div[@class=&#39;page&#39;]&quot;)
           driver.execute_script(&#39;arguments[0].scrollIntoView();&#39;, page[-1]) #拖动到可见的元素去
           nextpage = driver.find_element_by_xpath(&quot;//a[@data-fun=&#39;next&#39;]&quot;)
           nextpage.click()
           time.sleep(3)
       else:
           break
</code></pre>
]]></content>
      <categories>
        <category>python爬虫</category>
      </categories>
      <tags>
        <tag>爬虫</tag>
      </tags>
  </entry>
  <entry>
    <title>轻量级滚动动画JavaScript库aos.js</title>
    <url>/2020/10/08/%E8%BD%BB%E9%87%8F%E7%BA%A7%E6%BB%9A%E5%8A%A8%E5%8A%A8%E7%94%BBJavaScript%E5%BA%93aos-js/</url>
    <content><![CDATA[<h2 id="一、简介"><a href="#一、简介" class="headerlink" title="一、简介"></a>一、简介</h2><p><a href="http://michalsnik.github.io/aos/">aos.js</a>是一款效果超赞的页面滚动的 JavaScript 动画库插件。该动画库可以在页面滚动时提供28种不同的元素动画效果，以及多种<code>easing</code>效果。在页面往回滚动时，元素会恢复到原来的状态。</p>
<p><img src="http://static.blinkfox.com/aos1.png" alt="AOS"></p>
<blockquote>
<p>注：从<code>2.0.0</code>版本之后,只支持使用<code>data-aos</code>属性，不再支持使用<code>aos</code>属性。</p>
</blockquote>
<h2 id="二、安装"><a href="#二、安装" class="headerlink" title="二、安装"></a>二、安装</h2><h3 id="1-Bower-安装"><a href="#1-Bower-安装" class="headerlink" title="1. Bower 安装"></a>1. Bower 安装</h3><p>你可以使用 <a href="https://bower.io/">Bower</a> 包管理工具安装<code>aos</code>：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">bower install aos --save</span><br></pre></td></tr></table></figure>

<h3 id="2-npm"><a href="#2-npm" class="headerlink" title="2. npm"></a>2. npm</h3><p>你也能在 <a href="https://www.npmjs.com/">npm</a> 上找到 <code>aos</code>：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install aos --save</span><br></pre></td></tr></table></figure>

<h3 id="3-Github-下载"><a href="#3-Github-下载" class="headerlink" title="3. Github 下载"></a>3. Github 下载</h3><p>Github 下载点击[此处][5]</p>
<h2 id="三、使用示例"><a href="#三、使用示例" class="headerlink" title="三、使用示例"></a>三、使用示例</h2><h3 id="1-使用方法"><a href="#1-使用方法" class="headerlink" title="1. 使用方法"></a>1. 使用方法</h3><p>引入<code>CSS</code>样式文件：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;bower_components/aos/dist/aos.css&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<p>添加<code>JavaScript</code>脚本文件：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;bower_components/aos/dist/aos.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>初始化载入<code>AOS</code>：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">    AOS.init();</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="2-简单示例"><a href="#2-简单示例" class="headerlink" title="2. 简单示例"></a>2. 简单示例</h3><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">font-family</span>: Helvetica,Tahoma;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">*,</span><br><span class="line">*:before,</span><br><span class="line">*:after &#123;</span><br><span class="line">    box-sizing: border-box;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.aos-all</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">1000px</span>;</span><br><span class="line">    <span class="attribute">max-width</span>: <span class="number">98%</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">10vh</span> auto <span class="number">0</span> auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.aos-item</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">33.3333%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.aos-item__inner</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#1da4e2</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">260px</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">800px</span>) &#123;</span><br><span class="line">    <span class="selector-class">.aos-item</span> &#123;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">50%</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>AOS的简单示例<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;aos/aos.css&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;aos_test.css&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">onload</span>=<span class="string">&quot;initLoad();&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;transcroller&quot;</span> <span class="attr">class</span>=<span class="string">&quot;aos-all&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item&quot;</span> <span class="attr">data-aos</span>=<span class="string">&quot;fade-up&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item__inner&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>1<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item&quot;</span> <span class="attr">data-aos</span>=<span class="string">&quot;fade-down&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item__inner&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>2<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item&quot;</span> <span class="attr">data-aos</span>=<span class="string">&quot;zoom-out-down&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item__inner&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>3<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item&quot;</span> <span class="attr">data-aos</span>=<span class="string">&quot;flip-down&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item__inner&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>4<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item&quot;</span> <span class="attr">data-aos</span>=<span class="string">&quot;flip-up&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item__inner&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>5<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item&quot;</span> <span class="attr">data-aos</span>=<span class="string">&quot;fade-down&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item__inner&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>6<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item&quot;</span> <span class="attr">data-aos</span>=<span class="string">&quot;fade-in&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item__inner&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>7<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item&quot;</span> <span class="attr">data-aos</span>=<span class="string">&quot;fade-down&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item__inner&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>8<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item&quot;</span> <span class="attr">data-aos</span>=<span class="string">&quot;fade-in&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item__inner&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>9<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item&quot;</span> <span class="attr">data-aos</span>=<span class="string">&quot;fade-down&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item__inner&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>10<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item&quot;</span> <span class="attr">data-aos</span>=<span class="string">&quot;fade-up&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item__inner&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>11<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item&quot;</span> <span class="attr">data-aos</span>=<span class="string">&quot;fade-down&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item__inner&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>12<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item&quot;</span> <span class="attr">data-aos</span>=<span class="string">&quot;fade-in&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item__inner&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>13<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item&quot;</span> <span class="attr">data-aos</span>=<span class="string">&quot;fade-up&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item__inner&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>14<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item&quot;</span> <span class="attr">data-aos</span>=<span class="string">&quot;fade-in&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item__inner&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>15<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item&quot;</span> <span class="attr">data-aos</span>=<span class="string">&quot;fade-up&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item__inner&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>16<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item&quot;</span> <span class="attr">data-aos</span>=<span class="string">&quot;fade-down&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item__inner&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>17<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item&quot;</span> <span class="attr">data-aos</span>=<span class="string">&quot;fade-up&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item__inner&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>18<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item&quot;</span> <span class="attr">data-aos</span>=<span class="string">&quot;zoom-out&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item__inner&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>19<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item&quot;</span> <span class="attr">data-aos</span>=<span class="string">&quot;fade-up&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item__inner&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>20<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item&quot;</span> <span class="attr">data-aos</span>=<span class="string">&quot;zoom-out&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item__inner&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>21<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item&quot;</span> <span class="attr">data-aos</span>=<span class="string">&quot;fade-in&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item__inner&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>22<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item&quot;</span> <span class="attr">data-aos</span>=<span class="string">&quot;zoom-out-up&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item__inner&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>23<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item&quot;</span> <span class="attr">data-aos</span>=<span class="string">&quot;zoom-out-down&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item__inner&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>24<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item&quot;</span> <span class="attr">data-aos</span>=<span class="string">&quot;fade-in&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item__inner&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>25<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item&quot;</span> <span class="attr">data-aos</span>=<span class="string">&quot;fade-in&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item__inner&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>26<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item&quot;</span> <span class="attr">data-aos</span>=<span class="string">&quot;fade-in&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item__inner&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>27<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item&quot;</span> <span class="attr">data-aos</span>=<span class="string">&quot;fade-in&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item__inner&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>28<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item&quot;</span> <span class="attr">data-aos</span>=<span class="string">&quot;fade-in&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item__inner&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>29<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item&quot;</span> <span class="attr">data-aos</span>=<span class="string">&quot;fade-in&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item__inner&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>30<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item&quot;</span> <span class="attr">data-aos</span>=<span class="string">&quot;fade-in&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item__inner&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>31<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item&quot;</span> <span class="attr">data-aos</span>=<span class="string">&quot;fade-in&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item__inner&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>32<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item&quot;</span> <span class="attr">data-aos</span>=<span class="string">&quot;fade-in&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item__inner&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>33<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item&quot;</span> <span class="attr">data-aos</span>=<span class="string">&quot;fade-in&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item__inner&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>34<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item&quot;</span> <span class="attr">data-aos</span>=<span class="string">&quot;fade-in&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item__inner&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>35<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item&quot;</span> <span class="attr">data-aos</span>=<span class="string">&quot;fade-in&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item__inner&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>36<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item&quot;</span> <span class="attr">data-aos</span>=<span class="string">&quot;fade-in&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item__inner&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>37<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item&quot;</span> <span class="attr">data-aos</span>=<span class="string">&quot;fade-in&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item__inner&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>38<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item&quot;</span> <span class="attr">data-aos</span>=<span class="string">&quot;fade-in&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item__inner&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>39<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item&quot;</span> <span class="attr">data-aos</span>=<span class="string">&quot;fade-in&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item__inner&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>40<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item&quot;</span> <span class="attr">data-aos</span>=<span class="string">&quot;fade-in&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item__inner&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>41<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item&quot;</span> <span class="attr">data-aos</span>=<span class="string">&quot;fade-in&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item__inner&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>42<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;aos/aos.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">initLoad</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line">        AOS.init();</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="3-异步示例"><a href="#3-异步示例" class="headerlink" title="3. 异步示例"></a>3. 异步示例</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>AOS 异步使用的示例<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;aos.css&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;aos_test.css&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">onload</span>=<span class="string">&quot;initLoad();&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;aos_async&quot;</span> <span class="attr">class</span>=<span class="string">&quot;aos-all&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;aos.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">initLoad</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line">        AOS.init();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="comment">// 0.5秒执行一次</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">setInterval</span>(addItem, <span class="number">500</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> itemsCounter = <span class="number">1</span>;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> container = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;aos_async&#x27;</span>);</span></span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 动态生成的div元素</span><br><span class="line">     */</span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">addItem</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (itemsCounter &gt; <span class="number">42</span>) <span class="keyword">return</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> item = <span class="built_in">document</span>.createElement(<span class="string">&#x27;div&#x27;</span>);</span></span><br><span class="line"><span class="javascript">        item.classList.add(<span class="string">&#x27;aos-item&#x27;</span>);</span></span><br><span class="line"><span class="javascript">        item.setAttribute(<span class="string">&#x27;data-aos&#x27;</span>, <span class="string">&#x27;fade-up&#x27;</span>);</span></span><br><span class="line"><span class="handlebars"><span class="xml">        item.innerHTML = &#x27;<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aos-item__inner&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">h3</span>&gt;</span>&#x27; + itemsCounter + &#x27;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span>&#x27;;</span></span></span><br><span class="line">        container.appendChild(item);</span><br><span class="line">        itemsCounter++;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="四、动画样式"><a href="#四、动画样式" class="headerlink" title="四、动画样式"></a>四、动画样式</h2><p>以下是<code>AOS</code>已经提供了的多种动画：</p>
<h3 id="1-Fade-animations"><a href="#1-Fade-animations" class="headerlink" title="1. Fade animations"></a>1. Fade animations</h3><ul>
<li>fade-up</li>
<li>fade-down</li>
<li>fade-left</li>
<li>fade-right</li>
<li>fade-up-right</li>
<li>fade-up-left</li>
<li>fade-down-right</li>
<li>fade-down-left</li>
</ul>
<h3 id="2-Flip-animations"><a href="#2-Flip-animations" class="headerlink" title="2. Flip animations"></a>2. Flip animations</h3><ul>
<li>flip-up</li>
<li>flip-down</li>
<li>flip-left</li>
<li>flip-right</li>
</ul>
<h3 id="3-Slide-animations"><a href="#3-Slide-animations" class="headerlink" title="3. Slide animations"></a>3. Slide animations</h3><ul>
<li>slide-up</li>
<li>slide-down</li>
<li>slide-left</li>
<li>slide-right</li>
</ul>
<h3 id="4-Zoom-animations"><a href="#4-Zoom-animations" class="headerlink" title="4. Zoom animations"></a>4. Zoom animations</h3><ul>
<li>zoom-in</li>
<li>zoom-in-up</li>
<li>zoom-in-down</li>
<li>zoom-in-left</li>
<li>zoom-in-right</li>
<li>zoom-out</li>
<li>zoom-out-up</li>
<li>zoom-out-down</li>
<li>zoom-out-left</li>
<li>zoom-out-right</li>
</ul>
<h3 id="5-Anchor-placement"><a href="#5-Anchor-placement" class="headerlink" title="5. Anchor placement"></a>5. Anchor placement</h3><ul>
<li>top-bottom</li>
<li>top-center</li>
<li>top-top</li>
<li>center-bottom</li>
<li>center-center</li>
<li>center-top</li>
<li>bottom-bottom</li>
<li>bottom-center</li>
<li>bottom-top</li>
</ul>
<h2 id="五、Easing-函数"><a href="#五、Easing-函数" class="headerlink" title="五、Easing 函数"></a>五、Easing 函数</h2><p>你可以选择以下任意一个时间函数来做出很好的做动画元素：</p>
<ul>
<li>linear</li>
<li>ease</li>
<li>ease-in</li>
<li>ease-out</li>
<li>ease-in-out</li>
<li>ease-in-back</li>
<li>ease-out-back</li>
<li>ease-in-out-back</li>
<li>ease-in-sine</li>
<li>ease-out-sine</li>
<li>ease-in-out-sine</li>
<li>ease-in-quad</li>
<li>ease-out-quad</li>
<li>ease-in-out-quad</li>
<li>ease-in-cubic</li>
<li>ease-out-cubic</li>
<li>ease-in-out-cubic</li>
<li>ease-in-quart</li>
<li>ease-out-quart</li>
<li>ease-in-out-quart</li>
</ul>
]]></content>
      <categories>
        <category>Web前端</category>
      </categories>
      <tags>
        <tag>Web - JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript之再学习</title>
    <url>/2018/10/30/JavaScript%E4%B9%8B%E5%86%8D%E5%AD%A6%E4%B9%A0/</url>
    <content><![CDATA[<h2 id="概览"><a href="#概览" class="headerlink" title="概览"></a>概览</h2><p>JavaScript 是一种面向对象的动态语言，它包含类型、运算符、标准内置（ built-in）对象和方法。它的语法来源于 Java 和 C，所以这两种语言的许多语法特性同样适用于 JavaScript。需要注意的一个主要区别是 JavaScript 不支持类，类这一概念在 JavaScript 通过对象原型（object prototype）得到延续。另一个主要区别是 JavaScript 中的函数也是对象，JavaScript 允许函数在包含可执行代码的同时，能像其他对象一样被传递。</p>
<h2 id="数据类型和结构"><a href="#数据类型和结构" class="headerlink" title="数据类型和结构"></a>数据类型和结构</h2><h3 id="1-动态类型"><a href="#1-动态类型" class="headerlink" title="1. 动态类型"></a>1. 动态类型</h3><p><code>JavaScript</code>是一种弱类型或者说动态语言。这意味着你不用提前声明变量的类型，在程序运行过程中，类型会被自动确定。这也意味着你可以使用同一个变量保存不同类型的数据：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = <span class="number">42</span>;    <span class="comment">// foo is a Number now</span></span><br><span class="line"><span class="keyword">var</span> foo = <span class="string">&quot;bar&quot;</span>; <span class="comment">// foo is a String now</span></span><br><span class="line"><span class="keyword">var</span> foo = <span class="literal">true</span>;  <span class="comment">// foo is a Boolean now</span></span><br></pre></td></tr></table></figure>

<h3 id="2-数据类型"><a href="#2-数据类型" class="headerlink" title="2. 数据类型"></a>2. 数据类型</h3><p>最新的<code>ECMAScript</code>标准定义了 7 种数据类型:</p>
<ul>
<li>6 种原始类型<ul>
<li><code>Null</code> (空, 只有一个值<code>null</code>)</li>
<li><code>Undefined</code> (未定义, 一个没有被赋值的变量的默认值是<code>undefined</code>):</li>
<li><code>Boolean</code> (布尔, 可以有两个值：<code>true</code> 和 <code>false</code>)</li>
<li><code>Number</code> (数字)</li>
<li><code>String</code> (字符串)</li>
<li><code>Symbol</code> (符号, ECMAScript 6 新定义的类型，表示独一无二的值)</li>
</ul>
</li>
<li>和 <code>Object</code> (对象)<ul>
<li><code>Function</code> (函数)</li>
<li><code>Array</code> (数组)</li>
<li><code>Date</code> (日期)</li>
<li><code>JSON</code> (JS对象标识,来序列化对象、数组、数值、字符串、布尔值和 <code>null</code>)</li>
<li><code>Math</code> (数学方面的计算)</li>
<li><code>RegExp</code> (正则表达式)</li>
<li><code>Error</code> (错误)</li>
<li><code>Map</code></li>
<li><code>Set</code></li>
</ul>
</li>
</ul>
<h3 id="内置对象"><a href="#内置对象" class="headerlink" title="内置对象"></a>内置对象</h3><p>这里的<strong>内置对象</strong>指的是在全局作用域(<code>global scope</code>)中的对象，由于很多，不再一一列出说明，更全面的解释在<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects">这里</a>。</p>
<p>全局对象本身可通过<code>this</code>操作符在全局作用域中获得。实际上，全局作用域就是由全局对象的各个属性组成的（包括继承来的属性）。</p>
<h2 id="严格模式"><a href="#严格模式" class="headerlink" title="严格模式"></a>严格模式</h2><p>除了正常运行模式，ECMAscript 5添加了第二种运行模式：”严格模式”（<code>strict mode</code>）。顾名思义，这种模式使得Javascript在更严格的条件下运行。</p>
<p>严格模式可以应用到整个script标签或个别函数中。设立”严格模式”的目的，主要有以下几个：</p>
<ul>
<li>消除 Javascript 语法的一些不合理、不严谨之处，减少一些怪异行为;</li>
<li>消除代码运行的一些不安全之处，保证代码运行的安全；</li>
<li>提高编译器效率，增加运行速度；</li>
<li>为未来新版本的 Javascript 做好铺垫。</li>
</ul>
<h3 id="为某个script标签开启严格模式"><a href="#为某个script标签开启严格模式" class="headerlink" title="为某个script标签开启严格模式"></a>为某个script标签开启严格模式</h3><p>进入严格模式的标志，是下面这行语句：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="meta">&#x27;use strict&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="为某个函数开启严格模式"><a href="#为某个函数开启严格模式" class="headerlink" title="为某个函数开启严格模式"></a>为某个函数开启严格模式</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">strict</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="comment">// 函数级别严格模式语法</span></span><br><span class="line"><span class="meta">  &#x27;use strict&#x27;</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&quot;I&#x27;m a strict mode function!  &quot;</span> + nested();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">notStrict</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;I&#x27;m not strict.&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="相等性判断"><a href="#相等性判断" class="headerlink" title="相等性判断"></a>相等性判断</h2><p>JavaScript提供三种不同的值比较操作：</p>
<ul>
<li>严格相等 (“triple equals” 或 “identity”)，使用<code>===</code></li>
<li>宽松相等 (“double equals”) ，使用<code>==</code></li>
<li>以及<code>Object.is</code> (ECMAScript 2015/ ES6 新特性)</li>
</ul>
<p>简而言之，在比较两件事情时，双等号将执行类型转换; 三等号将进行相同的比较，而不进行类型转换 (如果类型不同, 只是总会返回 false );  而<code>Object.is</code>的行为方式与三等号相同，但是对于NaN和-0和+0进行特殊处理，所以最后两个不相同，而<code>Object.is(NaN，NaN)</code>将为 true。</p>
<p><img src="http://static.blinkfox.com/js_equals.png" alt="各原始类型值的相等比较对照表"></p>
<h2 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h2><p>作用域就是变量与函数的可访问范围，即作用域控制着变量与函数的可见性和生命周期。在JavaScript中，变量的作用域有<strong>全局作用域</strong>和<strong>局部作用域</strong>两种。</p>
<h3 id="全局作用域"><a href="#全局作用域" class="headerlink" title="全局作用域"></a>全局作用域</h3><p>在代码中任何地方都能访问到的对象拥有全局作用域。一般来说以下几种情形：</p>
<ul>
<li>最外层函数和在最外层函数外面定义的变量拥有全局作用域。</li>
<li>所有未定义而直接赋值的变量自动声明为拥有全局作用域。</li>
<li>所有window对象的属性拥有全局作用域。如：<code>window.name</code>、<code>window.location</code>等。</li>
</ul>
<blockquote>
<p><strong>注</strong>：全局变量存在于程序的整个生命周期。没有块级作用域。</p>
</blockquote>
<h3 id="局部作用域"><a href="#局部作用域" class="headerlink" title="局部作用域"></a>局部作用域</h3><p>局部作用域一般只在固定的代码片段内可访问到，最常见的是在函数内部，所有在一些地方也会看到有人把这种作用域称为<strong>函数作用域</strong>。</p>
<h3 id="作用域链"><a href="#作用域链" class="headerlink" title="作用域链"></a>作用域链</h3><p>JavaScript里一切都是对象。函数对象和其它对象一样，拥有可以通过代码访问的属性和一系列仅供JavaScript引擎访问的内部属性。其中一个内部属性是<code>Scope</code>，该内部属性包含了函数被创建的作用域中对象的集合，这个集合被称为函数的作用域链，它决定了哪些数据能被函数访问。</p>
<p>因为全局变量总是存在于<strong>运行时上下文</strong>作用域链的最末端。所以，在标识符解析的时候，查找全局变量是最慢的。所以，在编写代码的时候应尽量少使用全局变量，尽可能使用局部变量。一个好的经验法则是：<strong>如果一个跨作用域的对象被引用了一次以上，则先把它存储到局部变量里再使用</strong>。</p>
<p><code>with</code>语句主要用来临时扩展作用域链，将语句中的对象添加到作用域的头部。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">person = &#123;<span class="attr">name</span>: <span class="string">&quot;yhb&quot;</span>, <span class="attr">age</span>: <span class="number">22</span>, <span class="attr">height</span>:<span class="number">175</span>, <span class="attr">wife</span>: &#123;<span class="attr">name</span>: <span class="string">&quot;lwy&quot;</span>, <span class="attr">age</span>: <span class="number">21</span>&#125;&#125;;</span><br><span class="line"><span class="keyword">with</span> (person.wife) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>with语句将<code>person.wife</code>添加到当前作用域链的头部，所以输出的就是：<code>lwy</code>；with语句结束后，作用域链恢复正常。</p>
<blockquote>
<p>当代码运行到with语句时，运行期上下文的作用域链临时被改变了。一个新的可变对象被创建，它包含了参数指定的对象的所有属性。这个对象将被推入作用域链的头部，这意味着函数的所有局部变量现在处于第二个作用域链对象中，因此访问代价更高了。<br><strong>注</strong>：在程序中应避免使用with语句。</p>
</blockquote>
<h2 id="闭包-Closures"><a href="#闭包-Closures" class="headerlink" title="闭包(Closures)"></a>闭包(Closures)</h2><h3 id="一个示例"><a href="#一个示例" class="headerlink" title="一个示例"></a>一个示例</h3><p>如何从外部读取局部变量？</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> n=<span class="number">999</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">f2</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        alert(n); <span class="comment">// 999</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在上面的代码中，函数f2就被包括在函数f1内部，这时f1内部的所有局部变量，对f2都是可见的。但是反过来就不行，f2内部的局部变量，对f1就是不可见的。这就是Javascript语言特有的”链式作用域”结构（<code>chain scope</code>），子对象会一级一级地向上寻找所有父对象的变量。所以，<strong>父对象的所有变量，对子对象都是可见的，反之则不成立</strong>。</p>
<p>既然f2可以读取f1中的局部变量，那么只要把f2作为返回值，我们不就可以在f1外部读取它的内部变量了吗！</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> n=<span class="number">999</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">f2</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        alert(n); <span class="comment">// 999</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> f2;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> result=f1();</span><br><span class="line">result(); <span class="comment">// 999</span></span><br></pre></td></tr></table></figure>

<h3 id="闭包解释"><a href="#闭包解释" class="headerlink" title="闭包解释"></a>闭包解释</h3><blockquote>
<p><strong>闭包定义</strong>：闭包是一个函数和函数所声明的词法环境的结合。</p>
</blockquote>
<p>在上面的代码中，f2函数就是闭包。<strong>闭包</strong>（<code>closure</code>）定义非常抽象，很难看懂。我的理解是，<strong>闭包就是能够读取其他函数内部变量的函数</strong>。在本质上，闭包就是将函数内部和函数外部连接起来的一座桥梁。</p>
<p>闭包最大用处有两个，一个是可以读取函数内部的变量，另一个就是让这些变量的值始终保持在内存中，不会在调用结束后被垃圾回收机制（<code>garbage collection</code>）回收。</p>
<h3 id="立即执行函数表达式"><a href="#立即执行函数表达式" class="headerlink" title="立即执行函数表达式"></a>立即执行函数表达式</h3><p>有时你想模拟一个模拟块级作用域，例如你想将变量从全局作用域隔离。完成这个工作的模式叫做<code>IIFE</code>(立即执行函数表达式(<code>Immediately Invoked Function Expression</code>))：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;  <span class="comment">// 块开始</span></span><br><span class="line">    <span class="keyword">var</span> tmp = ...;  <span class="comment">// 非全局变量</span></span><br><span class="line">&#125;());  <span class="comment">// 块结束</span></span><br></pre></td></tr></table></figure>

<h3 id="用闭包模拟私有方法"><a href="#用闭包模拟私有方法" class="headerlink" title="用闭包模拟私有方法"></a>用闭包模拟私有方法</h3><p>JavaScript 并不提供原生的支持私有方法，但是可以使用闭包模拟私有方法。私有方法不仅仅有利于限制对代码的访问：还提供了管理全局命名空间的强大能力，避免非核心的方法弄乱了代码的公共接口部分。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> Counter = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> privateCounter = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">changeBy</span>(<span class="params">val</span>) </span>&#123;</span><br><span class="line">        privateCounter += val;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        increment: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            changeBy(<span class="number">1</span>);</span><br><span class="line">        &#125;,</span><br><span class="line">        decrement: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            changeBy(-<span class="number">1</span>);</span><br><span class="line">        &#125;,</span><br><span class="line">        value: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> privateCounter;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(Counter.value()); <span class="comment">/* logs 0 */</span></span><br><span class="line">Counter.increment();</span><br><span class="line">Counter.increment();</span><br><span class="line"><span class="built_in">console</span>.log(Counter.value()); <span class="comment">/* logs 2 */</span></span><br><span class="line">Counter.decrement();</span><br><span class="line"><span class="built_in">console</span>.log(Counter.value()); <span class="comment">/* logs 1 */</span></span><br></pre></td></tr></table></figure>

<p>上面创建了一个环境，为三个函数所共享：<code>Counter.increment</code>, <code>Counter.decrement</code>和<code>Counter.value</code>。该共享环境创建于一个匿名函数体内，该函数一经定义立刻执行。环境中包含两个私有项：名为<code>privateCounter</code>的变量和名为<code>changeBy</code>的函数。这两项都无法在匿名函数外部直接访问。必须通过匿名包装器返回的三个公共函数访问。</p>
<p><strong>注意</strong>：</p>
<ul>
<li>由于闭包会使得函数中的变量都被保存在内存中，内存消耗很大，所以不能滥用闭包，否则会造成网页的性能问题，在IE中可能导致内存泄露。解决方法是，在退出函数之前，将不使用的局部变量全部删除。</li>
<li>闭包会在父函数外部，改变父函数内部变量的值。所以，如果你把父函数当作对象（object）使用，把闭包当作它的公用方法（Public Method），把内部变量当作它的私有属性（private value），这时一定要小心，不要随便改变父函数内部变量的值。</li>
</ul>
<h2 id="内存机制"><a href="#内存机制" class="headerlink" title="内存机制"></a>内存机制</h2><p>首先JavaScript中的变量分为<strong>基本类型</strong>和<strong>引用类型</strong>。</p>
<ul>
<li>基本类型就是保存在栈内存中的简单数据段。基本类型有<code>Undefined</code>、<code>Null</code>、<code>Boolean</code>、<code>Number</code>和<code>String</code>。这些类型在内存中分别占有固定大小的空间，他们的值保存在<strong>栈空间</strong>，我们通过按值来访问的。</li>
<li>引用类型指的是那些保存在堆内存中的对象。引用类型，值大小不固定，栈内存中存放地址指向堆内存中的对象。是按引用访问的。栈内存中存放的只是该对象的访问地址，在堆内存中为这个值分配空间。</li>
</ul>
<h3 id="为什么会有栈内存和堆内存之分？"><a href="#为什么会有栈内存和堆内存之分？" class="headerlink" title="为什么会有栈内存和堆内存之分？"></a>为什么会有栈内存和堆内存之分？</h3><p>与垃圾回收机制有关，为了使程序运行时占用的内存最小。</p>
<p>当一个方法执行时，每个方法都会建立自己的内存栈，在这个方法内定义的变量将会逐个放入这块栈内存里，随着方法的执行结束，这个方法的内存栈也将自然销毁了。因此，所有在方法中定义的变量都是放在栈内存中的；</p>
<p>当我们在程序中创建一个对象时，这个对象将被保存到运行时数据区中，以便反复利用（因为对象的创建成本通常较大），这个运行时数据区就是堆内存。堆内存中的对象不会随方法的结束而销毁，即使方法结束后，这个对象还可能被另一个引用变量所引用（方法的参数传递时很常见），则这个对象依然不会被销毁，只有当一个对象没有任何引用变量引用它时，系统的垃圾回收机制才会在核实的时候回收它。</p>
<h3 id="垃圾回收机制"><a href="#垃圾回收机制" class="headerlink" title="垃圾回收机制"></a>垃圾回收机制</h3><p>Javascript具有自动垃圾回收机制(<code>GC</code>:<code>Garbage Collecation</code>)，也就是说，执行环境会负责管理代码执行过程中使用的内存。</p>
<p>JavaScript垃圾回收的机制很简单：<strong>找出不再使用的变量，然后释放掉其占用的内存，但是这个过程不是实时的，因为其开销比较大，所以垃圾回收器会按照固定的时间间隔周期性的执行</strong>。</p>
<p>不再使用的变量也就是生命周期结束的变量，当然只可能是局部变量，全局变量的生命周期直至浏览器卸载页面才会结束。局部变量只在函数的执行过程中存在，而在这个过程中会为局部变量在栈或堆上分配相应的空间，以存储它们的值，然后在函数中使用这些变量，直至函数结束，而闭包中由于内部函数的原因，外部函数并不能算是结束。</p>
<h4 id="清除方式"><a href="#清除方式" class="headerlink" title="清除方式"></a>清除方式</h4><ul>
<li><strong>标记清除</strong>：垃圾回收器在运行的时候会给存储在内存中的所有变量都加上标记。然后，它会去掉环境中的变量以及被环境中的变量引用的变量的标记（闭包）。而在此之后再被加上标记的变量将被视为准备删除的变量，原因是环境中的变量已经无法访问到这些变量了。最后，垃圾回收器完成内存清除工作，销毁那些带标记的值并回收它们所占用的内存空间。</li>
<li><strong>引用计数</strong>：引用计数的含义是跟踪记录每个值被引用的次数。当声明了一个变量并将一个引用类型值赋给该变量时，则这个值的引用次数就是1。如果同一个值又被赋给另一个变量，则该值的引用次数加1。相反，如果包含对这个值引用的变量又取得了另外一个值，则这个值的引用次数减1。当这个值的引用次数变成0时，则说明没有办法再访问这个值了，因而就可以将其占用的内存空间回收回来。这样，当垃圾回收器下次再运行时，它就会释放那些引用次数为0的值所占用的内存。</li>
</ul>
<h2 id="原型-prototype"><a href="#原型-prototype" class="headerlink" title="原型(prototype)"></a>原型(prototype)</h2><p>原型是一个对象，其他对象可以通过它实现属性继承。JavaScript的对象中都包含了一个<code>Prototype</code>内部属性，这个属性所对应的就是该对象的原型。<code>Prototype</code>作为对象的内部属性，是不能被直接访问的。所以为了方便查看一个对象的原型，Firefox和Chrome中提供了<code>__proto__</code>这个非标准的访问器。</p>
<ul>
<li>所有的对象都有<code>__proto__</code>属性，该属性对应着该对象的原型。</li>
<li>所有的函数对象都有<code>prototype</code>属性，该属性的值会被赋值给该函数创建的对象的<code>__proto__</code>属性</li>
<li>所有的原型对象都有<code>constructor</code>属性，该属性对应创建所有指向该原型的实例的构造函数</li>
<li>函数对象和原型对象通过<code>prototype</code>和<code>constructor</code>属性进行相互关联</li>
<li><code>Object</code>实例对象的原型<code>obj.__proto__</code>就是<code>Object.prototype</code></li>
<li><code>hasOwnProperty</code>是<code>Object.prototype</code>的一个方法，该方法能判断一个对象是否包含自定义属性而不是原型链上的属性，因为”hasOwnProperty” 是 JavaScript 中唯一一个处理属性但是不查找原型链的函数</li>
</ul>
<h3 id="原型链"><a href="#原型链" class="headerlink" title="原型链"></a>原型链</h3><p>因为每个对象和原型都有原型，对象的原型指向对象的父，而父的原型又指向父的父，这种原型层层连接起来的就构成了原型链。</p>
<p>当通过原型链查找一个属性的时候，首先查找的是对象本身的属性，如果找不到才会继续按照原型链进行查找。这样一来，如果想要覆盖原型链上的一些属性，我们就可以直接在对象中引入这些属性，达到属性隐藏的效果。</p>
<h2 id="对象创建方式"><a href="#对象创建方式" class="headerlink" title="对象创建方式"></a>对象创建方式</h2><h3 id="1-Object构造函数方式"><a href="#1-Object构造函数方式" class="headerlink" title="1. Object构造函数方式"></a>1. Object构造函数方式</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> Person = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">Person.name = <span class="string">&#x27;Nike&#x27;</span>;</span><br><span class="line">Person.age = <span class="number">29</span>;</span><br></pre></td></tr></table></figure>

<p>这行代码创建了<code>Object</code>引用类型的一个新实例，然后把实例保存在变量<code>Person</code>中。</p>
<h3 id="2-对象字面量方式"><a href="#2-对象字面量方式" class="headerlink" title="2. 对象字面量方式"></a>2. 对象字面量方式</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> Person = &#123;</span><br><span class="line"> name: <span class="string">&#x27;Nike&#x27;</span>;</span><br><span class="line"> age: <span class="number">29</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>对象字面量是对象定义的一种简写形式，目的在于简化创建包含大量属性对象的过程。</p>
<blockquote>
<p><strong>注</strong>：前两种方法的缺点在于：它们都是用了同一个接口创建很多对象，会产生大量的重复代码，就是如果你有100个对象，那你要输入100次很多相同的代码。那我们有什么方法来避免过多的重复代码呢，就是把创建对象的过程封装在函数体内，通过函数的调用直接生成对象。</p>
</blockquote>
<h3 id="3-工厂模式"><a href="#3-工厂模式" class="headerlink" title="3. 工厂模式"></a>3. 工厂模式</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createPerson</span>(<span class="params">name, age, job</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> o = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">    o.name = name;</span><br><span class="line">    o.age = age;</span><br><span class="line">    o.job = job;</span><br><span class="line">    o.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        alert(<span class="built_in">this</span>.name);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> o;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person1 = createPerson(<span class="string">&#x27;Nike&#x27;</span>, <span class="number">29</span>, <span class="string">&#x27;teacher&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>在使用工厂模式创建对象的时候，我们都可以注意到，在<code>createPerson</code>函数中，返回的是一个对象。但我们就无法判断返回的对象究竟是一个什么样的类型。于是就出现了第四种创建对象的模式。</p>
<h3 id="4-构造函数方式"><a href="#4-构造函数方式" class="headerlink" title="4. 构造函数方式"></a>4. 构造函数方式</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age, job</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name = name;</span><br><span class="line">    <span class="built_in">this</span>.age = age;</span><br><span class="line">    <span class="built_in">this</span>.job = job;</span><br><span class="line">    <span class="built_in">this</span>.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        alert(<span class="built_in">this</span>.name);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person(<span class="string">&#x27;Nike&#x27;</span>, <span class="number">29</span>, <span class="string">&#x27;teacher&#x27;</span>);</span><br><span class="line">alert(person1 <span class="keyword">instanceof</span> <span class="built_in">Object</span>); <span class="comment">//ture</span></span><br></pre></td></tr></table></figure>

<p>对比工厂模式，我们可以发现以下区别：</p>
<ul>
<li>没有显示地创建对象</li>
<li>直接将属性和方法赋给了<code>this</code>对象</li>
<li>没有<code>return</code>语句</li>
<li>终于可以识别的对象的类型。对于检测对象类型，我们应该使用instanceof操作符，我们来进行自主检测：</li>
</ul>
<p>那么构造函数确实挺好用的，但是它也有它的缺点：就是每个方法都要在每个实例上重新创建一遍，方法指的就是我们在对象里面定义的函数。如果方法的数量很多，就会占用很多不必要的内存。于是出现了第五种创建对象的方法。</p>
<h3 id="5-原型创建对象模式"><a href="#5-原型创建对象模式" class="headerlink" title="5. 原型创建对象模式"></a>5. 原型创建对象模式</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">Person.prototype.name = <span class="string">&#x27;Nike&#x27;</span>;</span><br><span class="line">Person.prototype.age = <span class="number">20</span>;</span><br><span class="line">Person.prototype.jbo = <span class="string">&#x27;teacher&#x27;</span>;</span><br><span class="line">Person.prototype.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="built_in">this</span>.name);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person();</span><br><span class="line"><span class="keyword">var</span> person2 = <span class="keyword">new</span> Person();</span><br><span class="line">person1.name = <span class="string">&#x27;Greg&#x27;</span>;</span><br><span class="line">alert(person1.name); <span class="comment">//&#x27;Greg&#x27; --来自实例</span></span><br><span class="line">alert(person2.name); <span class="comment">//&#x27;Nike&#x27; --来自原型</span></span><br></pre></td></tr></table></figure>

<p>当为对象实例添加一个属性时，这个属性就会屏蔽原型对象中保存的同名属性。</p>
<p>这时候我们就可以使用构造函数模式与原型模式结合的方式，构造函数模式用于定义实例属性，而原型模式用于定义方法和共享的属性。</p>
<h3 id="6-组合使用构造函数模式和原型模式"><a href="#6-组合使用构造函数模式和原型模式" class="headerlink" title="6. 组合使用构造函数模式和原型模式"></a>6. 组合使用构造函数模式和原型模式</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age, job</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name = name;</span><br><span class="line">    <span class="built_in">this</span>.age = age;</span><br><span class="line">    <span class="built_in">this</span>.job = job;</span><br><span class="line">&#125;</span><br><span class="line">Person.prototype = &#123;</span><br><span class="line">    <span class="title">constructor</span>: <span class="title">Person</span>,</span><br><span class="line">    <span class="title">sayName</span>: <span class="title">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        alert(<span class="built_in">this</span>.name);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person(<span class="string">&#x27;Nike&#x27;</span>, <span class="number">20</span>, <span class="string">&#x27;teacher&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="7-动态原型模式"><a href="#7-动态原型模式" class="headerlink" title="7. 动态原型模式"></a>7. 动态原型模式</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age, job</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name = name;</span><br><span class="line">    <span class="built_in">this</span>.age = age;</span><br><span class="line">    <span class="built_in">this</span>.job = job;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="built_in">this</span>.sayName != <span class="string">&#x27;function&#x27;</span>) &#123;</span><br><span class="line">        Person.prototype.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            alert(<span class="built_in">this</span>.name);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person(<span class="string">&#x27;Nike&#x27;</span>, <span class="number">20</span>, <span class="string">&#x27;teacher&#x27;</span>);</span><br><span class="line">person1.sayName();</span><br></pre></td></tr></table></figure>

<p>动态原型模式将所有信息封装在了构造函数中，而通过构造函数中初始化原型（仅第一个对象实例化时初始化原型），这个可以通过判断该方法是否有效而选择是否需要初始化原型。</p>
<h3 id="8-寄生构造函数方式"><a href="#8-寄生构造函数方式" class="headerlink" title="8. 寄生构造函数方式"></a>8. 寄生构造函数方式</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age, job</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> o = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">    o.name = name;</span><br><span class="line">    o.age = age;</span><br><span class="line">    o.job = job;</span><br><span class="line">    o.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        alert(<span class="built_in">this</span>.name);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> o;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person(<span class="string">&#x27;Nike&#x27;</span>, <span class="number">29</span>, <span class="string">&#x27;teacher&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>寄生模式和工厂模式几乎一样，寄生模式和工厂模式的区别：</p>
<ul>
<li>寄生模式创建对象时使用了<code>new</code>关键字</li>
<li>寄生模式的外部包装函数是一个构造函数</li>
</ul>
<blockquote>
<p><strong>作用</strong>:寄生模式可以在特殊的情况下为对象来创建构造函数,原因在于我们可以通过构造函数重写对象的值，并通过return返回。重写调用构造函数(创建的对象的实例)之后的对象实例的新的值。</p>
</blockquote>
<h3 id="9-稳妥构造函数方式"><a href="#9-稳妥构造函数方式" class="headerlink" title="9. 稳妥构造函数方式"></a>9. 稳妥构造函数方式</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age, job</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> o = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">    o.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        alert(<span class="built_in">this</span>.name);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> o;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Person(<span class="string">&#x27;Nike&#x27;</span>, <span class="number">29</span>, <span class="string">&#x27;teacher&#x27;</span>);</span><br><span class="line">person.sayName(); <span class="comment">// 使用稳妥构造函数模式只能通过其构造函数内部的方法来获取里面的属性值</span></span><br></pre></td></tr></table></figure>

<p>道格拉斯·克拉克福德发明了JavaScript中的稳妥对象这个概念。所谓稳妥对象，是指没有公共属性，而且其方法也不引用<code>this</code>对象。稳妥对象最适合在一些安全环境中（这些环境会禁止使用<code>this</code>和<code>new</code>），或者在防止数据被其他应用程序改动时使用。稳妥构造函数遵循的与寄生构造函数类似的模式，但又两点不同：</p>
<ul>
<li>一是新创建对象的实例方法不引用<code>this</code>；</li>
<li>二是不使用<code>new</code>操作符调用构造函数。</li>
</ul>
<blockquote>
<p><strong>注</strong>：与寄生构造函数模式类似，使用稳妥构造函数模式创建的对象与构造函数之间没有什么关系，因此instanceof操作符对这种对象也没有意义。</p>
</blockquote>
<h2 id="并发模型和事件循环-event-loop"><a href="#并发模型和事件循环-event-loop" class="headerlink" title="并发模型和事件循环(event loop)"></a>并发模型和事件循环(event loop)</h2><p>JavaScript 的并发模型基于<strong>事件循环</strong>。</p>
<p><img src="http://static.blinkfox.com/js_event.png" alt="Js堆栈队列图"></p>
<h3 id="1-运行时概念"><a href="#1-运行时概念" class="headerlink" title="1. 运行时概念"></a>1. 运行时概念</h3><h4 id="栈"><a href="#栈" class="headerlink" title="栈"></a>栈</h4><p>函数调用形成了一个栈帧。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">b</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">10</span>;</span><br><span class="line">  <span class="keyword">return</span> a + b + <span class="number">11</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> y = <span class="number">3</span>;</span><br><span class="line">  <span class="keyword">return</span> foo(x * y);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(bar(<span class="number">7</span>));</span><br></pre></td></tr></table></figure>

<p>当调用 bar 时，创建了第一个帧 ，帧中包含了 bar 的参数和局部变量。当 bar 调用 foo 时，第二个帧就被创建，并被压到第一个帧之上，帧中包含了 foo 的参数和局部变量。当 foo 返回时，最上层的帧就被弹出栈（剩下 bar 函数的调用帧 ）。当 bar 返回的时候，栈就空了。</p>
<h4 id="堆"><a href="#堆" class="headerlink" title="堆"></a>堆</h4><p>对象被分配在一个堆中，即用以表示一个大部分非结构化的内存区域。</p>
<h4 id="队列"><a href="#队列" class="headerlink" title="队列"></a>队列</h4><p>一个 JavaScript 运行时包含了一个待处理的消息队列。每一个消息都与一个函数相关联。当栈拥有足够内存时，从队列中取出一个消息进行处理。这个处理过程包含了调用与这个消息相关联的函数（以及因而创建了一个初始堆栈帧）。当栈再次为空的时候，也就意味着消息处理结束。</p>
<h3 id="2-事件循环"><a href="#2-事件循环" class="headerlink" title="2. 事件循环"></a>2. 事件循环</h3><p>之所以称为<strong>事件循环</strong>，是因为它经常被用于类似如下的方式来实现：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span> (queue.waitForMessage()) &#123;</span><br><span class="line">  queue.processNextMessage();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果当前没有任何消息，queue.waitForMessage 会等待着同步将要到来的消息。</p>
<p>每一个消息完整的执行后，其它消息才会被执行。这个模型的一个缺点在于当一个消息的完成耗时过长，网络应用无法处理用户的交互如点击或者滚动。浏览器用“程序需要过长时间运行”的对话框来缓解这个问题。一个比较好的解决方案是使消息处理变短且如果可能的话，将一个消息拆分成几个消息。</p>
<p>在浏览器里，当一个事件出现且有一个事件监听器被绑定时，消息会被随时添加。如果没有事件监听器，事件会丢失。所以点击一个附带点击事件处理函数的元素会添加一个消息。其它事件亦然。</p>
<h3 id="3-绝不阻塞"><a href="#3-绝不阻塞" class="headerlink" title="3. 绝不阻塞"></a>3. 绝不阻塞</h3><p>事件循环(event loop)模型特性在于它<strong>永不阻塞</strong>。通常由事件或者回调函数进行 I/O (input/output)处理 。</p>
<hr>
<p>参考文档：</p>
<ul>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript">MDN</a></li>
</ul>
]]></content>
      <categories>
        <category>Web前端</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>应用层</title>
    <url>/2021/05/04/%E5%BA%94%E7%94%A8%E5%B1%82/</url>
    <content><![CDATA[<h2 id="二、域名系统-DNS"><a href="#二、域名系统-DNS" class="headerlink" title="二、域名系统 DNS"></a>二、域名系统 DNS</h2><h3 id="1、概念"><a href="#1、概念" class="headerlink" title="1、概念"></a>1、概念</h3><p>域名系统 DNS（Domain Name System）是互联网使用的命名系统，用来把人们使用的机器名字转为 IP 地址。</p>
<h3 id="2、域名结构"><a href="#2、域名结构" class="headerlink" title="2、域名结构"></a>2、域名结构</h3><p>互联网采用了层次树状结构的命名方法。任何一个连接在互联网上的主机或路由器，都有一个唯一的层次结构的名字，即域名。域可以划分子域，子域还可以划分子域。语法上每一个域名由标号序列组成，各标号之间用点隔开。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mail.cctv.com</span><br><span class="line">三级域名.二级域名.顶级域名</span><br></pre></td></tr></table></figure>
<h3 id="3、域名服务器"><a href="#3、域名服务器" class="headerlink" title="3、域名服务器"></a>3、域名服务器</h3><p>1）概念</p>
<p>DNS服务器负责解析域名，将域名解析成IP。一个服务器所负责管辖的范围叫做区。每一个区设置相应的权限域名服务器，用来保存该区中的所有主机的域名到 IP 地址的映射。DNS 服务器的管辖范围不是以“域”为单位，而是以 “区”为单位。</p>
<p>2）域名服务器的类型 </p>
<ul>
<li><p>根域名服务器 </p>
<ul>
<li>根域名服务器是最高层次的域名服务器。所有的根域名服务器都知道所有顶级域名服务器的域名和 IP 地址。</li>
<li>在互联网上共有 13 个不同 IP 地址的根域名服务器，（根域名服务器共有 13 套装置，不是 13 个机器。）它们的名字是用一个英文字母命名，从 a 一直到 m（例：a.rootservers.net）。</li>
<li>本地域名服务器对互联网上任何一个域名进行解析，只要自己无法解析首先求助于根域名服务器。根域名服务器不直接把域名转换成 IP 地址。而是使用迭代查询将下一步应当找的顶级域名服务器的 IP 地址告诉它。</li>
</ul>
</li>
<li><p>顶级域名服务器 </p>
<ul>
<li>顶级域名服务器（TLD 服务器）负责管理在该顶级域名服务器注册的所有二级域名。</li>
<li>当收到 DNS 查询请求时，就给出相应的回答（可能是最后的结果，也可能是下一步应当找的域名服务器的 IP 地址）。 </li>
</ul>
</li>
<li><p>权限域名服务器 </p>
<ul>
<li>负责一个区的域名服务器。</li>
<li>当一个权限域名服务器还不能给出最后的查询回答时，就会告诉发出查询请求的 DNS 客户下一步应当找哪一个权限域名服务器。</li>
</ul>
</li>
<li><p>本地域名服务器 （默认域名服务器）</p>
<ul>
<li>当一个主机发出 DNS 查询请求时，这个查询请求报文就发送给本地域名服务器。</li>
</ul>
</li>
</ul>
<h3 id="4、域名解析的过程"><a href="#4、域名解析的过程" class="headerlink" title="4、域名解析的过程"></a>4、域名解析的过程</h3><p>主机所询问的本地域名服务器不知道被查询域名的 IP 地址，本地域名服务器就以 DNS 客户的身份，向其他根域名服务器继续发出查询请求报文。当根域名服务器收到本地域名服务器的请求报文时，要么给出所要查询的 IP 地址，要么告诉本地域名服务器下一步向哪一个域名服务器进行查询。然后让本地域名服务器进行后续的查询。最后将查询结果告诉主机。</p>
<h3 id="5、域名解析测试"><a href="#5、域名解析测试" class="headerlink" title="5、域名解析测试"></a>5、域名解析测试</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ping XXX</span><br><span class="line">nslookup XXX</span><br></pre></td></tr></table></figure>
<h2 id="二、万维网-WWW"><a href="#二、万维网-WWW" class="headerlink" title="二、万维网 WWW"></a>二、万维网 WWW</h2><h3 id="1、万维网概述"><a href="#1、万维网概述" class="headerlink" title="1、万维网概述"></a>1、万维网概述</h3><p>1）概念</p>
<p>万维网WWW (World Wide Web) 是一个大规模的、联机式的信息储藏所。万维网用链接的方法能非常方便地从互联网上的一个站点访问另一个站点，从而主动地按需获取丰富的信息。超文本是万维网的基础。</p>
<p>2）万维网的工作方式 </p>
<p>万维网以客户服务器方式工作。客户端向服务器发出请求，服务器向客户端送回相应的万维网文档。在一个客户端主窗口上显示出的万维网文档称为页面 (page)。</p>
<p>浏览器就是在用户计算机上的万维网客户程序。万维网文档所驻留的计算机运行服务器程序，这个计算机称为万维网服务器。</p>
<p>3）万维网必须解决的问题 </p>
<ul>
<li>怎样标志分布在整个互联网上的万维网文档？ </li>
</ul>
<p>使用统一资源定位符 URL 来标志万维网上的各种文档。使每一个文档在整个互联网的范围内具有唯一的标识符 URL。 </p>
<ul>
<li>用何协议实现万维网上各种超链的链接？ </li>
</ul>
<p>在万维网客户程序与万维网服务器程序之间进行交互所使用的协议是超文本传送协议 HTTP。</p>
<ul>
<li>怎样使各种万维网文档都能在互联网上的各种计算机上显示出来，同时使用户知道在什么地方存在超链？ </li>
</ul>
<p>超文本标记语言 HTML (HyperText Markup Language) 使得万维网页面的设计者可以很方便地用一个超链从本页面的某处链接到互联网上的任何一个万维网页面，并且能够在自己的计算机屏幕上将这些页面显示出来。 </p>
<ul>
<li>怎样使用户能够很方便地找到所需的信息？ </li>
</ul>
<p>为了在万维网上方便地查找信息，用户可使用各种的搜索工具（即搜索引擎）。 </p>
<h3 id="2、统一资源定位符-URL"><a href="#2、统一资源定位符-URL" class="headerlink" title="2、统一资源定位符 URL"></a>2、统一资源定位符 URL</h3><p>1）URL的概念</p>
<p>URL（Uniform Resource Locator）给资源的位置提供一种抽象的识别方法，并用这种方法给资源定位。</p>
<p>2）URL的格式</p>
<p>&lt;协议&gt;://&lt;主机&gt;:&lt;端口&gt;/&lt;路径&gt;</p>
<table>
<thead>
<tr>
<th>名字</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt;协议&gt;</td>
<td>用什么协议来获取万维网文档</td>
</tr>
<tr>
<td>://</td>
<td>规定的格式</td>
</tr>
<tr>
<td>&lt;主机&gt;</td>
<td>存放资源的主机在互联网中的域名</td>
</tr>
<tr>
<td>&lt;端口&gt;/&lt;路径&gt;</td>
<td>有时可省略</td>
</tr>
</tbody>
</table>
<h3 id="3、超文本传送协议-HTTP"><a href="#3、超文本传送协议-HTTP" class="headerlink" title="3、超文本传送协议 HTTP"></a>3、超文本传送协议 HTTP</h3><p>1）概念</p>
<p>为了使超文本的链接能够高效率地完成，需要用 HTTP 协议 (HyperText Transfer Protocol)来传送一切必须的信息。HTTP 是面向事务的应用层协议，它是万维网上能够可靠地交换文件（包括文本、声音、图像等各种多媒体文件）的重要基础。 </p>
<p>2）HTTP 的报文结构 </p>
<ul>
<li>请求报文（从客户向服务器发送请求报文）</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1、请求行：请求方法，请求URI，协议版本，CRLF</span><br><span class="line">2、报文首部：包括通用头部，请求头部，实体头部每个一行以CRLF结束</span><br><span class="line">3、空行：请求头和消息实体之间有一个CRLF分隔</span><br><span class="line">4、报文主体：可以添加任意的其他数据。一般不用。</span><br></pre></td></tr></table></figure>
<ul>
<li>响应报文（从服务器到客户的回答）</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1、状态行：HTTP 版本，状态码，状态描述，后面跟一个CRLF</span><br><span class="line">2、报文首部：通用头部，响应头部，实体头部</span><br><span class="line">3、空行：响应头部和响应实体之间用一个CRLF空行分隔</span><br><span class="line">4、报文主体：服务器返回给客户端的文本信息。</span><br></pre></td></tr></table></figure>
<p>3）Cookie</p>
<p>HTTP 协议是无状态的协议，之前认证成功的用户状态无法通过协议层保存下来，所以就出来了 Session。Session是服务器端一种记录用户状态的机制，当用户完成注册并将注册信息提交到服务器后，服务器端会创建一个新的Session来记录用户的信息，并用一个唯一的Session ID来标识，处理完请求向客户端返回响应时，会在首部字段 Set-Cookie 内写入这个 Session ID 。客户端接受到这个 Session ID 后，会保存到本地 Cookie中，下次向服务器发送请求时客户端会将该 Session ID 发送到服务器，服务器通过验证收到的 Session ID 识别用户。</p>
<h3 id="4、万维网的文档"><a href="#4、万维网的文档" class="headerlink" title="4、万维网的文档"></a>4、万维网的文档</h3><p>1）超文本标记语言 HTML</p>
<p>仅当 HTML 文档是以 .html 或 .htm 为后缀时，浏览器才对此文档的各种标签进行解析。</p>
<p>2）XML</p>
<p>XML (Extensible Markup Language)是可扩展标记语言，它和HTML很相似。但XML的设计宗旨是传输数据，而不是显示数据（HTML是为了在浏览器上显示数据）。XML 不是要替换 HTML，而是对 HTML 的补充。</p>
<p>3）XHTML</p>
<p>XHTML (Extensible HTML) 是可扩展超文本标记语言，它与 HTML 4.01 几乎是相同的。XHTML 是更严格的 HTML 版本，是作为一种 XML 应用被重新定义的 HTML，并将逐渐取代 HTML。</p>
<p>4）动态万维网文档 </p>
<p>静态文档是指该文档创作完毕后就存放在万维网服务器中，在被用户浏览的过程中，内容不会改变。 动态文档是指文档的内容是在浏览器访问万维网服务器时才由应用程序动态创建。</p>
<p>5）万维网服务器功能的扩充 </p>
<ul>
<li>通用网关接口 CGI (Common Gateway Interface)</li>
</ul>
<table>
<thead>
<tr>
<th>名字</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>通用</td>
<td>CGI 标准所定义的规则对其他任何语言都是通用的</td>
</tr>
<tr>
<td>网关</td>
<td>CGI 程序的作用像网关</td>
</tr>
<tr>
<td>接口</td>
<td>有一些已定义好的变量和调用等可供其他 CGI 程序使用</td>
</tr>
</tbody>
</table>
<p>CGI 是一种标准，它定义了动态文档应如何创建，输入数据应如何提供给应用程序，以及输出结果应如何使用。</p>
<ul>
<li>活动万维网文档</li>
</ul>
<p>活动文档 (active document) 技术把所有的工作都转移给浏览器端。每当浏览器请求一个活动文档时，服务器就返回一段程序副本在浏览器端运行。</p>
<h3 id="5、万维网的信息检索系统"><a href="#5、万维网的信息检索系统" class="headerlink" title="5、万维网的信息检索系统"></a>5、万维网的信息检索系统</h3><p>在万维网中用来进行搜索的程序叫做搜索引擎。</p>
<p>1）全文检索搜索引擎：它的工作原理是通过搜索软件到互联网上的各网站收集信息，找到一个网站后可以从这个网站再链接到另一个网站。然后按照一定的规则建立一个很大的在线数据库供用户查询。</p>
<p>2）分类目录搜索：不采集网站的任何信息，而是利用各网站向搜索引擎提交的网站信息时填写的关键词和网站描述等信息，经过人工审核编辑后，如果认为符合网站登录的条件，则输入到分类目录的数据库中，供网上用户查询。</p>
<h2 id="三、文件传送协议-FTP"><a href="#三、文件传送协议-FTP" class="headerlink" title="三、文件传送协议 FTP"></a>三、文件传送协议 FTP</h2><h3 id="1、FTP-特点"><a href="#1、FTP-特点" class="headerlink" title="1、FTP 特点"></a>1、FTP 特点</h3><p>FTP（File Transfer Protocol）使用客户服务器方式，它使用 TCP 可靠的运输服务。一个 FTP 服务器进程可同时为多个客户进程提供服务。FTP 的服务器进程由两大部分组成：一个主进程，负责接受新的请求；另外有若干个从属进程，负责处理单个请求。</p>
<h3 id="2、FTP-工作原理"><a href="#2、FTP-工作原理" class="headerlink" title="2、FTP 工作原理"></a>2、FTP 工作原理</h3><p>1）两个连接</p>
<ul>
<li><p>TCP控制连接：控制连接在整个会话期间一直保持打开，FTP 客户发出的传送请求通过控制连接发送给服务器端的控制进程，但控制连接不用来传送文件。</p>
</li>
<li><p>TCP数据连接：服务器端的控制进程在接收到 FTP 客户发送来的文件传输请求后就创建“数据传送进程”和“数据连接”，用来连接客户端和服务器端的数据传送进程。</p>
</li>
</ul>
<p>2）TCP数据连接建立的两种方式</p>
<ul>
<li>主动模式</li>
</ul>
<p>当客户进程向服务器进程发出建立连接请求时，要寻找连接服务器进程的熟知端口 (21)，同时还要告诉服务器进程自己的另一个端口号码，用于建立数据传送连接。接着，服务器进程用自己传送数据的熟知端口 (21) 与客户进程所提供的端口号码建立数据传送连接。</p>
<ul>
<li>被动模式</li>
</ul>
<p>FTP服务器打开一个新的端口，等待TCP客户端的连接。</p>
<h3 id="3、简单文件传送协议-TFTP"><a href="#3、简单文件传送协议-TFTP" class="headerlink" title="3、简单文件传送协议 TFTP"></a>3、简单文件传送协议 TFTP</h3><p>1）概念</p>
<p>TFTP（Trivial File Transfer Protocol）使用客户服务器方式和使用 UDP 数据报，因此 TFTP 需要有自己的差错改正措施。TFTP 是一个很小且易于实现的文件传送协议。  TFTP 只支持文件传输而不支持交互。TFTP 没有一个庞大的命令集，没有列目录的功能，也不能对用户进行身份鉴别。 </p>
<p>2）TFTP 工作步骤</p>
<p>当 TFTP 客户进程发送一个读请求 PDU 或写请求 PDU 给 TFTP 服务器进程，TFTP 客户进程选择一个随机端口和TFTP 服务器进程的端口（ 69）进行通信。若文件长度恰好为 512 字节的整数倍，则在文件传送完毕后，还必须在最后发送一个只含首部而无数据的数据 PDU。若文件长度不是 512 字节的整数倍，则最后传送数据 PDU 的数据字段一定不满 512 字节，这正好可作为文件结束的标志。</p>
<h2 id="四、远程终端协议-TELNET"><a href="#四、远程终端协议-TELNET" class="headerlink" title="四、远程终端协议 TELNET"></a>四、远程终端协议 TELNET</h2><h3 id="1、概念-1"><a href="#1、概念-1" class="headerlink" title="1、概念"></a>1、概念</h3><p>TELNET 使用客户服务器方式。用户用 TELNET 就可在其所在地通过 TCP 连接注册（即登录）到远地的另一个主机上（使用主机名或 IP 地址）。TELNET 能将用户的击键传到远地主机，同时也能将远地主机的输出通过 TCP 连接返回到用户屏幕。这种服务是透明的，因为用户感觉到好像键盘和显示器是直接连在远地主机上。 </p>
<h3 id="2、过程"><a href="#2、过程" class="headerlink" title="2、过程"></a>2、过程</h3><p>现在由于 PC 的功能越来越强，用户已较少使用 TELNET 了。</p>
<h2 id="五、电子邮件"><a href="#五、电子邮件" class="headerlink" title="五、电子邮件"></a>五、电子邮件</h2><h3 id="1、电子邮件概述"><a href="#1、电子邮件概述" class="headerlink" title="1、电子邮件概述"></a>1、电子邮件概述</h3><p>发送邮件的协议为 SMTP，读取邮件的协议为POP3 和 IMAP。发送方把邮件发送到收件人的邮件服务器，收件人可随时上网到自己使用的邮件服务器查看。</p>
<h3 id="2、电子邮件地址的格式"><a href="#2、电子邮件地址的格式" class="headerlink" title="2、电子邮件地址的格式"></a>2、电子邮件地址的格式</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">收件人邮箱名@邮箱所在主机的域名</span><br></pre></td></tr></table></figure>
<p>符号“@”读作“at”，表示“在”的意思。 </p>
<h3 id="3、电子邮件的信息格式"><a href="#3、电子邮件的信息格式" class="headerlink" title="3、电子邮件的信息格式"></a>3、电子邮件的信息格式</h3><p>一个电子邮件分为信封和内容两大部分。RFC 822 只规定了邮件内容中的首部 (header) 格式，而对邮件的主体 (body )部分则让用户自由撰写。首部为：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">“To:” 后面填入一个或多个收件人的电子邮件地址。用户只需打开地址簿，点击收件人名字，收件人的电子邮件地址就会自动地填入到合适的位置上。</span><br><span class="line">“Subject:” 是邮件的主题。它反映了邮件的主要内容，便于用户查找邮件。</span><br><span class="line">“Cc:”  表示应给某某人发送一个邮件副本。</span><br><span class="line">“From” 和 “Date” 表示发信人的电子邮件地址和发信日期。</span><br><span class="line">“Reply-To” 是对方回信所用的地址。</span><br></pre></td></tr></table></figure>
<h3 id="4、简单邮件传送协议-SMTP"><a href="#4、简单邮件传送协议-SMTP" class="headerlink" title="4、简单邮件传送协议 SMTP"></a>4、简单邮件传送协议 SMTP</h3><p>SMTP 所规定的就是在两个相互通信的 SMTP 进程之间应如何交换信息。SMTP 规定了 14 条命令和 21 种应答信息。SMTP 通信的三个阶段为</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">连接建立：连接是在发送主机的 SMTP 客户和接收主机的 SMTP 服务器之间建立的。</span><br><span class="line">邮件传送</span><br><span class="line">连接释放：邮件发送完毕后，SMTP 应释放 TCP 连接。</span><br></pre></td></tr></table></figure>
<h3 id="5、邮件读取协议-POP3-和-IMAP"><a href="#5、邮件读取协议-POP3-和-IMAP" class="headerlink" title="5、邮件读取协议 POP3 和 IMAP"></a>5、邮件读取协议 POP3 和 IMAP</h3><p>IMAP 的缺点是如果用户没有将邮件复制到自己的 PC 上，则邮件一直是存放在 IMAP 服务器上。因此用户需要经常与 IMAP 服务器建立连接。  </p>
<h3 id="6、基于万维网的电子邮件"><a href="#6、基于万维网的电子邮件" class="headerlink" title="6、基于万维网的电子邮件"></a>6、基于万维网的电子邮件</h3><p>用户不需要安装用户代理软件在只要能上网的计算机上就能发送邮件</p>
<h3 id="7、通用互联网邮件扩充-MIME"><a href="#7、通用互联网邮件扩充-MIME" class="headerlink" title="7、通用互联网邮件扩充 MIME"></a>7、通用互联网邮件扩充 MIME</h3><p>SMTP 的缺点：不能传送可执行文件或其他的二进制对象。SMTP限于传送7位的ASCII码。SMTP服务器会拒绝超过一定长度的邮件。某些实现没有按照标准。</p>
<p>=&gt; MIME 增加了邮件主体的结构，并定义了传送非 ASCII 码的编码规则。</p>
<p><strong>MIME 主要包括三个部分 </strong></p>
<ul>
<li>5 个新的邮件首部字段，这些字段提供了有关邮件主体的信息。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">MIME-Version：标志 MIME 的版本。现在的版本号是 1.0。若无此行，则为英文文本。</span><br><span class="line">Content-Description：这是可读字符串，说明此邮件是什么。和邮件的主题差不多。</span><br><span class="line">Content-Id：邮件的唯一标识符。 </span><br><span class="line">Content-Transfer-Encoding：在传送时邮件的主体是如何编码的。</span><br><span class="line">Content-Type：说明邮件的性质。</span><br></pre></td></tr></table></figure>
<ul>
<li><p>定义了很多邮件内容的格式，对多媒体电子邮件的表示方法进行了标准化。</p>
</li>
<li><p>定义了传送编码，可对任何内容格式进行转换，而不会被邮件系统改变。</p>
</li>
</ul>
<h2 id="六、动态主机配置协议-DHCP"><a href="#六、动态主机配置协议-DHCP" class="headerlink" title="六、动态主机配置协议 DHCP"></a>六、动态主机配置协议 DHCP</h2><h3 id="1、概念-2"><a href="#1、概念-2" class="headerlink" title="1、概念"></a>1、概念</h3><p>互联网广泛使用的动态主机配置协议 DHCP (Dynamic Host Configuration Protocol) 提供了即插即用的连网 (plug-and-play networking) 机制。这种机制允许一台计算机加入新的网络和获取 IP 地址而不用手工参与。</p>
<h3 id="2、DHCP-客户服请求IP地址的过程"><a href="#2、DHCP-客户服请求IP地址的过程" class="headerlink" title="2、DHCP 客户服请求IP地址的过程"></a>2、DHCP 客户服请求IP地址的过程</h3><p>需要 IP 地址的主机在启动时就向 DHCP 服务器广播发送发现报文（DHCPDISCOVER），这时该主机就成为 DHCP 客户。本地网络上所有主机都能收到此广播报文，但只有 DHCP 服务器才回答此广播报文。DHCP 服务器先在其数据库中查找该计算机的配置信息。若找到，则返回找到的信息。若找不到，则从服务器的 IP 地址池(address pool)中取一个地址分配给该计算机。DHCP 服务器的回答报文叫做提供报文（DHCPOFFER）。 </p>
<h3 id="3、跨网段地址分配-gt-DHCP-中继代理"><a href="#3、跨网段地址分配-gt-DHCP-中继代理" class="headerlink" title="3、跨网段地址分配 =&gt; DHCP 中继代理"></a>3、跨网段地址分配 =&gt; DHCP 中继代理</h3><p>并不是每个网络上都有 DHCP 服务器，这样会使 DHCP 服务器的数量太多。现在是每一个网络至少有一个 DHCP 中继代理，它配置了 DHCP 服务器的 IP 地址信息。当 DHCP 中继代理（relay agent）收到主机发送的发现报文后，就以单播方式向 DHCP 服务器转发此报文，并等待其回答。收到 DHCP 服务器回答的提供报文后，DHCP 中继代理再将此提供报文发回给主机。</p>
<h3 id="4、租用期-lease-period"><a href="#4、租用期-lease-period" class="headerlink" title="4、租用期 (lease period)"></a>4、租用期 (lease period)</h3><p>DHCP 服务器分配给 DHCP 客户的 IP 地址的临时的。租用期的数值应由 DHCP 服务器自己决定。DHCP 客户也可在自己发送的报文中（例如，发现报文）提出对租用期的要求。  </p>
<h2 id="七、简单网络管理协议-SNMP"><a href="#七、简单网络管理协议-SNMP" class="headerlink" title="七、简单网络管理协议 SNMP"></a>七、简单网络管理协议 SNMP</h2><h3 id="1、网络管理的基本概念"><a href="#1、网络管理的基本概念" class="headerlink" title="1、网络管理的基本概念"></a>1、网络管理的基本概念</h3><h3 id="2、管理信息结构-SMI"><a href="#2、管理信息结构-SMI" class="headerlink" title="2、管理信息结构 SMI"></a>2、管理信息结构 SMI</h3><h3 id="3、管理信息库-MIB"><a href="#3、管理信息库-MIB" class="headerlink" title="3、管理信息库 MIB"></a>3、管理信息库 MIB</h3><h3 id="4、SNMP-的协议数据单元和报文"><a href="#4、SNMP-的协议数据单元和报文" class="headerlink" title="4、SNMP 的协议数据单元和报文"></a>4、SNMP 的协议数据单元和报文</h3>

</div><div class="post-tag-list">标签: <a class="post-tags" href="/tags/网络安全/">网络安全]]></content>
      <categories>
        <category>网络安全</category>
      </categories>
      <tags>
        <tag>计算机网络</tag>
      </tags>
  </entry>
  <entry>
    <title>爬虫初始焦</title>
    <url>/2021/05/23/%E7%88%AC%E8%99%AB%E5%88%9D%E5%A7%8B%E7%84%A6/</url>
    <content><![CDATA[<p>###这篇 Python 爬虫教程主要讲解以下 5 部分内容：</p>
<ul>
<li>了解网页；</li>
<li>使用 requests 库抓取网站数据；</li>
<li>使用 Beautiful Soup 解析网页；</li>
<li>清洗和组织数据；</li>
<li>爬虫攻防战；<h2>
了解网页</h2>
以中国旅游网首页（<a href="http://www.cntour.cn/" target="_blank">http://www.cntour.cn/</a>）为例，抓取中国旅游网首页首条信息（标题和链接），数据以明文的形式出面在源码中。在中国旅游网首页，按快捷键【Ctrl+U】打开源码页面，如图 1 所示。
<div style="text-align: center;">
<br />
<img alt="" src="/uploads/allimg/190117/2-1Z11G63943S6.jpg" /><br />
图 1 中国旅游网首页源码</div>
<h3>
认识网页结构</h3>
网页一般由三部分组成，分别是 HTML（超文本标记语言）、CSS（层叠样式表）和 JScript（活动脚本语言）。<br />
<h4>
HTML</h4>
HTML 是整个网页的结构，相当于整个网站的框架。带&ldquo;＜&rdquo;、&ldquo;＞&rdquo;符号的都是属于 HTML 的标签，并且标签都是成对出现的。<br />
<br />
常见的标签如下：<br />
<p class="info-box">
&lt;html&gt;..&lt;/html&gt; 表示标记中间的元素是网页<br />
&lt;body&gt;..&lt;/body&gt; 表示用户可见的内容<br />
&lt;div&gt;..&lt;/div&gt; 表示框架<br />
&lt;p&gt;..&lt;/p&gt; 表示段落<br />
&lt;li&gt;..&lt;/li&gt;表示列表<br />
&lt;img&gt;..&lt;/img&gt;表示图片<br />
&lt;h1&gt;..&lt;/h1&gt;表示标题<br />
&lt;a href=&quot;&quot;&gt;..&lt;/a&gt;表示超链接</p>
<h4>
CSS</h4>
CSS 表示样式，图 1 中第 13 行＜style type=＂text/css＂＞表示下面引用一个 CSS，在 CSS 中定义了外观。<br />
<h4>
JScript</h4>
JScript 表示功能。交互的内容和各种特效都在 JScript 中，JScript 描述了网站中的各种功能。<br />
<br />
如果用人体来比喻，HTML 是人的骨架，并且定义了人的嘴巴、眼睛、耳朵等要长在哪里。CSS 是人的外观细节，如嘴巴长什么样子，眼睛是双眼皮还是单眼皮，是大眼睛还是小眼睛，皮肤是黑色的还是白色的等。JScript 表示人的技能，例如跳舞、唱歌或者演奏乐器等。<br />
<h3>
写一个简单的 HTML</h3>
通过编写和修改 HTML，可以更好地理解 HTML。首先打开一个记事本，然后输入下面的内容：<br />
<p class="info-box">
&lt;html&gt;<br />
&lt;head&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;title&gt; Python 3 爬虫与数据清洗入门与实战&lt;/title&gt;<br />
&lt;/head&gt;<br />
&lt;body&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;div&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;p&gt;Python 3爬虫与数据清洗入门与实战&lt;/p&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;/div&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;div&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;ul&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;li&gt;&lt;a href=&quot;http://c.biancheng.net&quot;&gt;爬虫&lt;/a&gt;&lt;/li&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;li&gt;数据清洗&lt;/li&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/ul&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;/div&gt;<br />
&lt;/body&gt;</p>
输入代码后，保存记事本，然后修改文件名和后缀名为&quot;HTML.html&quot;；<br />
<br />
运行该文件后的效果，如图 2 所示。
<div style="text-align: center;">
<br />
<img alt="" src="/uploads/allimg/190117/2-1Z11G64134V2.gif" /><br />
图 2</div>
<br />
这段代码只是用到了 HTML，读者可以自行修改代码中的中文，然后观察其变化。<br />
<h3>
关于爬虫的合法性</h3>
几乎每一个网站都有一个名为 robots.txt 的文档，当然也有部分网站没有设定 robots.txt。对于没有设定 robots.txt 的网站可以通过网络爬虫获取没有口令加密的数据，也就是该网站所有页面数据都可以爬取。如果网站有 robots.txt 文档，就要判断是否有禁止访客获取的数据。<br />
<br />
以淘宝网为例，在浏览器中访问 <a href="https://www.taobao.com/robots.txt" target="_blank">https://www.taobao.com/robots.txt</a>，如图&nbsp; 3 所示。
<div style="text-align: center;">
<br />
<img alt="" src="/uploads/allimg/190117/2-1Z11G6422Ub.gif" /><br />
图 3 淘宝网的robots.txt文件内容</div>
<br />
淘宝网允许部分爬虫访问它的部分路径，而对于没有得到允许的用户，则全部禁止爬取，代码如下：<br />
<p class="info-box">
User-Agent:*<br />
Disallow:/</p>
这一句代码的意思是除前面指定的爬虫外，不允许其他爬虫爬取任何数据。<br />
<h2>
使用 requests 库请求网站</h2>
<h3>
安装 requests 库</h3>
首先在 PyCharm 中安装 requests 库，为此打开 PyCharm，单击&ldquo;File&rdquo;（文件）菜单，选择&ldquo;Setting for New Projects...&rdquo;命令，如图 4 所示。
<div style="text-align: center;">
<br />
<img alt="" src="/uploads/allimg/190117/2-1Z11G64314Q6.jpg" /><br />
图 4</div>
<br />
选择&ldquo;Project Interpreter&rdquo;（项目编译器）命令，确认当前选择的编译器，然后单击右上角的加号，如图 5 所示。
<div style="text-align: center;">
<br />
<img alt="" src="/uploads/allimg/190117/2-1Z11G64341W4.jpg" /><br />
图 5</div>
<br />
在搜索框输入：requests（注意，一定要输入完整，不然容易出错），然后单击左下角的&ldquo;Install Package&rdquo;（安装库）按钮。如图 6 所示：
<div style="text-align: center;">
<br />
<img alt="" src="/uploads/allimg/190117/2-1Z11G64400193.jpg" /><br />
图 6</div>
<br />
安装完成后，会在 Install Package 上显示&ldquo;Package&lsquo;requests&rsquo; installed successfully&rdquo;（库的请求已成功安装），如图 7 所示；如果安装不成功将会显示提示信息。
<div style="text-align: center;">
<br />
<img alt="" src="/uploads/allimg/190117/2-1Z11G644192R.jpg" /><br />
图 7 安装成功</div>
<h3>
爬虫的基本原理</h3>
网页请求的过程分为两个环节：
<ol>
<li>
Request （请求）：每一个展示在用户面前的网页都必须经过这一步，也就是向服务器发送访问请求。</li>
<li>
Response（响应）：服务器在接收到用户的请求后，会验证请求的有效性，然后向用户（客户端）发送响应的内容，客户端接收服务器响应的内容，将内容展示出来，就是我们所熟悉的网页请求，如图 8 所示。</li>
</ol>
<div style="text-align: center;">
<img alt="" src="/uploads/allimg/190117/2-1Z11G6451I08.gif" /><br />
图 8 Response相应</div>
<br />
网页请求的方式也分为两种：
<ol>
<li>
GET：最常见的方式，一般用于获取或者查询资源信息，也是大多数网站使用的方式，响应速度快。</li>
<li>
POST：相比 GET 方式，多了以表单形式上传参数的功能，因此除查询信息外，还可以修改信息。</li>
</ol>
<br />
所以，在写爬虫前要先确定向谁发送请求，用什么方式发送。<br />
<h3>
使用 GET 方式抓取数据</h3>
复制任意一条首页首条新闻的标题，在源码页面按【Ctrl+F】组合键调出搜索框，将标题粘贴在搜索框中，然后按【Enter】键。<br />
<br />
如图 8 所示，标题可以在源码中搜索到，请求对象是www.cntour.cn，请求方式是GET（所有在源码中的数据请求方式都是GET），如图 9 所示。
<div style="text-align: center;">
<br />
<img alt="" src="/uploads/allimg/190117/2-1Z11G64620C9.jpg" /><br />
图 9（<a href="/uploads/allimg/190117/2-1Z11G6464b94.jpg" target="_blank">点此查看高清大图</a>）</div>
确定好请求对象和方式后，在 PyCharm 中输入以下代码：
<pre class="python">
import requests        #导入requests包
url = &#39;http://www.cntour.cn/&#39;
strhtml = requests.get(url)        #Get方式获取网页数据
print(strhtml.text)</pre>
运行结果如图 10 所示：
<div style="text-align: center;">
<img alt="" src="/uploads/allimg/190117/2-1Z11G64I4104.jpg" /><br />
图 10 运行结果效果图（<a href="/uploads/allimg/190117/2-1Z11G64K5445.jpg" target="_blank">点此查看高清大图</a>）</div>
<br />
加载库使用的语句是 import+库的名字。在上述过程中，加载 requests 库的语句是：import requests。<br />
<br />
用 GET 方式获取数据需要调用 requests 库中的 get 方法，使用方法是在 requests 后输入英文点号，如下所示：<br />
<p class="info-box">
requests.get</p>
将获取到的数据存到 strhtml 变量中，代码如下：
<p class="info-box">
strhtml = request.get(url)</p>
这个时候 strhtml 是一个 URL 对象，它代表整个网页，但此时只需要网页中的源码，下面的语句表示网页源码：
<p class="info-box">
strhtml.text</p>
<h3>
使用 POST 方式抓取数据</h3>
首先输入有道翻译的网址：<a href="http://fanyi.youdao.com/" target="_blank">http://fanyi.youdao.com/</a>，进入有道翻译页面。<br />
<br />
按快捷键 F12，进入开发者模式，单击 Network，此时内容为空，如图 11 所示：
<div style="text-align: center;">
<br />
<img alt="" src="/uploads/allimg/190117/2-1Z11G64ZU55.gif" /><br />
图 11</div>
<br />
在有道翻译中输入&ldquo;我爱中国&rdquo;，单击&ldquo;翻译&rdquo;按钮，如图 12 所示：
<div style="text-align: center;">
<br />
<img alt="" src="/uploads/allimg/190117/2-1Z11G6492K96.gif" /><br />
图 12</div>
<br />
在开发者模式中，依次单击&ldquo;Network&rdquo;按钮和&ldquo;XHR&rdquo;按钮，找到翻译数据，如图 13 所示：
<div style="text-align: center;">
<br />
<img alt="" src="/uploads/allimg/190117/2-1Z11G6494Y00.gif" /><br />
图 13</div>
<br />
单击 Headers，发现请求数据的方式为 POST。如图 14 所示：
<div style="text-align: center;">
<br />
<img alt="" src="/uploads/allimg/190117/2-1Z11GA00I57.gif" /><br />
图 14</div>
<br />
找到数据所在之处并且明确请求方式之后，接下来开始撰写爬虫。<br />
<br />
首先，将 Headers 中的 URL 复制出来，并赋值给 url，代码如下：<br />
<p class="info-box">
url = &#39;http://fanyi.youdao.com/translate_o?smartresult=dict&amp;smartresult=rule&#39;</p>
POST 的请求获取数据的方式不同于 GET，POST 请求数据必须构建请求头才可以。<br />
<br />
Form Data 中的请求参数如图 15 所示：
<div style="text-align: center;">
<br />
<img alt="" src="/uploads/allimg/190117/2-1Z11GA041451.gif" /><br />
图 15</div>
<br />
将其复制并构建一个新字典：
<p class="info-box">
From_data={&#39;i&#39;:&#39;我愛中國&#39;,&#39;from&#39;:&#39;zh-CHS&#39;,&#39;to&#39;:&#39;en&#39;,&#39;smartresult&#39;:&#39;dict&#39;,&#39;client&#39;:&#39;fanyideskweb&#39;,&#39;salt&#39;:&#39;15477056211258&#39;,&#39;sign&#39;:&#39;b3589f32c38bc9e3876a570b8a992604&#39;,&#39;ts&#39;:&#39;1547705621125&#39;,&#39;bv&#39;:&#39;b33a2f3f9d09bde064c9275bcb33d94e&#39;,&#39;doctype&#39;:&#39;json&#39;,&#39;version&#39;:&#39;2.1&#39;,&#39;keyfrom&#39;:&#39;fanyi.web&#39;,&#39;action&#39;:&#39;FY_BY_REALTIME&#39;,&#39;typoResult&#39;:&#39;false&#39;}</p>
接下来使用 requests.post 方法请求表单数据，代码如下：
<p class="info-box">
import requests&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #导入requests包<br />
response = requests.post(url,data=payload)</p>
将字符串格式的数据转换成 JSON 格式数据，并根据<a href='/data_structure/' target='_blank'>数据结构</a>，提取数据，并将翻译结果打印出来，代码如下：<br />
<pre class="python">
import json
content = json.loads(response.text)
print(content[&#39;translateResult&#39;][0][0][&#39;tgt&#39;])</pre>
使用 requests.post 方法抓取有道翻译结果的完整代码如下：<br />
<pre class="python">
import requests        #导入requests包
import json
def get_translate_date(word=None):
url = &#39;http://fanyi.youdao.com/translate_o?smartresult=dict&amp;smartresult=rule&#39;
From_data={&#39;i&#39;:word,&#39;from&#39;:&#39;zh-CHS&#39;,&#39;to&#39;:&#39;en&#39;,&#39;smartresult&#39;:&#39;dict&#39;,&#39;client&#39;:&#39;fanyideskweb&#39;,&#39;salt&#39;:&#39;15477056211258&#39;,&#39;sign&#39;:&#39;b3589f32c38bc9e3876a570b8a992604&#39;,&#39;ts&#39;:&#39;1547705621125&#39;,&#39;bv&#39;:&#39;b33a2f3f9d09bde064c9275bcb33d94e&#39;,&#39;doctype&#39;:&#39;json&#39;,&#39;version&#39;:&#39;2.1&#39;,&#39;keyfrom&#39;:&#39;fanyi.web&#39;,&#39;action&#39;:&#39;FY_BY_REALTIME&#39;,&#39;typoResult&#39;:&#39;false&#39;}
#请求表单数据
response = requests.post(url,data=From_data)
#将Json格式字符串转字典
content = json.loads(response.text)
print(content)
#打印翻译后的数据
#print(content[&#39;translateResult&#39;][0][0][&#39;tgt&#39;])
if __name__==&#39;__main__&#39;:
get_translate_date(&#39;我爱中国&#39;)</pre>
<h2>
使用 Beautiful Soup 解析网页</h2>
通过 requests 库已经可以抓到网页源码，接下来要从源码中找到并提取数据。Beautiful Soup 是 python 的一个库，其最主要的功能是从网页中抓取数据。Beautiful Soup 目前已经被移植到 bs4 库中，也就是说在导入 Beautiful Soup 时需要先安装 bs4 库。<br />
<br />
安装 bs4 库的方式如图 16 所示:
<div style="text-align: center;">
<br />
<img alt="" src="/uploads/allimg/190117/2-1Z11GA15bD.gif" /><br />
图 16</div>
<br />
安装好 bs4 库以后，还需安装 lxml 库。如果我们不安装 lxml 库，就会使用 Python 默认的解析器。尽管 Beautiful Soup 既支持 Python 标准库中的 HTML 解析器又支持一些第三方解析器，但是 lxml 库具有功能更加强大、速度更快的特点，因此笔者推荐安装 lxml 库。<br />
<br />
安装 Python 第三方库后，输入下面的代码，即可开启 Beautiful Soup 之旅：<br />
<pre class="python">
import requests        #导入requests包
from bs4 import    BeautifulSoup
url=&#39;http://www.cntour.cn/&#39;
strhtml=requests.get(url)
soup=BeautifulSoup(strhtml.text,&#39;lxml&#39;)
data = soup.select(&#39;#main&gt;div&gt;div.mtop.firstMod.clearfix&gt;div.centerBox&gt;ul.newsList&gt;li&gt;a&#39;)
print(data)</pre>
代码运行结果如图 17 所示。
<div style="text-align: center;">
<br />
<img alt="" src="/uploads/allimg/190117/2-1Z11GA244Q8.jpg" /><br />
图 17（<a href="/uploads/allimg/190117/2-1Z11GA30cY.jpg" target="_blank">点此查看高清大图</a>）</div>
<br />
Beautiful Soup 库能够轻松解析网页信息，它被集成在 bs4 库中，需要时可以从 bs4 库中调用。其表达语句如下：
<p class="info-box">
from bs4 import BeautifulSoup</p>
首先，HTML 文档将被转换成 Unicode 编码格式，然后 Beautiful Soup 选择最合适的解析器来解析这段文档，此处指定 lxml 解析器进行解析。解析后便将复杂的 HTML 文档转换成树形结构，并且每个节点都是 Python 对象。这里将解析后的文档存储到新建的变量 soup 中，代码如下：<br />
<p class="info-box">
soup=BeautifulSoup(strhtml.text,&#39;lxml&#39;)</p>
接下来用 select（选择器）定位数据，定位数据时需要使用浏览器的开发者模式，将鼠标光标停留在对应的数据位置并右击，然后在快捷菜单中选择&ldquo;检查&rdquo;命令，如图 18 所示：
<div style="text-align: center;">
<br />
<img alt="" src="/uploads/allimg/190117/2-1Z11GA40T17.gif" /><br />
图 18</div>
<br />
随后在浏览器右侧会弹出开发者界面，右侧高亮的代码（参见图&nbsp; 19(b)）对应着左侧高亮的数据文本（参见图 19(a)）。右击右侧高亮数据，在弹出的快捷菜单中选择&ldquo;Copy&rdquo;➔&ldquo;Copy Selector&rdquo;命令，便可以自动复制路径。
<div style="text-align: center;">
<br />
<img alt="" src="/uploads/allimg/190117/2-1Z11GA45JN.gif" /><br />
图 19 复制路径</div>
将路径粘贴在文档中，代码如下:<br />
<p class="info-box">
#main &gt; div &gt; div.mtop.firstMod.clearfix &gt; div.centerBox &gt; ul.newsList &gt; li:nth-child(1) &gt; a</p>
由于这条路径是选中的第一条的路径，而我们需要获取所有的头条新闻，因此将 li：nth-child（1）中冒号（包含冒号）后面的部分删掉，代码如下：
<p class="info-box">
#main &gt; div &gt; div.mtop.firstMod.clearfix &gt; div.centerBox &gt; ul.newsList &gt; li &gt; a</p>
使用 soup.select 引用这个路径，代码如下：<br />
<p class="info-box">
data = soup.select(&#39;#main &gt; div &gt; div.mtop.firstMod.clearfix &gt; div.centerBox &gt; ul.newsList &gt; li &gt; a&#39;)</p>
<h2>
清洗和组织数据</h2>
至此，获得了一段目标的 HTML 代码，但还没有把数据提取出来，接下来在 PyCharm 中输入以下代码：<br />
<pre class="python">
for item in data:
result={
    &#39;title&#39;:item.get_text(),
    &#39;link&#39;:item.get(&#39;href&#39;)
}
print(result)</pre>
代码运行结果如图 20 所示：
<div style="text-align: center;">
<img alt="" src="/uploads/allimg/190117/2-1Z11GA60R06.gif" /><br />
图 20（<a href="/uploads/allimg/190117/2-1Z11GA629403.jpg" target="_blank">点此查看高清大图</a>）</div>
<br />
首先明确要提取的数据是标题和链接，标题在＜a＞标签中，提取标签的正文用 get_text() 方法。链接在＜a＞标签的 href 属性中，提取标签中的 href 属性用 get() 方法，在括号中指定要提取的属性数据，即 get(＇href＇)。<br />
<br />
从图 20 中可以发现，文章的链接中有一个数字 ID。下面用正则表达式提取这个 ID。需要使用的正则符号如下:
<p class="info-box">
\d匹配数字<br /></li>
</ul>
<p>+匹配前一个字符1次或多次</p><br>在 Python 中调用正则表达式时使用 re 库，这个库不用安装，可以直接调用。在 PyCharm 中输入以下代码:</p>
<pre class="python">
import re
for item in data:
    result={
        &quot;title&quot;:item.get_text(),
        &quot;link&quot;:item.get(&#39;href&#39;),
        &#39;ID&#39;:re.findall(&#39;\d+&#39;,item.get(&#39;href&#39;))
    }
print(result)</pre>
<p>运行结果如图 21 所示：</p>
<div style="text-align: center;">
<br />
<img alt="" src="/uploads/allimg/190117/2-1Z11GAHKD.jpg" /><br />
图 21</div>
<br />
这里使用 re 库的 findall 方法，第一个参数表示正则表达式，第二个参数表示要提取的文本。<br />
<h2>
爬虫攻防战</h2>
爬虫是模拟人的浏览访问行为，进行数据的批量抓取。当抓取的数据量逐渐增大时，会给被访问的服务器造成很大的压力，甚至有可能崩溃。换句话就是说，服务器是不喜欢有人抓取自己的数据的。那么，网站方面就会针对这些爬虫者，采取一些反爬策略。<br />
<br />
服务器第一种识别爬虫的方式就是通过检查连接的 useragent 来识别到底是浏览器访问，还是代码访问的。如果是代码访问的话，访问量增大时，服务器会直接封掉来访 IP。<br />
<br />
那么应对这种初级的反爬机制，我们应该采取何种举措？<br />
<br />
还是以前面创建好的爬虫为例。在进行访问时，我们在开发者环境下不仅可以找到 URL、Form Data，还可以在 Request headers 中构造浏览器的请求头，封装自己。服务器识别浏览器访问的方法就是判断 keyword 是否为 Request headers 下的 User-Agent，如图 22 所示。
<div style="text-align: center;">
<br />
<img alt="" src="/uploads/allimg/190117/2-1Z11GAR3P1.jpg" /><br />
图 22</div>
<br />
因此，我们只需要构造这个请求头的参数。创建请求头部信息即可，代码如下：<br />
<p class="info-box">
headers={&#39;User-Agent&#39;:&#39;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.110 Safari/537.36&#39;}<br />
response = request.get(url,headers=headers)</p>
写到这里，很多读者会认为修改 User-Agent 很太简单。确实很简单，但是正常人1秒看一个图，而个爬虫1秒可以抓取好多张图，比如 1 秒抓取上百张图，那么服务器的压力必然会增大。也就是说，如果在一个 IP 下批量访问下载图片，这个行为不符合正常人类的行为，肯定要被封 IP。<br />
<br />
其原理也很简单，就是统计每个IP的访问频率，该频率超过阈值，就会返回一个验证码，如果真的是用户访问的话，用户就会填写，然后继续访问，如果是代码访问的话，就会被封 IP。<br />
<br />
这个问题的解决方案有两个，第一个就是常用的增设延时，每 3 秒钟抓取一次，代码如下：
<p class="info-box">
import time<br />
time.sleep(3)</p>
但是，我们写爬虫的目的是为了高效批量抓取数据，这里设置 3 秒钟抓取一次，效率未免太低。其实，还有一个更重要的解决办法，那就是从本质上解决问题。<br />
<br />
不管如何访问，服务器的目的就是查出哪些为代码访问，然后封锁 IP。解决办法：为避免被封 IP，在数据采集时经常会使用代理。当然，requests 也有相应的 proxies 属性。<br />
<br />
首先，构建自己的代理 IP 池，将其以字典的形式赋值给 proxies，然后传输给 requests，代码如下：<br />
<pre class="python">
proxies={
    &quot;http&quot;:&quot;http://10.10.1.10:3128&quot;,
    &quot;https&quot;:&quot;http://10.10.1.10:1080&quot;,
}
response = requests.get(url, proxies=proxies)</pre>
<h2>
扩展阅读</h2>
本文仅对 Python 爬虫及实现过程做了简明扼要地介绍。
<br />
<br />
如果你想对 Python 爬虫有更深入的了解，我推荐你阅读：
<ul>
<li>
<a href="https://www.cnblogs.com/Albert-Lee/p/6226699.html" target="_blank">Python爬虫入门教程&nbsp;</a></li>
<li>
<a href="https://blog.csdn.net/c406495762/article/details/78123502" target="_blank">Python3网络爬虫入门教程</a></li>
<li>
<a href="http://www.imooc.com/learn/563" target="_blank">Python爬虫教程&mdash;&mdash;慕课网</a></li>
</ul>]]></content>
      <categories>
        <category>python爬虫</category>
      </categories>
      <tags>
        <tag>爬虫</tag>
      </tags>
  </entry>
  <entry>
    <title>网络层</title>
    <url>/2021/05/10/%E7%BD%91%E7%BB%9C%E5%B1%82/</url>
    <content><![CDATA[<h1>网络层</h1><h2 id="一、基本概念"><a href="#一、基本概念" class="headerlink" title="一、基本概念"></a>一、基本概念</h2><p>负责在不同网络之间转发数据报（实现这个功能的设备是路由器，即实现跨网段的数据通信），基于数据报的IP地址转发（即选择出口，路由器对出口的判断是根据路由表），不负责丢失重传，不负责排序。</p>
<a id="more"></a>
<h2 id="二、网际协议-IP"><a href="#二、网际协议-IP" class="headerlink" title="二、网际协议 IP"></a>二、网际协议 IP</h2><blockquote>
<p>IP协议：所有选路的协议都是 IP 协议</p>
</blockquote>
<h3 id="1、计算机通信的过程"><a href="#1、计算机通信的过程" class="headerlink" title="1、计算机通信的过程"></a>1、计算机通信的过程</h3><p>1）计算机通信的过程（本网段通信和跨网段通信的过程）</p>
<ul>
<li>应用层：应用程序准备要传输的文件</li>
<li>传输层：将文件分段，并编号</li>
<li>网络层：添加目标IP地址，源IP地址</li>
<li>数据链路层：使用自己的子网掩码，判断自己在哪个网段。使用自己的子网掩码，判断目标地址在哪个网段<ul>
<li>同一网段：用ARP协议广播解析目标地址的Mac地址，得到对方的Mac地址后，用对方的Mac地址直接封装。</li>
<li>不是同一网段：把数据发给路由器，让他来转发数据（此时的目标地址是网关的Mac地址）</li>
</ul>
</li>
</ul>
<p>2）网络设备</p>
<ul>
<li><p>网关：网关是一个 IP 地址。是一个网络连接到另一个网络的“关口”。</p>
</li>
<li><p>路由器：路由器是一个物理设备。一般局域网的网关就是路由器的IP地址。路由器仅根据目的主机所连接的网络号来转发数据报。路由器总是具有两个或两个以上的 IP 地址。路由器的每一个接口都有一个不同网络号的 IP 地址。</p>
</li>
</ul>
<h3 id="2、IP-地址"><a href="#2、IP-地址" class="headerlink" title="2、IP 地址"></a>2、IP 地址</h3><p>1）IP 地址的定义</p>
<p>要使 Internet 上的主机间能正常通信，必须给每个计算机一个全球都能接收和识别的唯一标识，即IP地址。IP 地址就是给每个连接在互联网上的主机或路由器分配一个在全世界范围是唯一的 32 位的标识符。</p>
<p>IP 地址现在由互联网名字和数字分配机构 ICANN 进行分配。</p>
<p>2）IP 地址和 MAC 地址的区别</p>
<ul>
<li>IP 地址决定数据报的起点和终点，是一种逻辑地址，是网络层和以上各层使用的地址。</li>
<li>MAC 地址决定了下一跳的路径，是一种物理地址，是数据链路层和物理层使用的地址。【数据要在数据链路层上传，就要写上数据链路层的地址，即物理访问地址 Mac 地址】</li>
</ul>
<p>3）IP 地址编址方法经历的历史阶段</p>
<blockquote>
<h4 id="第一阶段：分类的-IP-地址"><a href="#第一阶段：分类的-IP-地址" class="headerlink" title="第一阶段：分类的 IP 地址"></a>第一阶段：分类的 IP 地址</h4></blockquote>
<p>将 IP 地址划分为 A 类（网络号1位，主机号3位），B 类（网络号2位，主机号2位），C 类（网络号3位，主机号1位），D 类（多播地址），E 类（保留为今后使用）5 个类别。每一类地址都由两个固定长度的字段组成，其中一个字段是网络号 net-id，它标志主机（或路由器）所连接到的网络，而另一个字段则是主机号 host-id，它标志该主机（或路由器）。主机号在它前面的网络号所指明的网络范围内必须是唯一的。所以一个 IP 地址在整个互联网范围内是唯一的。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">IP 地址 ::= &#123;&lt; 网络号 &gt;, &lt; 主机号 &gt;&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gfqqqoqrxnj30ry0a6416.jpg" alt=""></p>
<blockquote>
<h4 id="第二阶段：子网的划分"><a href="#第二阶段：子网的划分" class="headerlink" title="第二阶段：子网的划分"></a>第二阶段：子网的划分</h4></blockquote>
<p>（1）划分原因</p>
<p>IP 地址空间的利用率有时很低。 给每一个物理网络分配一个网络号会使路由表变得太大因而使网络性能变坏。两级的 IP 地址不够灵活。</p>
<p>（2）划分子网的思路</p>
<p>从主机号借用若干个位作为子网号 subnet-id，而主机号 host-id 也就相应减少了若干个位。</p>
<p>从其他网络发送给本单位某个主机的 IP 数据报，仍然是根据 IP 数据报的目的网络号 net-id，先找到连接在本单位网络上的路由器。然后此路由器在收到 IP 数据报后，再按目的网络号 net-id 和子网号subnet-id 找到目的子网。最后就将 IP 数据报直接交付目的主机。 </p>
<p>划分子网纯属一个单位内部的事情。单位对外仍然表现为没有划分子网的网络。从两级 IP 地址到三级 IP 地址。 </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">IP 地址 ::= &#123;&lt; 网络号 &gt;, &lt; 子网号 &gt;, &lt; 主机号 &gt;&#125;</span><br></pre></td></tr></table></figure>
<p>（3）子网掩码</p>
<p>从一个 IP 数据报的首部无法判断源主机或目的主机所连接的网络是否进行了子网划分。所以就出现了子网掩码(subnet mask)，它可以找出 IP 地址中的子网部分。</p>
<p>子网掩码长度＝32位。某位＝1表示IP地址中的对应位为网络号和子网号，某位＝0表示IP地址中的对应位为主机号。使用子网掩码的好处是不管网络有没有划分子网，只要把子网掩码和IP地址进行逐位相“与”（AND）就能立即得出网络地址。</p>
<blockquote>
<h4 id="第三阶段：无分类编址-CIDR（构成超网）"><a href="#第三阶段：无分类编址-CIDR（构成超网）" class="headerlink" title="第三阶段：无分类编址 CIDR（构成超网）"></a>第三阶段：无分类编址 CIDR（构成超网）</h4></blockquote>
<p>（1）网络前缀</p>
<p>划分子网在一定程度上缓解了因特网发展中遇到的困难。但是 IP 地址面临不够用的问题。</p>
<p>CIDR 的特点</p>
<ul>
<li>CIDR 消除了传统的 A 类、B 类和 C 类地址及划分子网的概念，把32位的 IP 地址划分为两个部分，前面的部分是<strong>网络前缀</strong>，用来指明网络，后面的部分用来指明主机，因此 CIDR 使 IP 地址从三级编址（使用子网掩码）又回到两级编址。CIDR 在 IP 地址后面加上斜线“/”，然后写上网络前缀所占的位数。128.14.35.7/20</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">IP 地址 ::= &#123;&lt; 网络前缀号 &gt;, &lt; 主机号 &gt;&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>CIDR把网络前缀都相同的连续IP地址组成一个“CIDR地址块。</li>
</ul>
<p>（2）最长前缀匹配</p>
<p>在使用 CIDR 时，由于采用了网络前缀这种记法，IP地址由网络前缀和主机号两部分组成，因此在路由表中的项目也要做相应的改变。每个项目由“网络前缀”和”下一跳地址“组成。但在查找路由表时可能得到不止一个匹配结果，此时从匹配结果中选择具有最长网络前缀的路由。这时因为网络前缀越长，其地址块就越小，因而路由就越具体。即选择匹配的地址更具体的一个。</p>
<h3 id="3、IP数据报的格式（IPv4）"><a href="#3、IP数据报的格式（IPv4）" class="headerlink" title="3、IP数据报的格式（IPv4）"></a>3、IP数据报的格式（IPv4）</h3><p><img src="https://img-blog.csdn.net/20180624172532216?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1lpbl9Ib25nd2Vp/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p>
<p>IP 数据报由首部和数据两部分组成。IP 数据报首部的固定部分中的各字段为：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1、版本：4位，用来表示表示 IP 协议的版本。IPv4，IPv6。</span><br><span class="line">2、首部长度：4位，首部是20个字节固定长度。</span><br><span class="line">3、区分服务：8位，用来获得更好地服务（只有使用时，该字段才起作用，一般也不用）。</span><br><span class="line">网络层-数据报 65535 字节</span><br><span class="line">数据链路层-数据 1500 字节（最大传输单元MTU）</span><br><span class="line">当数据包比数据链路层所支持的帧大的时候，数据报要进行分片。数据报如果不分片，数据报数据最大不超过1480字节</span><br><span class="line">4、总长度：16位，首部和数据之和的长度。</span><br><span class="line">5、标识：16位，不一定连续。</span><br><span class="line">6、标志：3位，目前只有两位有意义。</span><br><span class="line">标志字段的最低位记为MF，MF=1表示后面还有分片的数据报，MF=0表示这已是若干数据报片中的最后一个。</span><br><span class="line">标志字段中间的一位记为DF，意思是不能分片，当DF=0时才允许分片。</span><br><span class="line">7、片偏移：13位，较长的分组在分片后，某片在原分组中的相对位置。</span><br><span class="line">8、生存时间：8位，每过一个路由器，生存时间都要修改，物理层地址也要修改</span><br><span class="line">9、协议：8位，协议号就规定了里面的数据应该由哪个协议进行处理。（不同的协议在网络层用协议号来进行1区分）</span><br><span class="line">协议号：ICMP 1 ，IGMP 2 ，TCP 6， UDP 17 ，IPv6 41，OSPF 89，</span><br><span class="line">10、首部检验和：16位，用于检验数据包在传的过程中是否被修改或者出现了错误。接收端发现检验正确，接收数据，发现检验错误，丢弃数据报。</span><br><span class="line">11、原地址：32位，源IP地址。</span><br><span class="line">12、目的地址：32位，目标IP地址。</span><br><span class="line">13、可选字段（长度可变）：用于支持排错，测量以及安全等措施。它增加了IP数据报的功能，IPv6没有这个可变部分了。</span><br><span class="line">14、填充：当IP分组的首部长度不是4字节的整数倍，填充0，使其是4字节的整数倍。</span><br></pre></td></tr></table></figure>
<h3 id="4、IPv6"><a href="#4、IPv6" class="headerlink" title="4、IPv6"></a>4、IPv6</h3><p>解决 IP 地址耗尽的根本措施就是采用具有更大地址空间的新版本的 IP</p>
<p>1）IPv6 引进的主要变化</p>
<ul>
<li>更大的地址空间。IPv6 将地址从 IPv4 的 32 位 增大到了 128 位。 </li>
<li>扩展的地址层次结构。 </li>
<li>灵活的首部格式。 IPv6 定义了许多可选的扩展首部。</li>
<li>改进的选项。 </li>
<li>允许协议继续扩充。 </li>
<li>支持即插即用（即自动配置）。因此 IPv6 不需要使用 DHCP。</li>
<li>支持资源的预分配。  IPv6 支持实时视像等要求，保证一定的带宽和时延的应用。</li>
<li>IPv6 首部改为 8 字节对齐。首部长度必须是 8 字节的整数倍。原来的 IPv4 首部是 4 字节对齐。</li>
</ul>
<p>2）IPv6 数据报的结构</p>
<ul>
<li><p>基本首部 ：首部长度变为固定的 40 字节。把首部中不必要的功能取消了，使得 IPv6 首部的字段数减少到只有 8 个。</p>
</li>
<li><p>有效载荷 ：有效载荷也称为净负荷。有效载荷允许有零个或多个扩展首部(extension header)，再后面是数据部分。</p>
</li>
</ul>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gfqu3nlvbfj30tm0ds42k.jpg" alt=""></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1、版本：4 位。它指明了协议的版本，对 IPv6 该字段总是 6。 </span><br><span class="line">2、通信量类：8 位。这是为了区分不同的 IPv6 数据报的类别或优先级。目前正在进行不同的通信量类性能的实验。 </span><br><span class="line">3、流标号：20 位。 “流”是互联网络上从特定源点到特定终点的一系列数据报， “流”所经过的路径上的路由器都保证指明的服务质量。所有属于同一个流的数据报都具有同样的流标号。 </span><br><span class="line">4、有效载荷长度：16 位。它指明 IPv6 数据报除基本首部以外的字节数（所有扩展首部都算在有效载荷之内），其最大值是 64 KB。 </span><br><span class="line">5、下一个首部：8 位。它相当于 IPv4 的协议字段或可选字段。 </span><br><span class="line">6、跳数限制：8 位。源站在数据报发出时即设定跳数限制。路由器在转发数据报时将跳数限制字段中的值减 1。当跳数限制的值为零时，就要将此数据报丢弃。 </span><br><span class="line">7、源地址：128 位。是数据报的发送站的 IP 地址。 </span><br><span class="line">8、目的地址：128 位。是数据报的接收站的 IP 地址。</span><br></pre></td></tr></table></figure>
<p>4）地址分类</p>
<ul>
<li><p>单播：每个以太网帧包含源主机和目的主机的以太网地址。通常每个以太网帧发往单个目的主机，目的地址指明单个接收接口</p>
</li>
<li><p>多播：一个主机要向网上的多个主机发送帧</p>
</li>
<li><p>广播：一个主机要向网上的所有其他主机发送帧</p>
</li>
</ul>
<blockquote>
<p> 广播和多播仅应用于 UDP</p>
</blockquote>
<p>5）IPv4 向 IPv6 过渡的策略</p>
<ul>
<li>双协议栈</li>
<li>隧道技术</li>
</ul>
<h2 id="三、地址解析协议-ARP"><a href="#三、地址解析协议-ARP" class="headerlink" title="三、地址解析协议 ARP"></a>三、地址解析协议 ARP</h2><h3 id="1、定义"><a href="#1、定义" class="headerlink" title="1、定义"></a>1、定义</h3><p>ARP 协议是解决同一个局域网上主机（或路由器）的 IP 地址和硬件地址的映射关系</p>
<h3 id="2、解析-MAC-地址的过程"><a href="#2、解析-MAC-地址的过程" class="headerlink" title="2、解析 MAC 地址的过程"></a>2、解析 MAC 地址的过程</h3><p>1）主机A向本局域网上的主机B发送IP数据报时，在其ARP高速缓存中查看有无主机B的IP地址，如果有，就在其ARP高速缓存中查出其对应的MAC地址，再把这个MAC地址写入MAC帧，然后通过局域网把该MAC帧发往这个MAC地址。</p>
<p>2）如果查不到主机B的IP地址，主机A自动运行ARP，ARP进程在本局域网上广播发送一个ARP请求分组</p>
<p>==&gt; 在本局域网上的所有主机上运行的ARP进程都收到此ARP请求分组</p>
<p>==&gt; 主机B的IP地址和ARP请求分组中要查询的IP地址一样，就收下这个ARP请求分组，并向主机A发送ARP相应分组（普通的单播），同时在这个ARP相应分组中写入自己的Mac地址。</p>
<p>==&gt; 主机A收到主机B的ARP相应分组后，在其ARP高速缓存中写入主机B的IP地址到MAC地址的映射</p>
<p>==&gt; 如果所要找的主机和源主机不在同一个局域网上，那么就要通过 ARP 找到一个位于本局域网上的某个路由器的硬件地址，然后把分组发送给这个路由器，让这个路由器把分组转发给下一个网络。剩下的工作就由下一个网络来做。</p>
<h3 id="3、ARP攻击"><a href="#3、ARP攻击" class="headerlink" title="3、ARP攻击"></a>3、ARP攻击</h3><p>按照 IETF 的规定，PC机在发出ARP响应时，不需要一定要先收到ARP请求报文；局域网任何一台计算机都可以向网上发出自己就是IP_A和MAC_A的对应者，这就为攻击者带来了漏洞。</p>
<p>1）ARP欺骗：网络执法官，p2p终结者</p>
<p>2）ARP流量攻击</p>
<h2 id="四、网际控制报文协议-ICMP"><a href="#四、网际控制报文协议-ICMP" class="headerlink" title="四、网际控制报文协议 ICMP"></a>四、网际控制报文协议 ICMP</h2><p>ICMP 是为了更有效地转发 IP 数据报和提高交付成功的机会。</p>
<h3 id="1、ICMP报文的种类"><a href="#1、ICMP报文的种类" class="headerlink" title="1、ICMP报文的种类"></a>1、ICMP报文的种类</h3><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gfqvatxqo9j30po06q0ug.jpg" alt=""></p>
<h3 id="2、应用举例"><a href="#2、应用举例" class="headerlink" title="2、应用举例"></a>2、应用举例</h3><p>1）ping</p>
<p>用来测试两个主机之间的连通性，ping发送一个ICMP回声请求消息给目的地，并报告是否收到所希望的ICMP回声应答。</p>
<p>排除网络故障， 估算带宽。</p>
<ul>
<li>time：查看延迟</li>
</ul>
<p>2）Traceroute</p>
<p>用来跟踪一个分组从源点到终点的路径。</p>
<ul>
<li><p>TTL：是那个数据包的生存时间，等到TTL变成 0 的时候，那个数据包就在网上自动消失了，可以防止数据包在网上做循环。同时还可以大概的判断对方是什么系统（ Linux：64、Window：128、Unix：255   ）</p>
</li>
<li><p>pathping：跟踪数据包的路径，还能计算丢包率</p>
</li>
<li>tracert：跟踪数据包的路径</li>
</ul>
<h3 id="3、ICMPv6"><a href="#3、ICMPv6" class="headerlink" title="3、ICMPv6"></a>3、ICMPv6</h3><p>因为互联网中的路由器可能会丢弃数据报，IPv6 也不保证数据报的可靠交付。因此 IPv6 也需要使用 ICMP 来反馈一些差错信息。新的版本称为 ICMPv6。</p>
<p>地址解析协议 ARP 和网际组管理协议 IGMP 协议的功能都已被合并到 ICMPv6 中。</p>
<h2 id="五、网际组管理协议-IGMP"><a href="#五、网际组管理协议-IGMP" class="headerlink" title="五、网际组管理协议 IGMP"></a>五、网际组管理协议 IGMP</h2><h3 id="1、IP多播"><a href="#1、IP多播" class="headerlink" title="1、IP多播"></a>1、IP多播</h3><p>目的：更好的支持一对多通信（一个源点发送到许多个终点）</p>
<h3 id="2、IGMP-协议"><a href="#2、IGMP-协议" class="headerlink" title="2、IGMP 协议"></a>2、IGMP 协议</h3><p>IGMP 协议是让连接在本地局域网上的多播路由器知道本局域网上是否有主机参与或退出了某个多播组。</p>
<h3 id="3、多播路由选择协议"><a href="#3、多播路由选择协议" class="headerlink" title="3、多播路由选择协议"></a>3、多播路由选择协议</h3><p>能够运行多播协议的路由器称为多播路由器(multicast router)。 </p>
<h2 id="六、互联网的路由选择协议"><a href="#六、互联网的路由选择协议" class="headerlink" title="六、互联网的路由选择协议"></a>六、互联网的路由选择协议</h2><h3 id="1、内部网关协议-IGP-（路由选择协议）"><a href="#1、内部网关协议-IGP-（路由选择协议）" class="headerlink" title="1、内部网关协议 IGP （路由选择协议）"></a>1、内部网关协议 IGP （路由选择协议）</h3><p>在一个自治系统中使用的内部网关协议。</p>
<p>1）静态路由</p>
<p>需要管理员告诉路由器所有没有直连的网络下一跳给谁。（目的网络地址，下一跳地址）其特点是简单和开销较小，但不能及时适应网络状态的变化 。</p>
<p>2）动态路由</p>
<ul>
<li><p>内部网关协议 RIP：选择的标准是路径。周期性的广播路由表给其他路由器，选择最佳路径，30s更新一次。最大跳数是15。</p>
</li>
<li><p>内部网关协议 OSPF：选择的标准是带宽。</p>
</li>
</ul>
<p>其特点是能较好地适应网络状态的变化，但实现起来较为复杂，开销也比较大。</p>
<h3 id="2、外部网关协议-EGP-（路由选择协议）"><a href="#2、外部网关协议-EGP-（路由选择协议）" class="headerlink" title="2、外部网关协议 EGP （路由选择协议）"></a>2、外部网关协议 EGP （路由选择协议）</h3><p>若源主机和目的主机处在不同的自治系统中（这两个自治系统可能使用不同的内部网关协议），当数据报传到一个自治系统的边界时，就需要使用一种协议将路由选择信息传递到另一个自治系统中。 </p>
<h3 id="3、路由器的构成"><a href="#3、路由器的构成" class="headerlink" title="3、路由器的构成"></a>3、路由器的构成</h3><p>路由器是一种具有多个输入端口和多个输出端口的专用计算机，其任务是路由选择和转发分组。</p>
<p>1）路由选择部分</p>
<p>路由选择处理机的任务是根据所选定的路由选择协议构造出路由表，同时经常或定期地和相邻路由器交换路由信息，不断地更新和维护路由表。</p>
<p>2）分组转发部分</p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gfrwumadgaj30qs0aetc8.jpg" alt=""></p>
<ul>
<li><p>交换结构：又称为交换组织，其作用是根据转发表对分组进行处理。</p>
<ul>
<li>通过存储器</li>
<li>通过总线</li>
<li>通过纵横交换结构</li>
</ul>
</li>
<li><p>一组输入端口</p>
<ul>
<li>路由器的输入端口里面装有物理层、数据链路层和网络层的处理模块。</li>
<li>数据链路层剥去帧首部和尾部后，将分组送到网络层的队列中排队等待处理。这会产生一定的时延。 </li>
<li>输入端口中的查找和转发功能在路由器的交换功能中是最重要的。</li>
</ul>
</li>
<li><p>一组输出端口</p>
<ul>
<li>输出端口里面装有物理层、数据链路层和网络层的处理模块。</li>
<li>输出端口从交换结构接收分组，然后把它们发送到路由器外面的线路上。</li>
<li>在网络层的处理模块中设有一个缓冲区（队列）。当交换结构传送过来的分组的速率超过输出链路的发送速率时，来不及发送的分组就必须暂时存放在这个队列中。</li>
<li>数据链路层处理模块将分组加上链路层的首部和尾部，交给物理层后发送到外部线路。</li>
</ul>
</li>
</ul>
<blockquote>
<p>路由器中的输入或输出队列产生溢出是造成分组丢失的重要原因</p>
</blockquote>
<h3 id="4、路由器转发分组流程"><a href="#4、路由器转发分组流程" class="headerlink" title="4、路由器转发分组流程"></a>4、路由器转发分组流程</h3><p>1）从数据报的首部提取目的主机的IP地址 <strong>D</strong>，得出目的网络地址为 <strong>N</strong>。</p>
<p>2）若 <strong>N</strong> 就是与此路由器直接相连的某个网络地址，则进行直接交付，否则就要执行(3)进行间接交付。</p>
<p>直接把数据报交付给目的主机（这里包括把目的主机地址D转换为具体的硬件地址，把数据报封装为MAC帧，再发送此帧）；</p>
<p>3）若路由表中有目的地址为 <strong>D</strong> 的特定主机路由，则把数据报传送给路由表中所指明的下一跳路由器，否则执行(4)。</p>
<p>4）若路由表中有到达网络 <strong>N</strong> 的路由，则把数据报传送给路由表中所指明的下一跳路由器，否则执行(5)。</p>
<p>5）若路由表中有一个默认路由，则把数据报传送给路由表中所指明的下一跳路由器，否则执行(6)。</p>
<p>6）报告转发分组出错。</p>
<h2 id="七、VPN"><a href="#七、VPN" class="headerlink" title="七、VPN"></a>七、VPN</h2><div class="qr-code">
</div><div class="post-tag-list">标签: <a class="post-tags" href="/tags/网络安全/">网络安全]]></content>
      <categories>
        <category>网络安全</category>
      </categories>
      <tags>
        <tag>计算机网络</tag>
      </tags>
  </entry>
  <entry>
    <title>运输层</title>
    <url>/2021/05/20/%E8%BF%90%E8%BE%93%E5%B1%82/</url>
    <content><![CDATA[<p>从IP层来说，通信的两端是两台主机，但是真正进行通信的实体是在主机中的进程，即一台主机的进程和另一台主机的进程交换数据。</p>
<a id="more"></a>
<p>2）作用</p>
<ul>
<li><p>传输层为相互通信的应用进程提供了逻辑通信</p>
</li>
<li><p>传输层还要对收到的报文进行差错检测</p>
</li>
<li><p>传输层提供面向连接和无连接的服务</p>
</li>
</ul>
<p>3）传输层协议和网络层协议的主要区别</p>
<ul>
<li><p>IP协议：为主机之间提供逻辑通信</p>
</li>
<li><p>TCP和UDP：为应用进程之间提供端到端的逻辑通信</p>
</li>
</ul>
<p><img src="https://img-blog.csdn.net/20180714005101694?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1lpbl9Ib25nd2Vp/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">​</p>
<h3 id="2、传输层的端口"><a href="#2、传输层的端口" class="headerlink" title="2、传输层的端口"></a>2、传输层的端口</h3><p>1）端口的概念</p>
<p>运行在计算机中的进程是用进程标识符来标志的。为了使运行不同操作系统的计算机的应用进程能够互相通信，就必须用统一的方法对 TCP/IP 体系的应用进程进行标志，解决这个问题的方法就是在传输层使用协议端口号或端口。虽然通信的终点是应用进程，但只要把要传送的报文交到目的主机的某一个合适的目的端口，剩下的工作（即最后交付目的进程）就由 TCP / UDP 来完成。端口号只具有本地意义，它只是为了标志本地计算机应用层的各个进程在和传输层交互时的层间接口。</p>
<p>2）软件端口与硬件端口</p>
<p>协议栈层间的抽象的协议端口是软件端口。路由器或交换机上的端口是硬件端口。硬件端口是不同硬件设备进行交互的接口，而软件端口是应用层的各种协议进程与运输实体进行层间交互的一种地址。 </p>
<p>3）端口的分类</p>
<p>（1）服务器端的端口</p>
<ul>
<li><p>熟知端口（0～1023）</p>
<ul>
<li>FTP：21</li>
<li>TELNET：23</li>
<li>SMTP：25</li>
<li>DNS：53</li>
<li>HTTP：80</li>
<li>HTTPS：443</li>
<li>RDP：3389</li>
</ul>
</li>
<li><p>登记端口号（1024～49151）RDP：3389</p>
</li>
</ul>
<p>（2）客户端口（49152～65535）留给客户进程选择暂时使用</p>
<p>由此可见，两个计算机中的进程要互相通信，不仅必须知道对方的 IP 地址（为了找到对方的计算机），而且还要知道对方的端口号（为了找到对方计算机中的应用进程）</p>
<h2 id="二、用户数据报协议-UDP"><a href="#二、用户数据报协议-UDP" class="headerlink" title="二、用户数据报协议 UDP"></a>二、用户数据报协议 UDP</h2><h3 id="1、UDP-概述"><a href="#1、UDP-概述" class="headerlink" title="1、UDP 概述"></a>1、UDP 概述</h3><p>1）概念：UDP协议只在IP的数据报服务之上增加了复用、分发及差错检测的功能。UDP 传送的数据单位协议是 UDP 报文或用户数据报</p>
<p>2）UDP的主要特点</p>
<ul>
<li><p>是无连接的，即发送数据之前不需要建立连接</p>
</li>
<li><p>使用最大努力交付，即不保证可靠交付</p>
</li>
<li><p>是面向报文的【UDP对应用层交下来的报文，既不合并，也不拆分，而是保留这些报文的边界，即应用层交给UDP多长的报文，UDP就照样发送即一次发送一个报文。所以应用程序要选择合适大小的报文。传输层从IP层收到UDP数据报时，根据首部中的目的端口，把UDP数据报通过相应的端口，上交给应用进程。】</p>
</li>
<li><p>UDP没有拥塞控制，所以网络出现的拥塞不会使源主机的发送速率降低</p>
</li>
<li><p>支持一对一，一对一多，多对一，多对多的交互通信</p>
</li>
<li><p>首部开销小，只有8个字节</p>
</li>
</ul>
<h3 id="2、UDP-的首部格式"><a href="#2、UDP-的首部格式" class="headerlink" title="2、UDP 的首部格式"></a>2、UDP 的首部格式</h3><p>用户数据报 UDP 有两个字段：数据字段和首部字段。首部字段只有 8 个字节，由四个字段组成，每个字段两个字节。<br><img src="https://img-blog.csdn.net/20180714004956416?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1lpbl9Ib25nd2Vp/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">​<br>伪首部：在计算检验和时，临时把“伪首部”和 UDP 用户数据报连接在一起。伪首部仅仅是为了计算检验和。<br><img src="https://img-blog.csdn.net/20180714005009595?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1lpbl9Ib25nd2Vp/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">​</p>
<h2 id="三、传输控制协议-TCP"><a href="#三、传输控制协议-TCP" class="headerlink" title="三、传输控制协议 TCP"></a>三、传输控制协议 TCP</h2><p>TCP 传送的数据单位协议是 TCP 报文段(segment)。</p>
<h3 id="1、TCP-的特点"><a href="#1、TCP-的特点" class="headerlink" title="1、TCP 的特点"></a>1、TCP 的特点</h3><ul>
<li>TCP 是面向连接的运输层协议。</li>
<li>每一条 TCP 连接只能有两个端点 (endpoint)，每一条 TCP 连接只能是点对点的（一对一）。 </li>
<li>TCP 提供可靠交付的服务。</li>
<li>TCP 提供全双工通信。</li>
<li>面向字节流【流是指流入到进程或从进程流出的字节序列，虽然应用程序和 TCP 的交互是一次一个数据块，但 TCP 把应用程序交下来的数据看成仅仅是一连串无结构的字节流。TCP并不知道所传送字节流的含义。TCP不保证接收方应用程序所收到的数据块和发送方应用程序所发出的数据块大小一样，但接收方应用程序收到的字节流和发送方应用程序所发出的字节流完全一样】</li>
</ul>
<h3 id="2、TCP-的连接"><a href="#2、TCP-的连接" class="headerlink" title="2、TCP 的连接"></a>2、TCP 的连接</h3><p>1）概念：TCP 连接的端点不是主机，不是主机的IP 地址，不是应用进程，也不是运输层的协议端口。TCP 连接的端点叫做套接字 (socket) 或插口。 </p>
<p>2）套接字 (socket)：端口号拼接到 (contatenated with) IP 地址即构成了套接字。<br><img src="https://img-blog.csdn.net/20180714004858744?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1lpbl9Ib25nd2Vp/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">​</p>
<p>3）注意：TCP连接的端点是个很抽象的套接字。同一个IP地址可以有多个不同的TCP连接，同一个端口号也可以有多个不同的TCP连接。</p>
<h3 id="3、TCP-报文段的首部格式"><a href="#3、TCP-报文段的首部格式" class="headerlink" title="3、TCP 报文段的首部格式"></a>3、TCP 报文段的首部格式</h3><p>1）概念</p>
<p>TCP 虽然是面向字节流的，但 TCP 传送的数据单元却是报文段。</p>
<p>一个 TCP 报文段分为首部和数据两部分，而 TCP 的全部功能都体现在它首部中各字段的作用。</p>
<p>TCP 报文段首部的前 20 个字节是固定的，后面有 4n 字节是根据需要而增加的选项 (n 是整数)。因此 TCP 首部的最小长度是 20 字节。</p>
<p>2）首部结构</p>
<p><img src="https://img-blog.csdn.net/20180714004834109?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1lpbl9Ib25nd2Vp/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1）源端口和目的端口字段：各占 2 字节。端口是运输层与应用层的服务接口。运输层的复用和分用功能都要通过端口才能实现。 </span><br><span class="line">2）序号字段：占 4 字节。TCP 连接中传送的数据流中的每一个字节都编上一个序号。序号字段的值则指的是本报文段所发送的数据的第一个字节的序号。 </span><br><span class="line">3）确认号字段：占 4 字节，是期望收到对方的下一个报文段的数据的第一个字节的序号。 </span><br><span class="line">4）数据偏移（即首部长度）：占 4 位，它指出 TCP 报文段的数据起始处距离 TCP 报文段的起始处有多远。“数据偏移”的单位是 32 位字（以 4 字节为计算单位）。 </span><br><span class="line">5）保留字段——占 6 位，保留为今后使用，但目前应置为 0。 </span><br><span class="line">7）紧急 URG —— 当 URG  1 时，表明紧急指针字段有效。它告诉系统此报文段中有紧急数据，应尽快传送(相当于高优先级的数据)。 </span><br><span class="line">8）确认 ACK —— 只有当 ACK  1 时确认号字段才有效。当 ACK  0 时，确认号无效。 </span><br><span class="line">9）推送 PSH (PuSH) —— 接收 TCP 收到 PSH = 1 的报文段，就尽快地交付接收应用进程，而不再等到整个缓存都填满了后再向上交付。 </span><br><span class="line">10）复位 RST (ReSeT) —— 当 RST  1 时，表明 TCP 连接中出现严重差错（如由于主机崩溃或其他原因），必须释放连接，然后再重新建立运输连接。 </span><br><span class="line">11）同步 SYN —— 同步 SYN = 1 表示这是一个连接请求或连接接受报文。 </span><br><span class="line">12）终止 FIN (FINish) —— 用来释放一个连接。FIN  1 表明此报文段的发送端的数据已发送完毕，并要求释放运输连接。 </span><br><span class="line">13）窗口字段 —— 占 2 字节，用来让对方设置发送窗口的依据，单位为字节。</span><br><span class="line">14）检验和 —— 占 2 字节。检验和字段检验的范围包括首部和数据这两部分。在计算检验和时，要在 TCP 报文段的前面加上 12 字节的伪首部。</span><br><span class="line">15）紧急指针字段 —— 占 16 位，指出在本报文段中紧急数据共有多少个字节（紧急数据放在本报文段数据的最前面）。</span><br><span class="line">16）选项字段 —— 长度可变。TCP 最初只规定了一种选项，即最大报文段长度 MSS。MSS 告诉对方 TCP：“我的缓存所能接收的报文段的数据字段的最大长度是 MSS 个字节。” 最佳的 MSS 是很难确定的。</span><br><span class="line">17）填充字段 —— 这是为了使整个首部长度是 4 字节的整数倍。</span><br></pre></td></tr></table></figure>
<h3 id="4、TCP-可靠传输的实现"><a href="#4、TCP-可靠传输的实现" class="headerlink" title="4、TCP 可靠传输的实现"></a>4、TCP 可靠传输的实现</h3><p>1）超时重传：TCP 每发送一个报文段，就对这个报文段设置一次计时器，如果不能及时收到一个确认，将重发这个报文段。</p>
<p>2）检验和：利用TCP报文头的校验和检测数据在传输过程中是否变化。如果改变，就丢弃这个报文段让发送端重传。</p>
<p>3）排序：TCP发送方给每一个数据包进行编号，接收方对数据包进行排序，把有序数据传送给应用层。 且TCP的接收端会丢弃重复的数据包。</p>
<p>4）以字节为单位的滑动窗口技术：发送端发送一个数据包之后不需要等到对方应答后在发下一个数据包，只要发送的字节还没超过滑动窗口的大小就可以一直发送。在收到接收端的应答后滑动窗口开始移动。</p>
<p>5）流量控制：当接收端来不及处理发送端的数据，就减小自己的接收窗口，同时发送端也减小自己的发送窗口或者直接调成0，接收端处理完缓存里的数据在调整窗口开始接收数据包。</p>
<h3 id="5、TCP-的拥塞控制"><a href="#5、TCP-的拥塞控制" class="headerlink" title="5、TCP 的拥塞控制"></a>5、TCP 的拥塞控制</h3><p>1）概念</p>
<p>在某段时间，若对网络中某资源的需求超过了该资源所能提供的可用部分，网络的性能就要变坏。这种现象称为拥塞。</p>
<p>2）原理</p>
<p>拥塞控制就是防止过多的数据注入到网络中。只要网络没有出现拥塞，拥塞窗口就增大一些，以便把更多的数据包发送出去。只要网络出现拥塞，就必须把拥塞窗口减小一些，以减少注入到网络中的数据包，缓解网络出现拥塞。</p>
<blockquote>
<p>拥塞窗口只是一个状态变量，实际决定发送方能发送多少数据的是发送方窗口。</p>
</blockquote>
<p>3）流量控制与拥塞控制的区别</p>
<p>都是控制发送方的速率，但是流量控制是为了让接收方能来得及接收，拥塞控制是为了降低整个网络的拥塞程度。            </p>
<p>4）TCP 的拥塞控制方法</p>
<p>（1）慢开始和拥塞避免：拥塞窗口最开始是1，每经过一个传输轮次，拥塞窗口就加倍，到了慢开始门限就变成加1的关系。当发送丢包的时候，会计算一个新的慢开始门限，它是上一次慢开始门限的1/2。然后拥塞窗口又重1开始慢慢增长。</p>
<p>（2）快重传 / 快恢复：发生包丢后计算新的慢开始门限，然后拥塞窗口直接重新的慢开始门限开始线性增长。</p>
<p><img src="https://img-blog.csdn.net/20180714004543816?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1lpbl9Ib25nd2Vp/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动"></p>
<h3 id="6、TCP-的传输连接管理"><a href="#6、TCP-的传输连接管理" class="headerlink" title="6、TCP 的传输连接管理"></a>6、TCP 的传输连接管理</h3><p><strong>1）TCP 的连接建立</strong></p>
<p>握手需要在客户和服务器之间交换三个 TCP 报文段。称之为三报文握手。采用三报文握手主要是为了防止已失效的连接请求报文段突然又传送到了，因而产生错误。<br><img src="https://img-blog.csdn.net/20180714004508354?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1lpbl9Ib25nd2Vp/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">​</p>
<ul>
<li>建立连接之前要保证服务器处于监听状态，等待客户端的连接请求。</li>
<li>客户端选择一个随机的端口开始和服务器进行socket通信。客户端向服务器发送建立连接的请求报文段，首部的同步位SYN=1，初始序号seq=x，进入SYN-SENT（同步以发送状态）。等待服务器确认。</li>
<li>服务器收到该报文段后，向客户端发送确认，在确认报文段中SYN位和ACK位都置1，确认号ack=x+1，初始序号ack=y，此时服务器进入SYN_RECV状态</li>
<li>客户端收到服务器的确认后还要向服务器给一个确认，确认报文段的ACK是1，确认号ack=y+1，自己的序号seq=x+1，客户端进入ESTABLISHED（建立连接）状态，服务器收到客户端的确认后也进入建立连接状态。</li>
</ul>
<p>2）TCP 的连接释放：TCP 连接释放过程是四报文握手。<br><img src="https://img-blog.csdn.net/20180714004450434?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1lpbl9Ib25nd2Vp/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="点击并拖拽以移动">​</p>
<ul>
<li>客户端先发送一个连接释放的报文并停止发送数据。该报文段首部的终止控制位FIN=1，序号seq=u（客户端上次传送数据最后一个字节的序号加1）。并进入FIN-WAIT-1（终止等待1）状态。等待服务器的确认</li>
<li>服务器收到该报文段后就发出确认，该报文段的确认号ack=u+1， 序号seq=v（服务器上次发送数据最后一个字节的序号加1）。进入了CLOSE=WAIT（关闭等待）状态。</li>
<li>客户端收到服务器的确认后，就进入FIN-WAIT-2（终止等待2）状态，等待服务器发送连接释放报文。服务器向客户端发送连接释放的报文段，该报文段的终止控制位 FIN=1，重复上次的确认号ack = u + 1，序号 seq = w（半关闭状态服务器可能向客户端发送了一些数据）。进入了LAST-ACK（最后确认）状态，等待客户端的确认。</li>
<li>客户端收到连接释放报文段后，给服务器一个确认结束的报文段，该报文段确认号ack = w + 1，序号 seq = u + 1。此时客户端就进入TIME-WAIT（时间等待）状态，服务器进入CLOSED（关闭）。客户端经过2*MSL（最长报文段寿命）的时间后（4分钟）后也进入关闭</li>
</ul>
</div><div class="post-tag-list">标签: <a class="post-tags" href="/tags/网络安全/">网络安全]]></content>
      <categories>
        <category>网络安全</category>
      </categories>
      <tags>
        <tag>计算机网络</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript基础教程</title>
    <url>/2020/09/14/JavaScript%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/</url>
    <content><![CDATA[<h2 id="一、JavaScript介绍"><a href="#一、JavaScript介绍" class="headerlink" title="一、JavaScript介绍"></a>一、JavaScript介绍</h2><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript">JavaScript</a>是目前所有主流浏览器上唯一支持的脚本语言，这也是早期<code>JavaScript</code>的唯一用途。其主要作用是在不与服务器交互的情况下修改<code>HTML</code>页面内容，因此其最关键的部分是<code>DOM</code>（文档对象模型），也就是<code>HTML</code>元素的结构。通过<code>Ajax</code>可以使<code>HTML</code>页面通过<code>JavaScript</code>，在不重新加载页面的情况下从服务器上获取数据并显示，大幅提高用户体验。通过<code>JavaScript</code>，使<code>Web</code>页面发展成胖客户端成为可能。</p>
<h3 id="语言的性质"><a href="#语言的性质" class="headerlink" title="语言的性质"></a>语言的性质</h3><p>本节对<code>JavaScript</code>的性质做简要介绍，以帮你理解一些疑问。</p>
<p><code>JavaScript</code>和<code>ECMAScript</code>（JavaScript versus ECMAScript）<br>编程语言称为<code>JavaScript</code>，语言标准被称为<code>ECMAScript</code>。他们有不同名字的原因是因为“Java”已经被注册为商标（属于Oracle）。目前，只有<code>Mozilla</code>被正式允许使用“JavaScript”名称，因为很久以前他们得到一份许可。因此，开放的语言标准拥有不同的名字。当前的<code>JavaScript</code>版本是<code>ECMAScript 6</code>，<code>ECMAScript 7</code>当前是开发版。</p>
<p><code>JavaScript</code>之父，<code>Brendan Eich</code><a href="http://yanhaijing.com/javascript/2013/06/22/javascript-designing-a-language-in-10-days/">迅速了创建一门编程语言</a>。（否则，Netscape将使用其他技术）。他借鉴了几门其他语言的一些特性：</p>
<ul>
<li>JavaScript借鉴了Java的语法和如何区分原始值和对象。</li>
<li>JavaScript的函数设计受Scheme和AWK的启发——他们（的函数）都是第一类（first-class）对象，并且在语言中广泛使用。闭包使他们（函数）变成强大的工具。</li>
<li>Self影响了JavaScript独一无二的面向对象编程(OOP)风格。它的核心思想（在这里我们没有提到）非常优雅，基于此创建的语言非常少。但后面会提到一个简单的模式照顾大部分用例。JavaScript面向对象编程的杀手级特性是你可以直接创建对象。不需要先创建类或其他类似的东西。</li>
<li>Perl和Python影响了JavaScript字符串，数组和正则表达式的操作。</li>
</ul>
<p><code>JavaScript</code>在最初的时候并不是一个完善的语言，因此也导致<code>JavaScript</code>遗留了很多令人诟病的问题。在开发稍大规模的应用时会显得力不从心，但是由于<code>JavaScript</code>本身是一种非常灵活的语言，因此在它的基础上开发程序库比较容易，因此出现了一大批非常优秀的第三方库，如<a href="http://jquery.com/">jQuery</a>，<a href="http://extjs.org.cn/">ExtJS</a>，<a href="http://underscorejs.org/">underscorejs</a>，<a href="http://backbonejs.org/">backbone</a>等等，由于这些第三方库，<code>JavaScript</code>变得非常简单。其中<code>jQuery</code>的使用非常广泛，它大幅简化了<code>DOM</code>和<code>Ajax</code>，已经成为了很多网站的标配。<code>jQuery</code>虽然基于<code>JavaScript</code>，但它提供了另外一种编程范式，也就是逻辑式编程，与<code>SQL</code>和正则表达式类似。</p>
<h3 id="JavaScript能做什么"><a href="#JavaScript能做什么" class="headerlink" title="JavaScript能做什么"></a>JavaScript能做什么</h3><p><img src="http://static.blinkfox.com/js1.png" alt="JavaScript项目在Github所占比例"></p>
<p>如上图，<code>JavaScript</code>作为<a href="https://github.com/">Github</a>上最流行、最火的编程语言，几乎无所不能。这里是<a href="https://segmentfault.com/u/puyart">PuYart</a>的关于<a href="https://segmentfault.com/a/1190000003767058"><code>JavaScript</code>就要统治世界了</a>的文章，可以让我们了解<code>JavaScript</code>到底能做什么的一些介绍。</p>
<ol>
<li>Web前端(各种前端工具类库、前端框架、动画效果、数据可视化等)</li>
<li>服务端开发(<a href="https://nodejs.org/">Node.js</a>)</li>
<li>移动应用或者<code>Hybrid App</code>(Cordova)</li>
<li>桌面应用(<a href="http://nwjs.io/">NW.js</a>、<a href="http://electron.atom.io/">Electron</a>)</li>
<li>游戏(<a href="http://unity3d.com/cn/">Unity3D</a>、<a href="http://www.cocos.com/doc/article/index?type=cocos2d-x&url=/doc/cocos-docs-master/manual/framework/cocos2d-js/catalog/../1-about-cocos2d-js/1-1-a-brief-history/zh.md">Cocos2d-js</a>、<a href="http://pomelo.netease.com/">Pomelo</a>)</li>
<li>VR(<a href="https://www.phodal.com/blog/why-javascript-will-use-vr-world/">JavaScript在VR世界的应用</a>)</li>
<li>硬件、嵌入式物联网等(<a href="http://blog.jobbole.com/46055/">Tessel：用JavaScript做嵌入式开发</a>)</li>
<li>操作系统(<a href="http://node-os.com/">NodeOS</a>)</li>
</ol>
<blockquote>
<p>Atwood’s Law: any application that can be written in JavaScript, will eventually be written in JavaScript.(Atwood定律：凡是能用JavaScript写出来的，最终都会用JavaScript写出来。)</p>
</blockquote>
<h2 id="二、-JavaScript语法"><a href="#二、-JavaScript语法" class="headerlink" title="二、 JavaScript语法"></a>二、 JavaScript语法</h2><h3 id="语句和表达式"><a href="#语句和表达式" class="headerlink" title="语句和表达式"></a>语句和表达式</h3><p>了解<code>JavaScript</code>的语法，先来了解两个主要的语法类型：语句和表达式。</p>
<ul>
<li>语句通常是“做某些事情”。程序是一组语句的序列。举个例子，下面声明（创建）一个变量 <code>foo</code>： </li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> foo;</span><br></pre></td></tr></table></figure>

<ul>
<li>表达式是产生“值”。他们通常位于赋值操作的右边、函数参数等。举个例子： </li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="number">3</span> * <span class="number">7</span></span><br></pre></td></tr></table></figure>

<p>语句和表达式之间的区别最好通过实例说明，<code>JavaScript</code>（像Java）有两种不同的方式实现<code>if-then-else</code>。一种是用语句：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> x;</span><br><span class="line"><span class="keyword">if</span> (y &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">    x = y;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    x = -y;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>另一种是表达式：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> x = y &gt;= <span class="number">0</span> ? y : -y;</span><br></pre></td></tr></table></figure>

<p>你可以将后者作为函数参数（但前者不行）：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">myFunction(y &gt;= <span class="number">0</span> ? y : -y)</span><br></pre></td></tr></table></figure>

<p>最后，每当<code>JavaScript</code>期待一个语句，你也可以用一个表达式代替。例如：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">foo(bar(<span class="number">7</span>, <span class="number">1</span>));</span><br></pre></td></tr></table></figure>

<p><code>foo(...);</code>是一个语句（也叫做表达式语句），<code>bar(7, 1)</code>则是一个表达式。他们都实现函数调用。</p>
<h3 id="流程控制语句和语句块"><a href="#流程控制语句和语句块" class="headerlink" title="流程控制语句和语句块"></a>流程控制语句和语句块</h3><p>流程控制语句，其语句体可以是单条语句。举两个例子：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (obj !== <span class="literal">null</span>) obj.foo();</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (x &gt; <span class="number">0</span>) x--;</span><br></pre></td></tr></table></figure>

<p>然而，任何语句总能被语句块代替，花括号包含零或多条语句。因此，你也可以这样写：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (obj !== <span class="literal">null</span>) &#123;</span><br><span class="line">    obj.foo();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (x &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    x--;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>为便于程序的阅读和维护，推荐使用后一种方式，即语句块方式。</p>
<h3 id="分号"><a href="#分号" class="headerlink" title="分号"></a>分号</h3><p><code>JavaScript</code>中的分号是<a href="http://www.2ality.com/2011/05/semicolon-insertion.html">可选的</a>。但省略（分号）可能会带来意想不到的结果，所以我建议还是写上分号。</p>
<p>正如上面所看到的，分号作为语句的结尾，但语句块不需要。仅有一种情况下你能看到语句块后面有分号——<strong>函数表达式后面的函数体块</strong>。<strong>表达式作为语句的结尾，后面是分号</strong>：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">3</span> * <span class="number">7</span>;</span><br><span class="line"><span class="keyword">var</span> f = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; &#125;;</span><br></pre></td></tr></table></figure>

<h3 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h3><p><code>JavaScript</code>的注释有两种形式：单行注释和多行注释。单行注释以<code>//</code>开头，以换行符结尾：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">x++; <span class="comment">// 单行（single-line）注释</span></span><br></pre></td></tr></table></figure>

<p>多行注释用<code>/**/</code>包裹</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> 这是多行注释</span></span><br><span class="line"><span class="comment"> 多行哦</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<h2 id="三、变量和赋值"><a href="#三、变量和赋值" class="headerlink" title="三、变量和赋值"></a>三、变量和赋值</h2><p><code>JavaScript</code>中的变量在使用前必须先声明，否则会报错引用错误（Reference Error）：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> foo;  <span class="comment">// 声明变量“foo”</span></span><br></pre></td></tr></table></figure>

<h3 id="赋值"><a href="#赋值" class="headerlink" title="赋值"></a>赋值</h3><p>你可以在声明变量的同时为其赋值：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = <span class="number">6</span>;</span><br></pre></td></tr></table></figure>

<p>你也可以给已经存在的变量重新赋值：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">foo = <span class="number">4</span>;  <span class="comment">// 更改变量的值</span></span><br></pre></td></tr></table></figure>

<h3 id="复合赋值操作符"><a href="#复合赋值操作符" class="headerlink" title="复合赋值操作符"></a>复合赋值操作符</h3><p>有很多复合赋值操作符，例如+=。下面的两个赋值操作等价：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">x += <span class="number">1</span>;</span><br><span class="line">x = x + <span class="number">1</span>;</span><br></pre></td></tr></table></figure>

<h3 id="标识符和变量名"><a href="#标识符和变量名" class="headerlink" title="标识符和变量名"></a>标识符和变量名</h3><p>标识符就是事物的名字，在<code>JavaScript</code>中他们扮演不同的语法角色。例如，变量的名称是一个标识符。</p>
<p>大体上，标识符的第一个字符可以是任何<code>Unicode</code>字符、美元标志符（$）或下划线（_）。后面可以是任意字符和数字。因此，下面全是合法的标识符：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">arg0</span><br><span class="line">_tmp</span><br><span class="line">$elem</span><br><span class="line">π</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>注意</strong>：首字符不能是数字，如果是数字的话，该如何区分是数字还是变量呢？</p>
</blockquote>
<p>一些标识符是“保留关键字”——他们是语法的一部分，不能用作变量名。从技术上讲，下面三个标识符不是保留字，但也不应该作为变量名：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="literal">Infinity</span> <span class="literal">NaN</span> <span class="literal">undefined</span></span><br></pre></td></tr></table></figure>

<h2 id="四、值"><a href="#四、值" class="headerlink" title="四、值"></a>四、值</h2><p><code>JavaScript</code>有所有我们期待的编程语言值类型：布尔，数字，字符串，数组等。<code>JavaScript</code>中的所有值都有属性。每个属性有一个键（或名字）和一个值。你可以使用点（.）操作符读取属性：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">value.propKey</span><br></pre></td></tr></table></figure>

<p>举个例子：字符串<code>abc</code>有属性<code>lenght</code>（长度）</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;abc&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str.length); <span class="comment">// 得到3</span></span><br></pre></td></tr></table></figure>

<p>上面的代码也可以写成下面这样：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="string">&#x27;abc&#x27;</span>.length <span class="comment">// 得到3</span></span><br></pre></td></tr></table></figure>

<p>点操作符也可以用来给属性赋值：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;&#125;;  <span class="comment">// 空对象</span></span><br><span class="line">obj.foo = <span class="number">123</span>; <span class="comment">// 创建属性“foo”，设置它为123</span></span><br><span class="line"><span class="built_in">console</span>.log(obj.foo); <span class="comment">// 得到123</span></span><br></pre></td></tr></table></figure>

<p>你也可以通过它（.）调用方法：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="string">&#x27;hello&#x27;</span>.toUpperCase(); <span class="comment">// 得到HELLO</span></span><br></pre></td></tr></table></figure>

<p>上面，我们在值<code>hello</code>上面调用方法<code>toUpperCase()</code>。</p>
<h3 id="原始类型值和对象"><a href="#原始类型值和对象" class="headerlink" title="原始类型值和对象"></a>原始类型值和对象</h3><p>JavaScript定义了不同值之间的区别：</p>
<ul>
<li>原始值包括：<code>boolean</code>，<code>number</code>，<code>string</code>，<code>null</code>和<code>undefined</code>。</li>
<li>所有其他的值都是对象。实际上对象被定义为——所有不为原始值的值。</li>
</ul>
<p>两者之间的主要区别在于他们是如何被比较的：每一个对象有一个独一无二的标志，并且仅和自己相等：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj1 = &#123;&#125;;  <span class="comment">// 一个空对象</span></span><br><span class="line"><span class="keyword">var</span> obj2 = &#123;&#125;;  <span class="comment">// 另一个空对象</span></span><br><span class="line">obj1 === obj2   <span class="comment">// false</span></span><br><span class="line">obj1 === obj1   <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>相反，所有原始值只要编码值相同就被认为是相同的：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> prim1 = <span class="number">123</span>;</span><br><span class="line"><span class="keyword">var</span> prim2 = <span class="number">123</span>;</span><br><span class="line">prim1 === prim2 <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h3 id="原始类型值"><a href="#原始类型值" class="headerlink" title="原始类型值"></a>原始类型值</h3><p>下面全是原始类型值（简称：原始值）：</p>
<ul>
<li><p>布尔类型：true，false</p>
</li>
<li><p>数字类型：1736，1.351</p>
</li>
<li><p>字符串类型: ‘abc’，”abc”</p>
</li>
<li><p>两个“无值（non-values）”：undefined，null<br>原始值的特征：</p>
</li>
<li><p><strong>值做比较时,“内容”做比较</strong>。</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="number">3</span> === <span class="number">3</span> <span class="comment">// true</span></span><br><span class="line"><span class="string">&#x27;abc&#x27;</span> === <span class="string">&#x27;abc&#x27;</span> <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>无法更改</strong>：值的属性无法更改，无法添加和移除属性，获取未知属性总返回undefined。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;abc&#x27;</span>;</span><br><span class="line">str.foo = <span class="number">3</span>; <span class="comment">// try to create property `foo` ⇒ no effect</span></span><br><span class="line">str.foo  <span class="comment">// unknown property ⇒  undefined</span></span><br></pre></td></tr></table></figure>

<h3 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h3><h4 id="对象的类型"><a href="#对象的类型" class="headerlink" title="对象的类型"></a>对象的类型</h4><p>所有非原始值的值都是对象。最常见的几种对象类型是：</p>
<ul>
<li>简单对象（类型是<code>Object</code>）能通过对象字面量创建：</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    firstName: ‘Jane’, </span><br><span class="line">    lastName: ‘Doe’</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上面的对象有两个属性：<code>firstName</code>属性的值是“Jane”，<code>lastName</code>属性的值是“Doe”。</p>
<ul>
<li>数组（类型是<code>Array</code>）能通过数组字面量创建：</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">[ ‘apple’, ‘banana’, ‘cherry’ ]</span><br></pre></td></tr></table></figure>

<p>上面的数组有三个元素，可以通过数字索引访问。例如“apple”的索引是0。</p>
<ul>
<li>正则表达式对象（类型是<code>RegExp</code>）能通过正则表达式字面量创建。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">/^a+b+$/</span><br></pre></td></tr></table></figure>

<h4 id="对象的特征"><a href="#对象的特征" class="headerlink" title="对象的特征"></a>对象的特征</h4><ul>
<li><strong>比较的是引用</strong>：比较的是标识符，每个值有自己的标识符。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;&#125; === &#123;&#125;  <span class="comment">// 两个不同的空对象, false</span></span><br><span class="line"><span class="keyword">var</span> obj1 = &#123;&#125;;</span><br><span class="line"><span class="keyword">var</span> obj2 = obj1;</span><br><span class="line">obj1 === obj2   <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>默认可以更改</strong>。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line">obj.foo = <span class="number">123</span>;</span><br><span class="line">obj.foo <span class="comment">//123</span></span><br></pre></td></tr></table></figure>

<p>所有的数据结构（如数组）都是对象，但并不是所有的对象都是数据结构。例如：正则表达式是对象，但不是数据结构。</p>
<h3 id="undefined-和-null"><a href="#undefined-和-null" class="headerlink" title="undefined 和 null"></a>undefined 和 null</h3><p><code>JavaScript</code>有两个“无值）”：<code>undefined</code>和<code>null</code>。</p>
<p><code>undefined</code>的意思是“没有值”。未初始化的变量是<code>undefined</code>：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> foo;</span><br><span class="line">foo <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>
<p>读取不存在的属性时，将返回<code>undefined</code>：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&gt; <span class="keyword">var</span> obj = &#123;&#125;; <span class="comment">// 空对象</span></span><br><span class="line">&gt; obj.foo <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>

<p>缺省的参数也是<code>undefined</code>：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line">f(); <span class="comment">//undefined</span></span><br></pre></td></tr></table></figure>
<p><code>null</code>的意思是“没有对象”。它被用来表示对象的无值（参数，链上的对象等）。</p>
<p>通常情况下你应该把<code>undefined</code>和<code>null</code>看成是等价的，如果他们代表相同意义的无值的话。检查他们的一种方式是通过严格比较：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (x === <span class="literal">undefined</span> || x === <span class="literal">null</span>) &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>另一种在实际中使用的方法是认为undefined 和 null 都是false：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (!x) &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>警告</strong>：false，0，NaN 和 “” 都被当作false。</p>
</blockquote>
<h3 id="包装类型"><a href="#包装类型" class="headerlink" title="包装类型"></a>包装类型</h3><p>对象类型的实例<code>Foo</code>（包括内建类型，例如Array和其他自定义类型）从对象<code>Foo.prototype</code>上获取方法。你可以通过读取这个方法的方式（不是调用）验证这点：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">[].push === <span class="built_in">Array</span>.prototype.push  <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>相反，<strong>原始类型是没有类型的，所以每个原始类型有一个关联类型，称之为包装类型</strong>：</p>
<ul>
<li>布尔值的包装类型是 Boolean。布尔值从Boolean.prototype上获取方法：</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&gt; <span class="literal">true</span>.toString === <span class="built_in">Boolean</span>.prototype.toString    <span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意：包装类型名字的首字母是大写的B。如果在JavaScript中布尔值的类型可以访问，那么它可能会被转换为布尔对象。</p>
</blockquote>
<ul>
<li>数字值的包装类型是<code>Number</code>。</li>
<li>字符串值的包装类型是<code>String</code>。</li>
</ul>
<p>包装类型也有实例（他们的实例是对象），但不常用。相反，包装类型有其他用处：<strong>如果你将他们作为函数调用，他们可以将值转换为原始类型</strong>。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Number</span>(<span class="string">&#x27;123&#x27;</span>) <span class="comment">//123</span></span><br><span class="line"><span class="built_in">String</span>(<span class="literal">true</span>)  <span class="comment">//&#x27;true&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="通过typeof和instanceof将值分类"><a href="#通过typeof和instanceof将值分类" class="headerlink" title="通过typeof和instanceof将值分类"></a>通过typeof和instanceof将值分类</h3><p>有两个操作符可以用来将值分类：<code>typeof</code>主要用于原始值，<code>instanceof</code>主要用于对象。</p>
<h4 id="typeof-使用方法如下："><a href="#typeof-使用方法如下：" class="headerlink" title="typeof 使用方法如下："></a>typeof 使用方法如下：</h4><p><code>typeof «value»</code></p>
<p><code>typeof</code>返回描述<code>value</code>“类型”的一个字符串。例如：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typeof</span> <span class="literal">true</span> <span class="comment">//&#x27;boolean&#x27;</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="string">&#x27;abc&#x27;</span> <span class="comment">//&#x27;string&#x27;</span></span><br><span class="line"><span class="keyword">typeof</span> &#123;&#125; <span class="comment">// 空对象字面量,&#x27;object&#x27;</span></span><br><span class="line"><span class="keyword">typeof</span> [] <span class="comment">// 空数组字面量,&#x27;object&#x27;</span></span><br></pre></td></tr></table></figure>
<p>下面列出了<code>typeof</code>操作的所有结果：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">操作数 结果</span><br><span class="line">undefined	&#39;undefined&#39;</span><br><span class="line">null	&#39;object&#39;</span><br><span class="line">Boolean value	&#39;boolean&#39;</span><br><span class="line">Number value	&#39;number&#39;</span><br><span class="line">String value	&#39;string&#39;</span><br><span class="line">Function	&#39;function&#39;</span><br><span class="line">All other values	&#39;object&#39;</span><br></pre></td></tr></table></figure>

<p>有两个结果和我们上面说的的原始值与对象是矛盾的：</p>
<ul>
<li>函数的类型是<code>function</code>而不是<code>object</code>。因为函数（类型为“function”）是对象（类型是对象）的子类型，这不是一个错误。</li>
<li><code>null</code>的类型是<code>object</code>。这是一个bug，但从没被修复，因为修复后会破坏现有的代码。</li>
</ul>
<h4 id="instanceof使用方法如下："><a href="#instanceof使用方法如下：" class="headerlink" title="instanceof使用方法如下："></a>instanceof使用方法如下：</h4><p><code>«value» instanceof «Constr»</code></p>
<p>如果<code>value</code>是一个对象，并且<code>value</code> 是由构造函数<code>Constr</code>创建的（参考：类）。例如：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> b = <span class="keyword">new</span> Bar();  <span class="comment">// 通过构造函数Bar创建对象</span></span><br><span class="line">b <span class="keyword">instanceof</span> Bar    <span class="comment">//true</span></span><br><span class="line">&#123;&#125; <span class="keyword">instanceof</span> <span class="built_in">Object</span>    <span class="comment">//true</span></span><br><span class="line">[] <span class="keyword">instanceof</span> <span class="built_in">Array</span> <span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<h3 id="深入阅读"><a href="#深入阅读" class="headerlink" title="深入阅读"></a>深入阅读</h3><ul>
<li><a href="http://yanhaijing.com/javascript/2014/01/05/exploring-the-abyss-of-null-and-undefined-in-javascript/">探索JavaScript中Null和Undefined的深渊</a></li>
</ul>
<h2 id="五、布尔"><a href="#五、布尔" class="headerlink" title="五、布尔"></a>五、布尔</h2><p>布尔类型原始值包括<code>true</code>和<code>false</code>。下面的操作符会得到布尔值：</p>
<ul>
<li>二元逻辑运算符：&amp;&amp;（与），||（或）</li>
<li>前缀逻辑运算符：!（非）</li>
<li>等值运算符：=== !== == !=</li>
<li>比较运算符（字符串或数字）：&gt; &gt;= &lt; &lt;=</li>
</ul>
<h3 id="真值和假值"><a href="#真值和假值" class="headerlink" title="真值和假值"></a>真值和假值</h3><p>每当<code>JavaScript</code>希望一个布尔值时（例如：if语句的条件），可以使用任何值。它将被理解（转换）为<code>true</code>或<code>false</code>。下面的值被理解为<code>false</code>：</p>
<ul>
<li>undefined, null</li>
<li>布尔: false</li>
<li>数字: 0, NaN</li>
<li>字符串: ‘’</li>
</ul>
<p>所有其他值被认为<code>true</code>。被理解为<code>false</code>的值称为假值，被理解为<code>true</code>的值称为真值。可以使用<code>Boolean</code>作为函数，测试值被理解为什么。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Boolean</span>(<span class="literal">undefined</span>)  <span class="comment">//false</span></span><br><span class="line"><span class="built_in">Boolean</span>(<span class="number">0</span>)    <span class="comment">//false</span></span><br><span class="line"><span class="built_in">Boolean</span>(<span class="number">3</span>)    <span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<h3 id="二元逻辑运算符"><a href="#二元逻辑运算符" class="headerlink" title="二元逻辑运算符"></a>二元逻辑运算符</h3><p><code>JavaScript</code>中的<strong>二元逻辑运算符是短路运算</strong>——如果第一个操作数可以确定结果，第二个操作数将不被验证（运算）。例如，在下面的代码中，函数<code>foo()</code>永远不会被调用。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="literal">false</span> &amp;&amp; foo()</span><br><span class="line"><span class="literal">true</span> || foo()</span><br></pre></td></tr></table></figure>

<p>此外，<strong>二元逻辑运算符会返回操作数中的一个</strong>，可能是一个布尔值，也可能不是。</p>
<ul>
<li><strong>与</strong>：如果第一个操作数是假值，返回第一个。否则返回第二个操作数。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="literal">NaN</span> &amp;&amp; <span class="string">&#x27;abc&#x27;</span>    <span class="comment">//NaN</span></span><br><span class="line"><span class="number">123</span> &amp;&amp; <span class="string">&#x27;abc&#x27;</span>    <span class="comment">//&#x27;abc&#x27;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>或</strong>：如果第一个操作数是真值，返回第一个。否则，返回第二个操作数。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="string">&#x27;abc&#x27;</span> || <span class="number">123</span>    <span class="comment">//&#x27;abc&#x27;</span></span><br><span class="line"><span class="string">&#x27;&#x27;</span> || <span class="number">123</span>   <span class="comment">//123</span></span><br></pre></td></tr></table></figure>

<h3 id="等值运算符"><a href="#等值运算符" class="headerlink" title="等值运算符"></a>等值运算符</h3><p>在<code>JavaScript</code>中检测相等，你可以使用严格相等（<code>===</code>）和严格不等（<code>!==</code>）。或者你也可以使用非严格相等（<code>==</code>）和非严格不等（<code>!=</code>）。</p>
<blockquote>
<p><strong>经验规则：总是用严格运算符，假装非严格运算符不存在。严格相等更安全。</strong></p>
</blockquote>
<h3 id="深入阅读-1"><a href="#深入阅读-1" class="headerlink" title="深入阅读"></a>深入阅读</h3><ul>
<li><a href="http://yanhaijing.com/javascript/2014/04/25/strict-equality-exemptions/">在JavaScript中什么时候使用==是正确的？</a></li>
</ul>
<h2 id="六、数字"><a href="#六、数字" class="headerlink" title="六、数字"></a>六、数字</h2><p><code>JavaScript</code>中的<strong>所有数字都是浮点型</strong>（虽然大部分的JavaScript引擎内部也使用整数）。至于为什么这样设计，查看这里（<a href="http://yanhaijing.com/javascript/2014/03/14/what-every-javascript-developer-should-know-about-floating-points">每一个JavaScript开发者应该了解的浮点知识</a>）。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span> === <span class="number">1.0</span>   <span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<p>特殊数字：</p>
<ul>
<li><code>NaN</code> (“不是一个数字 not a number”): 错误值。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Number</span>(<span class="string">&#x27;xyz&#x27;</span>)  <span class="comment">// &#x27;xyz&#x27; 不能被转换为数字得到:NaN</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>Infinity</code>：也是最大错误值（无穷大）</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="number">3</span> / <span class="number">0</span>   <span class="comment">//Infinity</span></span><br><span class="line"><span class="built_in">Math</span>.pow(<span class="number">2</span>, <span class="number">1024</span>)  <span class="comment">// 数字太大了,得到Infinity</span></span><br></pre></td></tr></table></figure>

<p><code>Infinity</code>有时很有用，因为它比任何其他数字都大。同样，<code>-Infinity</code> 比其他任何数字都小。</p>
<ul>
<li><code>JavaScript</code>有两个零，<code>+0</code>和<code>-0</code>。它（js引擎）通常不让你看到，并简单将两个零都显示为0：</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">+<span class="number">0</span>  <span class="comment">//0</span></span><br><span class="line">-<span class="number">0</span>  <span class="comment">//0</span></span><br></pre></td></tr></table></figure>

<p>因此最好假装只有一个零（正如我们看到假值时所做的那样：**-0 和 +0 都是假值**）。</p>
<h3 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h3><p><code>JavaScript</code>中有下列算数运算符：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">加: number1 + number2</span><br><span class="line">减: number1 - number2</span><br><span class="line">乘: number1 * number2</span><br><span class="line">除: number1 / number2</span><br><span class="line">模: number1 % number2</span><br><span class="line">自增: ++variable, variable++</span><br><span class="line">自减: –variable, variable–</span><br><span class="line">负值: -value</span><br><span class="line">正值（转换为数字）: +value</span><br></pre></td></tr></table></figure>

<p>全局对象<code>Math</code>通过函数提供更多算数运算操作。</p>
<p><code>JavaScript</code>中也有位运算符（例如：&amp;）。</p>
<h2 id="七、字符串"><a href="#七、字符串" class="headerlink" title="七、字符串"></a>七、字符串</h2><p>字符串可以直接通过字符串字面量创建。这些字面量被单引号或双引号包裹。反斜线（\）转义字符并且产生一些控制字符。例如：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="string">&#x27;abc&#x27;</span></span><br><span class="line"><span class="string">&quot;abc&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;Did she say &quot;Hello&quot;?&#x27;</span></span><br><span class="line"><span class="string">&quot;Did she say \&quot;Hello\&quot;?&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;That\&#x27;s nice!&#x27;</span></span><br><span class="line"><span class="string">&quot;That&#x27;s nice!&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;Line 1\nLine 2&#x27;</span>  <span class="comment">// 换行</span></span><br><span class="line"><span class="string">&#x27;Backlash: \\&#x27;</span></span><br></pre></td></tr></table></figure>

<p>可以通过方括号访问单个字符：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;abc&#x27;</span>;</span><br><span class="line">str[<span class="number">1</span>]    <span class="comment">//&#x27;b&#x27;</span></span><br></pre></td></tr></table></figure>
<p><code>length</code>属性是字符串的字符数量。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="string">&#x27;abc&#x27;</span>.length  <span class="comment">//3</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>提醒</strong>：字符串是不可变的，如果你想改变现有字符串，你需要创建一个新的字符串。</p>
</blockquote>
<h3 id="字符串运算符"><a href="#字符串运算符" class="headerlink" title="字符串运算符"></a>字符串运算符</h3><p>字符串可以通过加号操作符（+）拼接，如果其中一个操作数为字符串，会将另一个操作数也转换为字符串。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> msgCount = <span class="number">3</span>;</span><br><span class="line"><span class="string">&#x27;You have &#x27;</span>+ msgCount + <span class="string">&#x27; messages&#x27;</span> <span class="comment">//&#x27;You have 3 messages&#x27;</span></span><br></pre></td></tr></table></figure>

<p>连续执行拼接操作可以使用<code>+=</code>操作符：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">str += <span class="string">&#x27;Multiple &#x27;</span>;</span><br><span class="line">str += <span class="string">&#x27;pieces &#x27;</span>;</span><br><span class="line">str += <span class="string">&#x27;are concatenated.&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str); <span class="comment">//&#x27;Multiple pieces are concatenated.&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="字符串方法"><a href="#字符串方法" class="headerlink" title="字符串方法"></a>字符串方法</h3><p>字符串有许多有用的方法。例如：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="string">&#x27;abc&#x27;</span>.slice(<span class="number">1</span>)  <span class="comment">// 复制子字符串,得到索引1及其之后的字符串，即：&#x27;bc&#x27;</span></span><br><span class="line"><span class="string">&#x27;abc&#x27;</span>.slice(<span class="number">1</span>, <span class="number">2</span>)   <span class="comment">//得到索引1和2之间的字符串，即：&#x27;b&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;\t xyz  &#x27;</span>.trim()  <span class="comment">// 移除空白字符，即：&#x27;xyz&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;mjölnir&#x27;</span>.toUpperCase()   <span class="comment">//转成大写，即：&#x27;MJÖLNIR&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;abc&#x27;</span>.indexOf(<span class="string">&#x27;b&#x27;</span>)  <span class="comment">// 查找第一个b的索引，即：1</span></span><br><span class="line"><span class="string">&#x27;abc&#x27;</span>.indexOf(<span class="string">&#x27;x&#x27;</span>)    <span class="comment">//没有返回-1</span></span><br></pre></td></tr></table></figure>

<h2 id="八、语句"><a href="#八、语句" class="headerlink" title="八、语句"></a>八、语句</h2><h3 id="条件（Conditionals）"><a href="#条件（Conditionals）" class="headerlink" title="条件（Conditionals）"></a>条件（Conditionals）</h3><p><code>if</code>语句通过布尔条件决定执行那个分支：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (myvar === <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="comment">// then</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (myvar === <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="comment">// then</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// else</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (myvar === <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="comment">// then</span></span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (myvar === <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="comment">// else-if</span></span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (myvar === <span class="number">2</span>) &#123;</span><br><span class="line">    <span class="comment">// else-if</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// else</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>下面的<code>switch</code>语句，furit的值决定那个分支被执行。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">switch</span> (fruit) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;banana&#x27;</span>:</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;apple&#x27;</span>:</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:  <span class="comment">// 所有其他情况</span></span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="循环（Loops）"><a href="#循环（Loops）" class="headerlink" title="循环（Loops）"></a>循环（Loops）</h3><p>for 循环的格式如下：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(初始化; 当条件成立时循环; 下一步操作)</span><br></pre></td></tr></table></figure>

<p>例子：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(arr[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>当条件成立时<code>while</code>循环继续循环它的循环体。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 和上面的for循环相等</span></span><br><span class="line"><span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (i &lt; arr.length) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(arr[i]);</span><br><span class="line">    i++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>当条件成立时，<code>do-while</code>循环继续循环。由于条件位于循环体之后，所以循环体总是被至少至少执行一次。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125; <span class="keyword">while</span>(条件);</span><br></pre></td></tr></table></figure>

<p>在所有的循环中：</p>
<ul>
<li>break中断循环</li>
<li>continue开始一个新的循环迭代</li>
</ul>
<h2 id="九、函数"><a href="#九、函数" class="headerlink" title="九、函数"></a>九、函数</h2><p>定义函数的一种方法是通过函数声明：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">param1, param2</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> param1 + param2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上面的代码定义一个名称叫做<code>add</code>的函数，有两个参数<code>param1</code>和<code>param2</code>，并且返回参数的和。下面是如何调用这个函数：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">add(<span class="number">6</span>, <span class="number">1</span>)   <span class="comment">//7</span></span><br><span class="line">add(<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>)   <span class="comment">//&#x27;ab&#x27;</span></span><br></pre></td></tr></table></figure>

<p>另一种定义<code>add()</code>函数的方法是通过函数表达式：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> add = <span class="function"><span class="keyword">function</span> (<span class="params">param1, param2</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> param1 + param2;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>函数表达式产生一个值，因此可以直接将函数作为参数传递给其他函数：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">someOtherFunction(<span class="function"><span class="keyword">function</span> (<span class="params">p1, p2</span>) </span>&#123; ... &#125;);</span><br></pre></td></tr></table></figure>

<h3 id="函数声明提升"><a href="#函数声明提升" class="headerlink" title="函数声明提升"></a>函数声明提升</h3><p>函数声明会被提升，他们全被移动到当前作用域开始之处。这允许你在函数声明之前调用它们：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    bar();  <span class="comment">// 没问题，bar被提升</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>注意</strong>：虽然变量声明也会被提升，但赋值的过程不会被提升：</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    bar();  <span class="comment">// 有问题，bar是undefined</span></span><br><span class="line">    <span class="keyword">var</span> bar = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="特殊变量参数"><a href="#特殊变量参数" class="headerlink" title="特殊变量参数"></a>特殊变量参数</h3><p><strong>在<code>JavaScript</code>中你可以调用任意函数并传递任意数量的参数</strong>——语言绝不会“抱怨”（参数检测）。都可以正常工作，然而，使所有参数可访问需要通过特殊变量<code>arguments</code>。<code>arguments</code>看起来像数组，但它没有数组的方法（称为类数组 array-like）。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123; <span class="keyword">return</span> <span class="built_in">arguments</span> &#125;</span><br><span class="line"><span class="keyword">var</span> args = f(<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>);</span><br><span class="line">args.length <span class="comment">//3</span></span><br><span class="line">args[<span class="number">0</span>]  <span class="comment">// 获取索引为0的元素,&#x27;a&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="太多或太少参数"><a href="#太多或太少参数" class="headerlink" title="太多或太少参数"></a>太多或太少参数</h3><p>让我们通过下面的函数探索<code>JavaScript</code>中传递太多或太少参数时如何处理</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(x, y);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>多出的参数将被忽略（可以通过<code>arguments</code>访问）：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">f(<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>)    <span class="comment">//a b</span></span><br></pre></td></tr></table></figure>

<p>缺少的参数将会是<code>undefined</code>：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">f(<span class="string">&#x27;a&#x27;</span>)    <span class="comment">//a undefined</span></span><br><span class="line">f() <span class="comment">//undefined undefined</span></span><br></pre></td></tr></table></figure>

<h3 id="可选参数"><a href="#可选参数" class="headerlink" title="可选参数"></a>可选参数</h3><p>下面是一个常见模式，给参数设置默认值：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">pair</span>(<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">    x = x || <span class="number">0</span>;  <span class="comment">// (*)</span></span><br><span class="line">    y = y || <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> [ x, y ];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在<code>（*）</code>这行，如果x是真值（除了：<code>null</code>，<code>undefined</code> 等），         操作符返回x。否则，它返回第二个操作数。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">pair()  <span class="comment">//[ 0, 0 ]</span></span><br><span class="line">pair(<span class="number">3</span>) <span class="comment">//[ 3, 0 ]</span></span><br><span class="line">pair(<span class="number">3</span>, <span class="number">5</span>)  <span class="comment">//[ 3, 5 ]</span></span><br></pre></td></tr></table></figure>

<h3 id="强制数量"><a href="#强制数量" class="headerlink" title="强制数量"></a>强制数量</h3><p>如果你想强制参数的数量，你可以检测<code>arguments.length</code>：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">pair</span>(<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">arguments</span>.length !== <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;Need exactly 2 arguments&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="将arguments-转换为数组"><a href="#将arguments-转换为数组" class="headerlink" title="将arguments 转换为数组"></a>将arguments 转换为数组</h3><p><code>arguments</code>不是一个数组，它仅仅是类数组（array-like）：它有一个<code>length</code>属性，并且你可以通过方括号索引方式访问它的元素。然而，你不能移除元素，或在它上面调用任何数组方法。因此，有时你需要将其转换为数组。这就是下面函数的作用。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">toArray</span>(<span class="params">arrayLikeObject</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> [].slice.call(arrayLikeObject);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="十、异常处理"><a href="#十、异常处理" class="headerlink" title="十、异常处理"></a>十、异常处理</h2><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/try...catch">异常处理</a>最常见的方式像下面这样：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throwException</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;Problem!&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    throwException();</span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e);  <span class="comment">// 错误：信息</span></span><br><span class="line">    <span class="built_in">console</span>.log(e.stack);  <span class="comment">// 非标准，但大部分浏览器支持</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>try分支包裹易出错的代码，如果try分支内部抛出异常，catch分支将会执行。</p>
<h2 id="十一、严格模式"><a href="#十一、严格模式" class="headerlink" title="十一、严格模式"></a>十一、严格模式</h2><p>严格模式开启检测和一些其他措施，使<code>JavaScript</code>变成更整洁的语言。推荐使用严格模式。为了开启严格模式，只需在<code>JavaScript</code>文件或<code>script</code>标签第一行添加如下语句：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="meta">&#x27;use strict&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>你也可以在每个函数上选择性开启严格模式，只需将上面的代码放在函数的开头：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">functionInStrictMode</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="meta">    &#x27;use strict&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>下面的两小节看下严格模式的三大好处。</p>
<h3 id="明确错误"><a href="#明确错误" class="headerlink" title="明确错误"></a>明确错误</h3><p>让我们看一个例子，严格模式给我们明确的错误，否则<code>JavaScript</code>总是静默失败：下面的函数<code>f()</code> 执行一些非法操作，它试图更改所有字符串都有的只读属性——<code>length</code>：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="string">&#x27;abc&#x27;</span>.length = <span class="number">5</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>当你调用上面的函数，它静默失败，赋值操作被简单忽略。让我们将<code>f()</code>在严格模式下运行：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f_strict</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="meta">    &#x27;use strict&#x27;</span>;</span><br><span class="line">    <span class="string">&#x27;abc&#x27;</span>.length = <span class="number">5</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>现在浏览器报给我们一些错误：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">f_strict()  <span class="comment">// TypeError: Cannot assign to read only property &#x27;length&#x27; of abc</span></span><br></pre></td></tr></table></figure>

<h3 id="不是方法的函数中的this"><a href="#不是方法的函数中的this" class="headerlink" title="不是方法的函数中的this"></a>不是方法的函数中的this</h3><p>在严格模式下，不作为方法的函数中的<code>this</code>值是<code>undefined</code>：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f_strict</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="meta">    &#x27;use strict&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(f_strict() === <span class="literal">undefined</span>);  <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>在非严格模式下，<code>this</code>的值是被称作全局对象（<code>global object</code>）（在浏览器里是<code>window</code>）：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(f() === <span class="built_in">window</span>);  <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h3 id="不再自动创建全局变量"><a href="#不再自动创建全局变量" class="headerlink" title="不再自动创建全局变量"></a>不再自动创建全局变量</h3><p>在非严格模式下，如果你给不存在的变量赋值，<code>JavaScript</code>会自动创建一个全局变量：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123; foo = <span class="number">5</span> &#125;</span><br><span class="line">f()  <span class="comment">// 不会报错</span></span><br><span class="line">foo <span class="comment">// 5</span></span><br></pre></td></tr></table></figure>
<p>在严格模式下，这会产生一个错误：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f_strict</span>(<span class="params"></span>) </span>&#123; <span class="string">&#x27;use strict&#x27;</span>; foo2 = <span class="number">4</span>; &#125;</span><br><span class="line">f_strict()  <span class="comment">// ReferenceError: foo2 is not defined</span></span><br></pre></td></tr></table></figure>

<h3 id="深入阅读-2"><a href="#深入阅读-2" class="headerlink" title="深入阅读"></a>深入阅读</h3><ul>
<li><a href="http://yanhaijing.com/javascript/2013/12/28/demystifying-this-in-javascript">揭秘javascript中谜一样的this</a></li>
<li><a href="http://yanhaijing.com/javascript/2014/04/30/javascript-this-keyword">JavaScript中的this关键字</a></li>
</ul>
<h2 id="十二、变量作用域和闭包"><a href="#十二、变量作用域和闭包" class="headerlink" title="十二、变量作用域和闭包"></a>十二、变量作用域和闭包</h2><p>在<code>JavaScript</code>中，你必须使用变量之前，通过<code>var</code>声明变量：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> x;</span><br><span class="line">x = <span class="number">3</span>;</span><br><span class="line">y = <span class="number">4</span>;  <span class="comment">// ReferenceError: y is not defined</span></span><br></pre></td></tr></table></figure>

<p>你可以用一条<code>var</code>语句声明和初始化多个变量：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">1</span>, y = <span class="number">2</span>, z = <span class="number">3</span>;</span><br></pre></td></tr></table></figure>

<p>但我建议每个变量使用一条语句。因此，我将上面的语句重写为：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">var</span> y = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">var</span> z = <span class="number">3</span>;</span><br></pre></td></tr></table></figure>

<p>由于提升（见下文），最好在函数顶部声明变量。</p>
<h3 id="变量和函数作用域"><a href="#变量和函数作用域" class="headerlink" title="变量和函数作用域"></a>变量和函数作用域</h3><p>变量的作用域总是整个函数（没有块级作用域）。例如：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> x = -<span class="number">3</span>;</span><br><span class="line">    <span class="keyword">if</span> (x &lt; <span class="number">0</span>) &#123;  <span class="comment">// (*)</span></span><br><span class="line">        <span class="keyword">var</span> tmp = -x;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(tmp);  <span class="comment">// 3</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>我们可以看到tmp变量不仅在（*）所在行的语句块存在，它在整个函数内都存在。</p>
<h3 id="变量提升"><a href="#变量提升" class="headerlink" title="变量提升"></a>变量提升</h3><p>变量声明会被提升：声明会被移到函数的顶部，但赋值过程不会。举个例子，在下面的函数中<code>（*）</code>行位置声明了一个变量。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(tmp); <span class="comment">// undefined</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="literal">false</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> tmp = <span class="number">3</span>;  <span class="comment">// (*)</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在内部，上面的函数被执行像下面这样：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> tmp;  <span class="comment">// declaration is hoisted</span></span><br><span class="line">    <span class="built_in">console</span>.log(tmp);</span><br><span class="line">    <span class="keyword">if</span> (<span class="literal">false</span>) &#123;</span><br><span class="line">        tmp = <span class="number">3</span>;  <span class="comment">// assignment stays put</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h3><p>每个函数保持和函数体内部变量的连接，甚至离开创建它的作用域之后。例如：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createIncrementor</span>(<span class="params">start</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;  <span class="comment">// (*)</span></span><br><span class="line">        <span class="keyword">return</span> start++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在<code>（*）</code>行开始的函数在它创建时保留上下文，并在内部保存一个<code>start</code>活动值：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> inc = createIncrementor(<span class="number">5</span>);</span><br><span class="line">inc()   <span class="comment">// 5</span></span><br><span class="line">inc() <span class="comment">// 6</span></span><br><span class="line">inc()   <span class="comment">// 7</span></span><br></pre></td></tr></table></figure>

<p>闭包是一个函数加上和其作用域链的链接。因此，<code>createIncrementor()</code>返回的是一个闭包。</p>
<h3 id="IIFE：模拟块级作用域"><a href="#IIFE：模拟块级作用域" class="headerlink" title="IIFE：模拟块级作用域"></a>IIFE：模拟块级作用域</h3><p>有时你想模拟一个块，例如你想将变量从全局作用域隔离。完成这个工作的模式叫做 <code>IIFE</code>(立即执行函数表达式(<code>Immediately Invoked Function Expression</code>))：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;  <span class="comment">// 块开始</span></span><br><span class="line">    <span class="keyword">var</span> tmp = ...;  <span class="comment">// 非全局变量</span></span><br><span class="line">&#125;());  <span class="comment">// 块结束</span></span><br></pre></td></tr></table></figure>

<p>上面你会看到函数表达式被立即执行。外面的括号用来阻止它被解析成函数声明；只有函数表达式能被立即调用。函数体产生一个新的作用域并使<code>tmp</code>变为局部变量。</p>
<h3 id="闭包实现变量共享"><a href="#闭包实现变量共享" class="headerlink" title="闭包实现变量共享"></a>闭包实现变量共享</h3><p>下面是个经典问题，如果你不知道，会让你费尽思量。因此，先浏览下，对问题有个大概的了解。</p>
<p>闭包保持和外部变量的连接，有时可能和你想像的行为不一致：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> result = [];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">    result.push(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; <span class="keyword">return</span> i &#125;);  <span class="comment">// (*)</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(result[<span class="number">1</span>]()); <span class="comment">// 5 (不是 1)</span></span><br><span class="line"><span class="built_in">console</span>.log(result[<span class="number">3</span>]()); <span class="comment">// 5 (不是 3)</span></span><br></pre></td></tr></table></figure>

<p><code>(*)</code>行的返回值总是当前的i值，而不是当函数被创建时的i值。当循环结束后，i的值是5，这是为什么数组中的所有函数的返回值总是一样的。如果你想捕获当前变量的快照，你可以使用<code>IIFE</code>：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">    (<span class="function"><span class="keyword">function</span> (<span class="params">i2</span>) </span>&#123;</span><br><span class="line">        result.push(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; <span class="keyword">return</span> i2 &#125;);</span><br><span class="line">    &#125;(i));  <span class="comment">// 复制当前的i</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>深入阅读</p>
<ul>
<li><a href="http://yanhaijing.com/javascript/2013/08/30/understanding-scope-and-context-in-javascript">认识javascript中的作用域和上下文</a></li>
<li><a href="http://yanhaijing.com/javascript/2014/04/30/JavaScript-Scoping-and-Hoisting">JavaScript的作用域和提升机制</a></li>
<li><a href="http://yanhaijing.com/javascript/2014/04/29/what-is-the-execution-context-in-javascript">了解JavaScript的执行上下文</a></li>
</ul>
<h2 id="十三、对象和继承"><a href="#十三、对象和继承" class="headerlink" title="十三、对象和继承"></a>十三、对象和继承</h2><p>和所有的值类型一样，对象有属性。事实上，你可以将对象当作一组属性的集合，每个属性都是一对（键和值）。键是字符串，值可以是任意<code>JavaScript</code>值。到目前为止，我们仅仅见过键是标识符的属性，因为点操作符处理的键必须为标识符。在这节，你讲见到另一种访问属性的方法，能将任意字符串作为键。</p>
<h3 id="单个对象"><a href="#单个对象" class="headerlink" title="单个对象"></a>单个对象</h3><p>在<code>JavaScript</code>中，你可以直接创建对象，通过对象字面量：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> jane = &#123;</span><br><span class="line">    name: <span class="string">&#x27;Jane&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    describe: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="meta">        &#x27;use strict&#x27;</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;Person named &#x27;</span>+<span class="built_in">this</span>.name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>上面的对象有两个属性：<code>name</code>和<code>describe</code>。你能读（“get”）和 写（“set”）属性：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">jane.name  <span class="comment">// get，&#x27;Jane&#x27;</span></span><br><span class="line">jane.name = <span class="string">&#x27;John&#x27;</span>;  <span class="comment">// set</span></span><br><span class="line">jane.newProperty = <span class="string">&#x27;abc&#x27;</span>;  <span class="comment">// 自动创建</span></span><br></pre></td></tr></table></figure>

<p>属性是函数如<code>describe</code>可以被当作方法调用。当调用他们时可以在它们内部通过this引用对象。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">jane.describe()  <span class="comment">// 调用方法,&#x27;Person named John&#x27;</span></span><br><span class="line">jane.name = <span class="string">&#x27;Jane&#x27;</span>;</span><br><span class="line">jane.describe() <span class="comment">// &#x27;Person named Jane&#x27;</span></span><br></pre></td></tr></table></figure>

<p><code>in</code>操作符用来检测一个属性是否存在：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="string">&#x27;newProperty&#x27;</span> <span class="keyword">in</span> jane   <span class="comment">// true</span></span><br><span class="line"><span class="string">&#x27;foo&#x27;</span> <span class="keyword">in</span> jane   <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<p>若读取一个不存在的属性，将会得到<code>undefined</code>值。因此上面的两个检查也可以像下面这样：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">jane.newProperty !== <span class="literal">undefined</span>  <span class="comment">// true</span></span><br><span class="line">jane.foo !== <span class="literal">undefined</span>  <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<p><code>delete</code>操作符用来删除一个属性：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">delete</span> jane.newProperty <span class="comment">//true</span></span><br><span class="line"><span class="string">&#x27;newProperty&#x27;</span> <span class="keyword">in</span> jane   <span class="comment">//false</span></span><br></pre></td></tr></table></figure>

<h3 id="任意键属性"><a href="#任意键属性" class="headerlink" title="任意键属性"></a>任意键属性</h3><p>属性的键可以是任意字符串。到目前为止，我们看到的对象字面量中的和点操作符后的属性关键字。按这种方法你只能使用标识符。如果你想用其他任意字符串作为键名，你必须在对象字面量里加上引号，并使用方括号获取和设置属性。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123; <span class="string">&#x27;not an identifier&#x27;</span>: <span class="number">123</span> &#125;;</span><br><span class="line">obj[<span class="string">&#x27;not an identifier&#x27;</span>]    <span class="comment">//123</span></span><br><span class="line">obj[<span class="string">&#x27;not an identifier&#x27;</span>] = <span class="number">456</span>;</span><br></pre></td></tr></table></figure>

<p>方括号允许你动态计算属性关键字：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="string">&#x27;name&#x27;</span>;</span><br><span class="line">jane[x]; <span class="comment">// &#x27;Jane&#x27;</span></span><br><span class="line">jane[<span class="string">&#x27;na&#x27;</span>+<span class="string">&#x27;me&#x27;</span>]; <span class="comment">// &#x27;Jane&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="引用方法"><a href="#引用方法" class="headerlink" title="引用方法"></a>引用方法</h3><p>如果你引用一个方法，它将失去和对象的连接。就其本身而言，函数不是方法，其中的<code>this</code>值为<code>undefined</code>（严格模式下）。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> func = jane.describe;</span><br><span class="line">func()  <span class="comment">// TypeError: Cannot read property &#x27;name&#x27; of undefined</span></span><br></pre></td></tr></table></figure>

<p>解决办法是使用函数内置的<code>bind()</code>方法。它创建一个新函数，其<code>this</code>值固定为给定的值。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> func2 = jane.describe.bind(jane);</span><br><span class="line">func2() <span class="comment">// &#x27;Person named Jane&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="方法内部的函数"><a href="#方法内部的函数" class="headerlink" title="方法内部的函数"></a>方法内部的函数</h3><p>每个函数都有一个特殊变量<code>this</code>。如果你在方法内部嵌入函数是很不方便的，因为你不能从函数中访问方法的<code>this</code>。下面是一个例子，我们调用<code>forEach</code>循环一个数组：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> jane = &#123;</span><br><span class="line">    name: <span class="string">&#x27;Jane&#x27;</span>,</span><br><span class="line">    friends: [ <span class="string">&#x27;Tarzan&#x27;</span>, <span class="string">&#x27;Cheeta&#x27;</span> ],</span><br><span class="line">    logHiToFriends: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="meta">        &#x27;use strict&#x27;</span>;</span><br><span class="line">        <span class="built_in">this</span>.friends.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">friend</span>) </span>&#123;</span><br><span class="line">            <span class="comment">// 这里的“this”是undefined</span></span><br><span class="line">            <span class="built_in">console</span>.log(<span class="built_in">this</span>.name + <span class="string">&#x27; says hi to &#x27;</span> + friend);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>调用<code>logHiToFriends</code>会产生错误：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">jane.logHiToFriends()   <span class="comment">// TypeError: Cannot read property &#x27;name&#x27; of undefined</span></span><br></pre></td></tr></table></figure>

<p>有两种方法修复这问题。</p>
<ul>
<li>将<code>this</code>存储在不同的变量。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">logHiToFriends: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="meta">    &#x27;use strict&#x27;</span>;</span><br><span class="line">    <span class="keyword">var</span> that = <span class="built_in">this</span>;</span><br><span class="line">    <span class="built_in">this</span>.friends.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">friend</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(that.name + <span class="string">&#x27; says hi to &#x27;</span> + friend);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>forEach的第二个参数允许提供<code>this</code>值。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">logHiToFriends: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="meta">    &#x27;use strict&#x27;</span>;</span><br><span class="line">    <span class="built_in">this</span>.friends.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">friend</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.name + <span class="string">&#x27; says hi to &#x27;</span> + friend);</span><br><span class="line">    &#125;, <span class="built_in">this</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在<code>JavaScript</code>中函数表达式经常被用作函数参数。时刻小心函数表达式中的<code>this</code>。</p>
<h3 id="构造函数：对象工厂"><a href="#构造函数：对象工厂" class="headerlink" title="构造函数：对象工厂"></a>构造函数：对象工厂</h3><p>除了作为“真正”的函数和方法，函数还在JavaScript中扮演第三种角色：<strong>如果通过new操作符调用，他们会变为构造函数，对象的工厂</strong>。构造函数是对其他语言中的类的粗略模拟。约定俗成，构造函数的第一个字母大写。例如：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 设置实例数据</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Point</span>(<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.x = x;</span><br><span class="line">    <span class="built_in">this</span>.y = y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 方法</span></span><br><span class="line">Point.prototype.dist = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.sqrt(<span class="built_in">this</span>.x*<span class="built_in">this</span>.x + <span class="built_in">this</span>.y*<span class="built_in">this</span>.y);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>我们看到构造函数分为两部分：首先，<code>Point</code>函数设置实例数据。其次，<code>Point.prototype</code>属性包含对象的方法。前者的数据是每个实例私有的，后面的数据是所有实例共享的。</p>
<p>我们通过new操作符调用<code>Point</code>：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> Point(<span class="number">3</span>, <span class="number">5</span>);</span><br><span class="line">p.x <span class="comment">//3</span></span><br><span class="line">p.dist();    <span class="comment">//5.830951894845301</span></span><br></pre></td></tr></table></figure>

<p>p是<code>Point</code>的一个实例：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">p <span class="keyword">instanceof</span> Point  <span class="comment">//true</span></span><br><span class="line"><span class="keyword">typeof</span> p    <span class="comment">//&#x27;object&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="深入阅读-3"><a href="#深入阅读-3" class="headerlink" title="深入阅读"></a>深入阅读</h3><ul>
<li><a href="http://yanhaijing.com/javascript/2013/08/23/javascript-inheritance-how-to-shoot-yourself-in-the-foot-with-prototypes">Javascript继承 原型的陷阱</a></li>
<li><a href="http://yanhaijing.com/javascript/2013/08/30/encapsulation-of-javascript">Javascript 封装问题</a></li>
</ul>
<h2 id="十四、数组"><a href="#十四、数组" class="headerlink" title="十四、数组"></a>十四、数组</h2><p>数组是数组元素的序列，能通过整数索引方法数组元素，数组索引从0开始。</p>
<h3 id="数组字面量"><a href="#数组字面量" class="headerlink" title="数组字面量"></a>数组字面量</h3><p>数组字面量创建数组很方便：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&gt; <span class="keyword">var</span> arr = [ <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span> ];</span><br></pre></td></tr></table></figure>

<p>上面的数组有三个元素：分别是字符串“a”，“b”， “c”。你可以通过整数索引访问它们：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">arr[<span class="number">0</span>]  <span class="comment">//&#x27;a&#x27;</span></span><br><span class="line">arr[<span class="number">0</span>] = <span class="string">&#x27;x&#x27;</span>;</span><br><span class="line">arr</span><br><span class="line"><span class="comment">// [ &#x27;x&#x27;, &#x27;b&#x27;, &#x27;c&#x27; ]</span></span><br></pre></td></tr></table></figure>

<p><code>length</code>属性总表示一个数组有多少项元素。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">arr.length    <span class="comment">//3</span></span><br></pre></td></tr></table></figure>

<p>除此之外它也可以用来从数组上移除尾部元素：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">arr.length = <span class="number">2</span>; </span><br><span class="line">arr <span class="comment">// [ &#x27;x&#x27;, &#x27;b&#x27; ]</span></span><br></pre></td></tr></table></figure>

<p><code>in</code>操作符也可以在数组上工作。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span> <span class="keyword">in</span> arr <span class="comment">// arr在索引为1处是否有元素？,true</span></span><br><span class="line"><span class="number">5</span> <span class="keyword">in</span> arr <span class="comment">// arr在索引为5处是否有元素？false</span></span><br></pre></td></tr></table></figure>

<p>值得注意的是数组是对象，因此可以有对象属性：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">arr.foo = <span class="number">123</span>;</span><br><span class="line">arr.foo   <span class="comment">// 123</span></span><br></pre></td></tr></table></figure>

<h3 id="数组方法"><a href="#数组方法" class="headerlink" title="数组方法"></a>数组方法</h3><p>数组有许多方法。举些例子：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [ <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span> ];</span><br><span class="line"></span><br><span class="line">arr.slice(<span class="number">1</span>, <span class="number">2</span>)  <span class="comment">// 复制元素，[ &#x27;b&#x27; ]</span></span><br><span class="line">arr.slice(<span class="number">1</span>)    <span class="comment">// [ &#x27;b&#x27;, &#x27;c&#x27; ]</span></span><br><span class="line"></span><br><span class="line">arr.push(<span class="string">&#x27;x&#x27;</span>)  <span class="comment">// 在末尾添加一个元素，4</span></span><br><span class="line">arr <span class="comment">// [ &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;x&#x27; ]</span></span><br><span class="line"></span><br><span class="line">arr.pop()  <span class="comment">// 移除最后一个元素，&#x27;x&#x27;</span></span><br><span class="line">arr   <span class="comment">// [ &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27; ]</span></span><br><span class="line"></span><br><span class="line">arr.shift()  <span class="comment">// 移除第一个元素，&#x27;a&#x27;</span></span><br><span class="line">arr <span class="comment">// [ &#x27;b&#x27;, &#x27;c&#x27; ]</span></span><br><span class="line"></span><br><span class="line">arr.unshift(<span class="string">&#x27;x&#x27;</span>)  <span class="comment">// 在前面添加一个元素，3</span></span><br><span class="line">arr <span class="comment">// [ &#x27;x&#x27;, &#x27;b&#x27;, &#x27;c&#x27; ]</span></span><br><span class="line"></span><br><span class="line">arr.indexOf(<span class="string">&#x27;b&#x27;</span>)  <span class="comment">// 查找给定项在数组中的索引，若不存在返回-1，</span></span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line">arr.indexOf(<span class="string">&#x27;y&#x27;</span>)  <span class="comment">// -1</span></span><br><span class="line"></span><br><span class="line">arr.join(<span class="string">&#x27;-&#x27;</span>)  <span class="comment">// 将元素拼接为一个字符串，&#x27;x-b-c&#x27;</span></span><br><span class="line">arr.join(<span class="string">&#x27;&#x27;</span>)    <span class="comment">// &#x27;xbc&#x27;</span></span><br><span class="line">arr.join()  <span class="comment">// &#x27;x,b,c&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="遍历数组"><a href="#遍历数组" class="headerlink" title="遍历数组"></a>遍历数组</h3><p>有几种方法可以遍历数组元素。其中两个最重要的是<code>forEach</code>和<code>map</code>。</p>
<p><code>forEach</code>遍历整个数组，并将当前元素和它的索引传递给一个函数：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">[ <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span> ].forEach(<span class="function"><span class="keyword">function</span> (<span class="params">elem, index</span>) </span>&#123;  <span class="comment">// (*)</span></span><br><span class="line">    <span class="built_in">console</span>.log(index + <span class="string">&#x27;. &#x27;</span> + elem);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>上面代码的输出</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="number">0.</span> a</span><br><span class="line"><span class="number">1.</span> b</span><br><span class="line"><span class="number">2.</span> c</span><br></pre></td></tr></table></figure>

<p>注意<code>（*）</code>行的函数参数是可省略的。例如：它可以只有一个参数<code>elem</code>。</p>
<p><code>map</code>创建一个新数组，通过给每个存在数组元素应用一个函数：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].map(<span class="function"><span class="keyword">function</span> (<span class="params">x</span>) </span>&#123; </span><br><span class="line">    <span class="keyword">return</span> x*x </span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// [ 1, 4, 9 ]</span></span><br></pre></td></tr></table></figure>

<h3 id="深入阅读-4"><a href="#深入阅读-4" class="headerlink" title="深入阅读"></a>深入阅读</h3><ul>
<li><a href="http://yanhaijing.com/javascript/2014/01/17/fun-with-javascript-native-array-functions">有趣的javascript原生数组函数</a></li>
</ul>
<h2 id="十五、正则表达式"><a href="#十五、正则表达式" class="headerlink" title="十五、正则表达式"></a>十五、正则表达式</h2><p><code>JavaScript</code>内建支持正则表达式。他们被双斜线分隔：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">/^abc$/</span><br><span class="line">/[A-Za-z0-<span class="number">9</span>]+/</span><br></pre></td></tr></table></figure>

<h3 id="方法-test-：测试是否匹配"><a href="#方法-test-：测试是否匹配" class="headerlink" title="方法 test()：测试是否匹配"></a>方法 test()：测试是否匹配</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">/^a+b+$/.test(<span class="string">&#x27;aaab&#x27;</span>)   <span class="comment">// true</span></span><br><span class="line">/^a+b+$/.test(<span class="string">&#x27;aaa&#x27;</span>)    <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h3 id="方法-exec-：匹配和捕获组"><a href="#方法-exec-：匹配和捕获组" class="headerlink" title="方法 exec()：匹配和捕获组"></a>方法 exec()：匹配和捕获组</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">/a(b+)a/.exec(<span class="string">&#x27;_abbba_aba_&#x27;</span>)    <span class="comment">// [ &#x27;abbba&#x27;, &#x27;bbb&#x27; ]</span></span><br></pre></td></tr></table></figure>

<p>返回的数组第一项（索引为0）是完整匹配，捕获的第一个分组在第二项（索引为1），等。有一种方法可以反复调用获取所有匹配。</p>
<h3 id="方法-replace-：搜索并替换"><a href="#方法-replace-：搜索并替换" class="headerlink" title="方法 replace()：搜索并替换"></a>方法 replace()：搜索并替换</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="string">&#x27;&lt;a&gt; &lt;bbb&gt;&#x27;</span>.replace(<span class="regexp">/&lt;(.*?)&gt;/g</span>, <span class="string">&#x27;[$1]&#x27;</span>) <span class="comment">// &#x27;[a] [bbb]&#x27;</span></span><br></pre></td></tr></table></figure>

<p><code>replace</code>的第一个参数必须是正则表达式，并且开启全局搜索（<code>/g</code>标记），否则仅第一个匹配项会被替换。有一种方法使用一个函数来计算替换项。</p>
<h2 id="十六、数学"><a href="#十六、数学" class="headerlink" title="十六、数学"></a>十六、数学</h2><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math">Math</a>是一个有算数功能的对象。例如：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Math</span>.abs(-<span class="number">2</span>) <span class="comment">// 2</span></span><br><span class="line"><span class="built_in">Math</span>.pow(<span class="number">3</span>, <span class="number">2</span>) <span class="comment">// 3^2 = 9</span></span><br><span class="line"><span class="built_in">Math</span>.max(<span class="number">2</span>, -<span class="number">1</span>, <span class="number">5</span>) <span class="comment">//5</span></span><br><span class="line"><span class="built_in">Math</span>.round(<span class="number">1.9</span>) <span class="comment">// 2</span></span><br><span class="line"><span class="built_in">Math</span>.cos(<span class="built_in">Math</span>.PI)  <span class="comment">// 预定义常量π，-1</span></span><br></pre></td></tr></table></figure>

<h2 id="十七、标准库的其他功能"><a href="#十七、标准库的其他功能" class="headerlink" title="十七、标准库的其他功能"></a>十七、标准库的其他功能</h2><p><code>JavaScript</code>标准库相对简单，但有很多其他东西你可以使用：</p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>：日期构造函数，主要功能有转换和创建日期字符串，访问日期组成部分（年，小时等）。<br><a href="http://www.2ality.com/2011/08/json-api.html">JSON</a>：一个对象，功能是转换和生成<code>JSON</code>数据。<br><a href="https://developer.mozilla.org/en-US/docs/Web/API/console">console.*</a>方法：浏览器的具体方法，不是语言成分的部分，但他们也可以在<a href="https://nodejs.org/">Node.js</a>中工作。</p>
<h2 id="十八、下一步学什么？"><a href="#十八、下一步学什么？" class="headerlink" title="十八、下一步学什么？"></a>十八、下一步学什么？</h2><p>在你学会了这篇文章的基础教程后，你可以转到大部分章节末尾提到的高级教程。此外，我建议你看下面的资源：</p>
<ul>
<li>Style guides: I have written <a href="http://www.2ality.com/2013/07/meta-style-guide.html">a guide to style guides</a></li>
<li><a href="http://underscorejs.org/">Underscore.js</a>: 一个弥补JavaScript标准库缺少的功能的库</li>
<li><a href="http://jsbooks.revolunet.com/">JSbooks – free JavaScript books</a></li>
<li><a href="http://uptodate.frontendrescue.org/">Frontend rescue: how to keep up to date on frontend technologies</a></li>
<li><a href="http://yanhaijing.com/">http://yanhaijing.com</a> 当然还有我的博客也非常不错哦</li>
<li><a href="http://yanhaijing.com/es5">http://yanhaijing.com/es5</a> 如果你想成为高手，我建议阅读<code>ecmascript</code>规范</li>
<li><a href="http://yanhaijing.com/javascript/2013/12/11/24-JavaScript-best-practices-for-beginners">给javascript初学者的24条最佳实践</a></li>
<li><a href="http://yanhaijing.com/javascript/2014/04/23/seven-javascript-quirks-i-wish-id-known-about">我希望我知道的七个JavaScript技巧</a></li>
</ul>
<p>参考自原文：<a href="http://www.2ality.com/2013/06/basic-javascript.html">http://www.2ality.com/2013/06/basic-javascript.html</a><br>参考自译文：<a href="http://yanhaijing.com/basejs/">http://yanhaijing.com/basejs/</a></p>
]]></content>
      <categories>
        <category>Web前端</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
</search>
